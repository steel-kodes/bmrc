<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Mills Dashboard</title>
        <meta charset="UTF-8">
        <meta http-equiv="refresh" content="300">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <script src="js/jquery_min.js"></script>
       <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" ></script> -->
        <script src="js/popper_min.js"></script>
        <script src="js/bootstrap_min.js"></script> 
        <script type="text/javascript" src="js/bootstrap_datepicker_min.js"></script>
        
        
        <!--  <link rel="stylesheet" href="css/bootstrap.css"/>  -->
        <link rel="stylesheet" href="css/myStyles.css"/> 
        <link rel="stylesheet" href="css/bootstrap_4.css"/>
        <link rel="stylesheet" href="css/bootstrap_3_3_6.css"/>
        <link rel="stylesheet" href="css/loader.css">  
        <link rel="stylesheet" href="css/spinner.css">  
        <!-- <script src="js/jquery_min.js"></script> 
        <script src="js/jquery_1.12.0.js"></script> -->
        
        
      
        <script src="js/chart_js_2.9.4.js" > </script>
        <script src="js/chart_js_plugin_2.2.0.js" > </script>
        <script src="js/chartJS_plugins_pie_percent.js" > </script>
     
        <!--
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script> 
            <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
            <script src="https://cdn.jsdelivr.net/gh/emn178/chartjs-plugin-labels/src/chartjs-plugin-labels.js"></script>
        -->

          
        <script src="js/crypto-js.min.js"></script>
        <script src="js/sha256.min.js"></script>

        <script>
            
            var users_obj = {};
            var message_obj = {};
            var users_list = [];
            var session_obj = {};
            var modal_obj = {};
            // lmmm details
            function lmmm_production()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_lmmm_production");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function lmmm_energy()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_lmmm_energy");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function lmmm_dispatch()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_lmmm_dispatch");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function lmmm_delay()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_lmmm_delay");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function lmmm_collapse()
            {
                //alert('hello boss');
                var table_lmmm_production = document.getElementById("table_lmmm_production");
                var table_lmmm_dispatch = document.getElementById("table_lmmm_dispatch");
                var table_lmmm_energy = document.getElementById("table_lmmm_energy");
                var table_lmmm_delay = document.getElementById("table_lmmm_delay");
                
                for (var i = 0; i < table_lmmm_production.rows.length; i++)
                {
                       table_lmmm_production.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_lmmm_dispatch.rows.length; i++)
                {
                       table_lmmm_dispatch.rows[i].style.display = 'none';
                }
                
                
                for (var i = 0; i < table_lmmm_energy.rows.length; i++)
                {
                       table_lmmm_energy.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_lmmm_delay.rows.length; i++)
                {
                       table_lmmm_delay.rows[i].style.display = 'none';
                }
            }
            
            function lmmm_expand()
            {
                //alert('hello boss');
                var table_lmmm_production = document.getElementById("table_lmmm_production");
                var table_lmmm_dispatch = document.getElementById("table_lmmm_dispatch");
                var table_lmmm_energy = document.getElementById("table_lmmm_energy");
                var table_lmmm_delay = document.getElementById("table_lmmm_delay");
                
                for (var i = 0; i < table_lmmm_production.rows.length; i++)
                {
                       table_lmmm_production.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_lmmm_dispatch.rows.length; i++)
                {
                       table_lmmm_dispatch.rows[i].style.display = '';
                }
                
                
                for (var i = 0; i < table_lmmm_energy.rows.length; i++)
                {
                       table_lmmm_energy.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_lmmm_delay.rows.length; i++)
                {
                       table_lmmm_delay.rows[i].style.display = '';
                }
            }
            
            // wrm1 details
            function wrm1_production()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_wrm1_production");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function wrm1_energy()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_wrm1_energy");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function wrm1_dispatch()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_wrm1_dispatch");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function wrm1_delay()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_wrm1_delay");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function wrm1_collapse()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_wrm1_production");
                var table_2 = document.getElementById("table_wrm1_dispatch");
                var table_3 = document.getElementById("table_wrm1_energy");
                var table_4 = document.getElementById("table_wrm1_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = 'none';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = 'none';
                }
            }
            
            function wrm1_expand()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_wrm1_production");
                var table_2 = document.getElementById("table_wrm1_dispatch");
                var table_3 = document.getElementById("table_wrm1_energy");
                var table_4 = document.getElementById("table_wrm1_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = '';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = '';
                }
            }
            
            
            // mmsm details
            function mmsm_production()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_mmsm_production");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function mmsm_energy()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_mmsm_energy");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function mmsm_dispatch()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_mmsm_dispatch");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function mmsm_delay()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_mmsm_delay");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function mmsm_collapse()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_mmsm_production");
                var table_2 = document.getElementById("table_mmsm_dispatch");
                var table_3 = document.getElementById("table_mmsm_energy");
                var table_4 = document.getElementById("table_mmsm_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = 'none';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = 'none';
                }
            }
            
            function mmsm_expand()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_mmsm_production");
                var table_2 = document.getElementById("table_mmsm_dispatch");
                var table_3 = document.getElementById("table_mmsm_energy");
                var table_4 = document.getElementById("table_mmsm_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = '';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = '';
                }
            }
            
            
            // sbm details
            function sbm_production()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_sbm_production");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function sbm_energy()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_sbm_energy");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function sbm_dispatch()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_sbm_dispatch");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function sbm_delay()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_sbm_delay");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function sbm_collapse()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_sbm_production");
                var table_2 = document.getElementById("table_sbm_dispatch");
                var table_3 = document.getElementById("table_sbm_energy");
                var table_4 = document.getElementById("table_sbm_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = 'none';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = 'none';
                }
            }
            
            function sbm_expand()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_sbm_production");
                var table_2 = document.getElementById("table_sbm_dispatch");
                var table_3 = document.getElementById("table_sbm_energy");
                var table_4 = document.getElementById("table_sbm_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = '';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = '';
                }
            }
            
            // wrm2 details
            function wrm2_production()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_wrm2_production");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function wrm2_energy()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_wrm2_energy");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function wrm2_dispatch()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_wrm2_dispatch");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function wrm2_delay()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_wrm2_delay");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function wrm2_collapse()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_wrm2_production");
                var table_2 = document.getElementById("table_wrm2_dispatch");
                var table_3 = document.getElementById("table_wrm2_energy");
                var table_4 = document.getElementById("table_wrm2_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = 'none';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = 'none';
                }
            }
            
            function wrm2_expand()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_wrm2_production");
                var table_2 = document.getElementById("table_wrm2_dispatch");
                var table_3 = document.getElementById("table_wrm2_energy");
                var table_4 = document.getElementById("table_wrm2_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = '';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = '';
                }
            }
            
            // stm details
            function stm_production()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_stm_production");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function stm_energy()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_stm_energy");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function stm_dispatch()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_stm_dispatch");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }            
            
            function stm_delay()
            {
                //alert('hello boss');
                
                var table = document.getElementById("table_stm_delay");
                var no_of_rows = table.rows.length;
                //alert(no_of_rows);
                var check_status = table.rows[1].style.display; 
                //alert(check_status);
                
                var bool_status = false;
                
                if(check_status  == 'none')
                {
                    bool_status = false;
                }
                else
                {
                    bool_status = true;
                }
                
                
                for (var i = 0; i< no_of_rows; i++)
                {
                   
                   if(bool_status == true)
                   {
                       table.rows[i].style.display = 'none';
                   }
                   else
                   {
                       table.rows[i].style.display = '';
                   }
                   
                }
            }
            
            function stm_collapse()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_stm_production");
                var table_2 = document.getElementById("table_stm_dispatch");
                var table_3 = document.getElementById("table_stm_energy");
                var table_4 = document.getElementById("table_stm_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = 'none';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = 'none';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = 'none';
                }
            }
            
            function stm_expand()
            {
                //alert('hello boss');
                var table_1 = document.getElementById("table_stm_production");
                var table_2 = document.getElementById("table_stm_dispatch");
                var table_3 = document.getElementById("table_stm_energy");
                var table_4 = document.getElementById("table_stm_delay");
                
                for (var i = 0; i < table_1.rows.length; i++)
                {
                       table_1.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_2.rows.length; i++)
                {
                       table_2.rows[i].style.display = '';
                }
                
                
                for (var i = 0; i < table_3.rows.length; i++)
                {
                       table_3.rows[i].style.display = '';
                }
                
                for (var i = 0; i < table_4.rows.length; i++)
                {
                       table_4.rows[i].style.display = '';
                }
            }
            
            function get_Mills_Data_1()
            {
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                //document.getElementById("label_date").innerHTML = d.toDateString();
                //document.getElementById("label_date").innerHTML = d.toUTCString();
                //document.getElementById("label_date").innerHTML = d.toString();
                
                document.getElementById("label_date").innerHTML = curr_date;
                document.getElementById("label_power").innerHTML = "Imported Power: 180MW";
                
                $(function () 
                {
                    $('[data-toggle="tooltip"]').tooltip()
                })
                
                
                let ctx = document.getElementById("myChart_prod_summary").getContext("2d");
                let myChart = new Chart(ctx, {
                    type: "line",
                    
                    options: 
                    {
                        responsive: true,
                       
                        legend: 
                        {
                            display: false,
                            position: 'bottom',
                        },
                        hover: 
                        {
                            mode: 'label'
                        },
                       
                        scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true,
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: 500
                                        //beginAtZero: true,
                                        //steps: 2,
                                        //stepValue: 100,
                                        //max: 400
                                    }
                                }]
                        }
                    },    
                    data: {
                        
                        labels: [
                            "lmmm", 
                            "mmsm",
                            "wrm1",
                            "wrm2",
                            "sbm",
                            "stm",
                            
                        ], 
                       
                        
                        datasets: [
                            {
                                label: "",
                                data: [270, 200, 330, 170, 260, 300],
                                backgroundColor: "rgba(153,205,1,0.6)",
                            }
                           
                        ],
                        
                    },
                });
                
                
                var xValues = ["lmmm", "mmsm", "wrm1", "wrm2", "sbm", "stm"];
                var yValues = [110, 149, 144, 224, 215, 67];
                var barColors = ["red", "green","blue","orange","brown", "purple"];
                
                let ctx1 = document.getElementById("myChart_delay_summary").getContext("2d");
                let myChart1 = new Chart(ctx1, {
                    
                type: "bar",
                data: 
                {
                    labels: xValues,
                    datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    textInside: 
                    {
                        text: "Delays",
                        color: 'green',
                        fontSize: 28
                    },
                    scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true,
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: 500
                                        //beginAtZero: true,
                                        //steps: 2,
                                        //stepValue: 100,
                                        //max: 400
                                    }
                                }]
                        }
                }
                
                    
                });
                
                
                
                
            /*    
                var tables = document.getElementsByTagName("table");
                //alert(tables.length);
                
                for(let i=0;i<tables.length; i++)
                {
                    let table = tables[i];
                   
                    for (var k = 0; k < table.rows.length; k++)
                    {
                           table.rows[k].style.display = 'none';
                    }
                }
                
             */   
            
               document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
               document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
               document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
               document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
               document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
               document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
               
               document.getElementById("span_lmmm").style.backgroundColor = "#058407";
               document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
               document.getElementById("span_wrm1").style.backgroundColor = "#058407";
               document.getElementById("span_wrm2").style.backgroundColor = "#058407";
               document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
               document.getElementById("span_stm").style.backgroundColor = "#058407";
            }
            
            function get_Mills_Data_2()
            {
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                const myArray1 = curr_date.split(":");
                let c_date = myArray1[0];
                //alert(c_date);
                
                const myArray2 = c_date.split(" ");
                let my_hour = myArray2[4];
                
                if(my_hour >= 6 && my_hour < 14 )
                {
                    document.getElementById("label_shift").innerHTML = "A";
                }
                else if(my_hour >= 14 && my_hour < 22 )
                {
                    document.getElementById("label_shift").innerHTML = "B";
                }
                else
                {
                    document.getElementById("label_shift").innerHTML = "C";
                }
                
                //document.getElementById("label_date").innerHTML = d.toDateString();
                //document.getElementById("label_date").innerHTML = d.toUTCString();
                //document.getElementById("label_date").innerHTML = d.toString();
                
                document.getElementById("label_date").innerHTML = curr_date;
                document.getElementById("label_power").innerHTML = "Imported Power: 0MW";
                
                $(function () 
                {
                    $('[data-toggle="tooltip"]').tooltip();
                });
                
                //setInterval(() => console.log(new Date().toLocaleTimeString()),1000); 
                setInterval(() => document.getElementById("label_date").innerHTML = (new Date().toString().substring(0, 25)),1000); 
                
                let ctx = document.getElementById("myChart_prod_summary").getContext("2d");
                let myChart_prod = new Chart(ctx, {
                    type: "line",
                    
                    options: 
                    {
                        responsive: true,
                       
                        legend: 
                        {
                            display: false,
                            position: 'bottom'
                        },
                        hover: 
                        {
                            mode: 'label'
                        },
                       
                        scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: 500
                                        //beginAtZero: true,
                                        //steps: 2,
                                        //stepValue: 100,
                                        //max: 400
                                    }
                                }]
                        }
                    },    
                    data: {
                        
                        labels: [
                            "L", 
                            "M",
                            "W1",
                            "W2",
                            "B",
                            "T"
                            
                        ], 
                       
                        
                        datasets: [
                            {
                                label: "",
                                data: [0, 0, 0, 0, 0, 0],
                                backgroundColor: "rgba(153,205,1,0.6)"
                            }
                           
                        ]
                        
                    }
                });
                
                
                //var xValues = ["lmmm", "mmsm", "wrm1", "wrm2", "sbm", "stm"];
                var xValues = ["L", "M", "W1", "W2", "B", "T"];
                var yValues = [0, 0, 0, 0, 0, 0];
                var barColors = ["red", "green","blue","orange","brown", "purple"];
                
                let ctx1 = document.getElementById("myChart_delay_summary").getContext("2d");
                let myChart_delay = new Chart(ctx1, {
                    
                type: "bar",
                data: 
                {
                    labels: xValues,
                    datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    textInside: 
                    {
                        text: "Delays",
                        color: 'green',
                        fontSize: 28
                    },
                    scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: 1500,
                                        //beginAtZero: true,
                                        //steps: 2,
                                        stepValue: 300
                                        //max: 400
                                    }
                                }]
                        }
                }
                
                    
                });
                
                
                
                
            /*    
                var tables = document.getElementsByTagName("table");
                //alert(tables.length);
                
                for(let i=0;i<tables.length; i++)
                {
                    let table = tables[i];
                   
                    for (var k = 0; k < table.rows.length; k++)
                    {
                           table.rows[k].style.display = 'none';
                    }
                }
                
             */   
            
               //document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
               //document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
               //document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
               //document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
               //document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
               
               //document.getElementById("span_lmmm").style.backgroundColor = "#058407";
               //document.getElementById("span_wrm1").style.backgroundColor = "#058407";
               //document.getElementById("span_wrm2").style.backgroundColor = "#058407";
               //document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
               //document.getElementById("span_stm").style.backgroundColor = "#058407";
               
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $(document).ready(function()
                {
                    $.ajax( 
                    {
                           //url : "rest/get_mills_current_data",
                           url : "rest/get_mills_data",
                           //url : "rest/get_mills_prod_data",
                           method : "POST",
                           async: false,
                           //method : "POST",
                           dataType: "json",
                         //  dataType: "application/json; charset=utf-8",
                           contentType: "application/json",
                           success : displayUpdatedStatus,
                           error : function()
                           {
                               alert("could not connected to server !");
                           }
                    }
                    );
                });
            }
            
            function get_Mills_Data_3()
            {
                const modal_data = localStorage.getItem("modal_obj");
                if (typeof modal_data !== 'undefined' && modal_data !== null)
                {
                    //alert('modal not empty');
                    
                    var m_data = modal_data.toString();
                    //alert(m_data);
                    //alert(session_data);
                    m_data = JSON.parse(m_data);
                    //alert(session_data.import_power);
                    //alert(m_data);
                    
                    var bool_notification = m_data.modal_notification;
                    //alert("modal notification: " + bool_notification);
                    
                    var bool_sms = m_data.modal_sms;
                    //alert("modal sms: " + bool_sms);
                    
                    var bool_login = m_data.modal_login;
                    //alert("modal login: " + bool_login);
                    
                    /*var bool_production_m = m_data.modal_production_m;
                    var bool_dispatches_m = m_data.modal_dispatches_m;
                    var bool_delays_m = m_data.modal_delays_m;
                    var bool_energy_m = m_data.modal_energy_m;
                    var bool_production_d = m_data.modal_production_d;
                    var bool_dispatches_d = m_data.modal_dispatches_d;
                    var bool_delays_d = m_data.modal_delays_d;
                    var bool_energy_d = m_data.modal_energy_d;*/
                    
                    //alert('step1');
                    
                    if(bool_sms === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_SMS').modal();
                        }); 
                    }
                    
                    if(bool_notification === true)
                    {
                        //alert('inside notification');
                        jQuery(document).ready(function(e)
                        {
                            //alert('inside ready stmt');
                            jQuery('#myModal_Notification').modal();
                            //alert('modal should be popped');
                        }); 
                    }
                    
                    if(bool_login === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_Login').modal();
                        }); 
                    }
                    
                    if(bool_production_m === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_monthly_production').modal();
                        }); 
                    }
                    
                    if(bool_dispatches_m === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_monthly_dispatches').modal();
                        }); 
                    }
                    
                    if(bool_delays_m === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_monthly_delays').modal();
                        }); 
                    }
                    
                    if(bool_energy_m === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_monthly_energy').modal();
                        }); 
                    }
                    
                    if(bool_production_d === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_production').modal();
                        }); 
                    }
                    
                    if(bool_dispatches_d === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_dispatches').modal();
                        }); 
                    }
                    
                    if(bool_delays_d === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_delays').modal();
                        }); 
                    }
                    
                    if(bool_energy_d === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_energy').modal();
                        }); 
                    }
                }
                else
                {
                   // alert('modal obj is empty');
                }
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                const myArray1 = curr_date.split(":");
                let c_date = myArray1[0];
                //alert(c_date);
                
                const myArray2 = c_date.split(" ");
                let my_hour = myArray2[4];
                
                if(my_hour >= 6 && my_hour < 14 )
                {
                    document.getElementById("label_shift").innerHTML = "A";
                }
                else if(my_hour >= 14 && my_hour < 22 )
                {
                    document.getElementById("label_shift").innerHTML = "B";
                }
                else
                {
                    document.getElementById("label_shift").innerHTML = "C";
                }
                
                //document.getElementById("label_date").innerHTML = d.toDateString();
                //document.getElementById("label_date").innerHTML = d.toUTCString();
                //document.getElementById("label_date").innerHTML = d.toString();
                
                
                const data = localStorage.getItem("session_obj");
                if (typeof data !== 'undefined' && data !== null)
                {
                    var session_data = data.toString();
                    //alert(session_data);
                    session_data = JSON.parse(session_data);
                    //alert(session_data.import_power);
                    
                    var lmmm_profile = session_data.lmmm_profile;
                    var mmsm_profile = session_data.mmsm_profile;
                    var wrm1_profile = session_data.wrm1_profile;
                    var wrm2_profile = session_data.wrm2_profile;
                    var sbm_profile = session_data.sbm_profile;
                    var stm_profile = session_data.stm_profile;
                    
                    var total_prod_month_count = session_data.total_prod_month_count;
                    var total_prod_month_weight = session_data.total_prod_month_weight;
                    
                    var total_dispatch_month_count = session_data.total_dispatch_month_count;
                    var total_dispatch_month_weight = session_data.total_dispatch_month_weight;
                    
                    var total_delay_month_count = session_data.total_delay_month_count;
                    var total_month_power = session_data.total_month_power;
                   
                    var import_power = session_data.import_power;
                    var mmsm_power = session_data.mmsm_power;
                    var wrm1_power = session_data.wrm1_power;
                    var wrm2_power = session_data.wrm2_power;
                    var sbm_power = session_data.sbm_power;
                    var stm_power = session_data.stm_power;
                    
                    var mmsm_delay = session_data.mmsm_delay;
                    var wrm1_delay = session_data.wrm1_delay;
                    var wrm2_delay = session_data.wrm2_delay;
                    var sbm_delay = session_data.sbm_delay;
                    var stm_delay = session_data.stm_delay;
                    
                    var wrm1_l1 = session_data.wrm1_l1;
                    var wrm1_l2 = session_data.wrm1_l2;
                    var wrm1_l3 = session_data.wrm1_l3;
                    var wrm1_l4 = session_data.wrm1_l4;
                    
                    var wrm2_l1 = session_data.wrm2_l1;
                    var wrm2_l2 = session_data.wrm2_l2;
                    
                    var lmmm_prod_shift_count = session_data.lmmm_prod_shift_count;
                    var lmmm_prod_shift_weight = session_data.lmmm_prod_shift_weight;
                    
                    var mmsm_prod_shift_count = session_data.mmsm_prod_shift_count;
                    var mmsm_prod_shift_weight = session_data.mmsm_prod_shift_weight;
                    
                    var wrm1_prod_shift_count = session_data.wrm1_prod_shift_count;
                    var wrm1_prod_shift_weight = session_data.wrm1_prod_shift_weight;
                    
                    var wrm2_prod_shift_count = session_data.wrm2_prod_shift_count;
                    var wrm2_prod_shift_weight = session_data.wrm2_prod_shift_weight;
                    
                    var sbm_prod_shift_count = session_data.sbm_prod_shift_count;
                    var sbm_prod_shift_weight = session_data.sbm_prod_shift_weight;
                    
                    var stm_prod_shift_count = session_data.stm_prod_shift_count;
                    var stm_prod_shift_weight = session_data.stm_prod_shift_weight;
                    
                    var lmmm_dispatch_shift_count = session_data.lmmm_dispatch_shift_count;
                    var lmmm_dispatch_shift_weight = session_data.lmmm_dispatch_shift_weight;
                    
                    var mmsm_dispatch_shift_count = session_data.mmsm_dispatch_shift_count;
                    var mmsm_dispatch_shift_weight = session_data.mmsm_dispatch_shift_weight;
                    
                    var wrm1_dispatch_shift_count = session_data.wrm1_dispatch_shift_count;
                    var wrm1_dispatch_shift_weight = session_data.wrm1_dispatch_shift_weight;
                    
                    var wrm2_dispatch_shift_count = session_data.wrm2_dispatch_shift_count;
                    var wrm2_dispatch_shift_weight = session_data.wrm2_dispatch_shift_weight;
                    
                    var sbm_dispatch_shift_count = session_data.sbm_dispatch_shift_count;
                    var sbm_dispatch_shift_weight = session_data.sbm_dispatch_shift_weight;
                    
                    var stm_dispatch_shift_count = session_data.stm_dispatch_shift_count;
                    var stm_dispatch_shift_weight = session_data.stm_dispatch_shift_weight;
                    
                    var total_prod_weight = session_data.total_prod_weight;
                    var total_dispatch_weight = session_data.total_dispatch_weight;
                    
                    document.getElementById("label_power").innerHTML = "Imported Power: 0MW";
                    var bar = "<span style='color:red';> | </span>";
                    
                    document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                    document.getElementById("td_lmmm_delay").innerHTML = "---";
                    document.getElementById("td_lmmm_energy").innerHTML = "---";
                    document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count + "<br> <span style='color:  #2980b9;font-size:small '> Bundles </span>" ;
                    document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight   ;
                    document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                    document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight ;
                    
                    document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                    document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                    document.getElementById("td_mmsm_energy").innerHTML = mmsm_power;
                    document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                    document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight ;
                    document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                    document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight ;
                    
                    document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                    document.getElementById("td_wrm1_delay").innerHTML = wrm1_l1 + bar + wrm1_l2 + bar + wrm1_l3 + bar + wrm1_l4;
                    document.getElementById("td_wrm1_energy").innerHTML = wrm1_power;
                    document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                    document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight ;
                    document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                    document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight ;
                    
                    document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                    document.getElementById("td_wrm2_delay").innerHTML = wrm2_l1 + bar + wrm2_l2 ;
                    document.getElementById("td_wrm2_energy").innerHTML = wrm2_power;
                    document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                    document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight;
                    document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                    document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight ;
                    
                    document.getElementById("td_sbm_profile").innerHTML = sbm_profile ;
                    document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                    document.getElementById("td_sbm_energy").innerHTML = sbm_power;
                    document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                    document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight;
                    document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                    document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight;
                    
                    document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                    document.getElementById("td_stm_delay").innerHTML = stm_delay;
                    document.getElementById("td_stm_energy").innerHTML = stm_power;
                    document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                    document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_weight ;
                    document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                    document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight;

                    document.getElementById("total_production").innerHTML = "<span style='color: #1abc9c '>" + total_prod_month_count + "</span> <span style='color:red;height:100%'> | </span>" + total_prod_month_weight +"<span style='color:black'>t</span>" ;
                    document.getElementById("total_dispatch").innerHTML = "<span style='color: #1abc9c;  '>" + total_dispatch_month_count + "</span> <span style='color:red;height:100%;fontSize:larger;'> | </span>" + total_dispatch_month_weight +"<span style='color:black'>t</span>" ;
                    document.getElementById("total_delay").innerHTML = total_delay_month_count + " min";
                    document.getElementById("total_energy").innerHTML = total_month_power + " MW";
                    document.getElementById("label_power").innerHTML = "Imported Power: " + import_power + "MW";

                    let ton = "<span style='color:black'>T</span>";
                    document.getElementById("label_total_production").innerHTML = total_prod_weight + ton;
                    document.getElementById("label_total_dispatch").innerHTML = total_dispatch_weight + ton;

                }
                else
                {
                    //document.getElementById("label_power").innerHTML = "Imported Power: 0MW";
                }
                
                document.getElementById("label_date").innerHTML = curr_date;
                
                
                $(function () 
                {
                    $('[data-toggle="tooltip"]').tooltip();
                });
                
                //setInterval(() => console.log(new Date().toLocaleTimeString()),1000); 
                setInterval(() => document.getElementById("label_date").innerHTML = (new Date().toString().substring(0, 25)),1000); 
                
                let ctx = document.getElementById("myChart_prod_summary").getContext("2d");
                let myChart_prod = new Chart(ctx, {
                    type: "line",
                    
                    options: 
                    {
                        responsive: true,
                       
                        legend: 
                        {
                            display: false,
                            position: 'bottom'
                        },
                        hover: 
                        {
                            mode: 'label'
                        },
                       
                        scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: 500
                                        //beginAtZero: true,
                                        //steps: 2,
                                        //stepValue: 100,
                                        //max: 400
                                    }
                                }]
                        }
                    },    
                    data: {
                        
                        labels: [
                            "L", 
                            "M",
                            "W1",
                            "W2",
                            "B",
                            "T"
                            
                        ], 
                       
                        
                        datasets: [
                            {
                                label: "",
                                data: [0, 0, 0, 0, 0, 0],
                                backgroundColor: "rgba(153,205,1,0.6)"
                            }
                           
                        ]
                        
                    }
                });
                
                
                //var xValues = ["lmmm", "mmsm", "wrm1", "wrm2", "sbm", "stm"];
                var xValues = ["L", "M", "W1", "W2", "B", "T"];
                var yValues = [0, 0, 0, 0, 0, 0];
                var barColors = ["red", "green","blue","orange","brown", "purple"];
                
                let ctx1 = document.getElementById("myChart_delay_summary").getContext("2d");
                let myChart_delay = new Chart(ctx1, {
                    
                type: "bar",
                data: 
                {
                    labels: xValues,
                    datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    textInside: 
                    {
                        text: "Delays",
                        color: 'green',
                        fontSize: 28
                    },
                    scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: 1500,
                                        //beginAtZero: true,
                                        //steps: 2,
                                        stepValue: 300
                                        //max: 400
                                    }
                                }]
                        }
                }
                
                    
                });
                
                
                
                
            /*    
                var tables = document.getElementsByTagName("table");
                //alert(tables.length);
                
                for(let i=0;i<tables.length; i++)
                {
                    let table = tables[i];
                   
                    for (var k = 0; k < table.rows.length; k++)
                    {
                           table.rows[k].style.display = 'none';
                    }
                }
                
             */   
            
               //document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
               //document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
               //document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
               //document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
               //document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
               
               //document.getElementById("span_lmmm").style.backgroundColor = "#058407";
               //document.getElementById("span_wrm1").style.backgroundColor = "#058407";
               //document.getElementById("span_wrm2").style.backgroundColor = "#058407";
               //document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
               //document.getElementById("span_stm").style.backgroundColor = "#058407";
               
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $(document).ready(function()
                {
                    $.ajax( 
                    {
                           //url : "rest/get_mills_current_data",
                           //url : "rest/get_mills_prod_data",
                           //url : "rest/get_mills_data",
                           url : "rest/get_mills_db_data",
                           method : "POST",
                           async: false,
                           //method : "POST",
                           dataType: "json",
                         //  dataType: "application/json; charset=utf-8",
                           contentType: "application/json",
                           success : displayUpdatedStatus,
                           error : function()
                           {
                               alert("could not connected to server !");
                           }
                    }
                    );
                });
            }
            
            function get_Mills_Data()
            {
                
                const modal_data = localStorage.getItem("modal_obj");
                if (typeof modal_data !== 'undefined' && modal_data !== null)
                {
                    //alert('modal not empty');
                    
                    var m_data = modal_data.toString();
                    //alert(m_data);
                    //alert(session_data);
                    m_data = JSON.parse(m_data);
                    //alert(session_data.import_power);
                    //alert(m_data);
                    
                    var bool_notification = m_data.modal_notification;
                    //alert("modal notification: " + bool_notification);
                    
                    var bool_sms = m_data.modal_sms;
                    //alert("modal sms: " + bool_sms);
                    
                    var bool_login = m_data.modal_login;
                    //alert("modal login: " + bool_login);
                    
                    /*var bool_production_m = m_data.modal_production_m;
                    var bool_dispatches_m = m_data.modal_dispatches_m;
                    var bool_delays_m = m_data.modal_delays_m;
                    var bool_energy_m = m_data.modal_energy_m;
                    var bool_production_d = m_data.modal_production_d;
                    var bool_dispatches_d = m_data.modal_dispatches_d;
                    var bool_delays_d = m_data.modal_delays_d;
                    var bool_energy_d = m_data.modal_energy_d;*/
                    
                    //alert('step1');
                    
                    if(bool_sms === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_SMS').modal();
                            
                            
                            var table_users = document.getElementById("table_users");                
                            table_users.style.display = "table";


                            var rowCount = table_users.rows.length;
                            for (var x=rowCount-1; x>=0; x--) 
                            {
                                table_users.deleteRow(x);
                            }

                            var row;
                            var cell0, cell1, cell2, cell3, cell4, cell5;
                            var i = 1;

                            var cb_mail = document.getElementById("cb_mail");
                            var table_mail = document.getElementById("table_mail");
                            
                            if(cb_mail.checked)
                            {
                                table_mail.style.display = 'block';
                            }

                            const users_data = localStorage.getItem("users_obj");
                            var u_data = users_data.toString();
                            //alert(u_data);
                            u_data = JSON.parse(u_data);
                    
                            var size = Object.keys(u_data).length;
                            //alert(size);

                            var x = document.createElement("input");
                            x.setAttribute("type", "checkbox");
                            x.setAttribute("name", "cb_users");
                            x.setAttribute("value", "999999");
                            x.setAttribute("id", "cb_" +999999);
                            x.onclick = function () {
                                select_all(this);
                            };

                            row = table_users.insertRow(0);
                            row.style.backgroundColor = '#003F87';                

                            cell0 = row.insertCell(0);                 
                            cell0.appendChild(x);
                            //cell0.style.backgroundColor = "#abcabc";

                            cell1 = row.insertCell(1);                 
                            cell1.innerHTML = "Sl No";
                            cell1.style.color = "#ffffff";

                            cell2 = row.insertCell(2);
                            cell2.innerHTML = "Emp No";
                            cell2.style.color = "#ffffff";

                            cell3 = row.insertCell(3);
                            cell3.innerHTML = "Emp name";
                            cell3.style.color = "#ffffff";

                            cell4 = row.insertCell(4);
                            cell4.innerHTML = "Mobile No";
                            cell4.style.color = "#ffffff";

                            cell5 = row.insertCell(5);
                            cell5.innerHTML = "eMail ID";
                            cell5.style.color = "#ffffff";

                            var emp_no = '';
                            var emp_name = '';
                            var mobile_no  = '';
                            var email = '';

                            for (var key1 in u_data) 
                            {
                                if (u_data.hasOwnProperty(key1))
                                {
                                    var val = u_data[key1];
                                    var response_value = val;

                                    for (var key in response_value)
                                    {
                                        if (response_value.hasOwnProperty(key))
                                        {
                                            if(key === 'emp_no')
                                            {
                                                emp_no = response_value[key];
                                            }
                                            else if(key === 'emp_name')
                                            {
                                                emp_name = response_value[key];
                                            }
                                            else if(key === 'mobile_no')
                                            {
                                                mobile_no = response_value[key];
                                            }
                                            else if(key === 'email_id')
                                            {
                                                email = response_value[key];
                                            }
                                        }
                                    }

                                    row = table_users.insertRow(i);

                                    var xx = document.createElement("INPUT");
                                    xx.setAttribute("type", "checkbox");
                                    xx.setAttribute("name", "cb_users");
                                    xx.setAttribute("value", emp_no);
                                    xx.setAttribute("id", "cb_" + emp_no);
                                    xx.onclick = function () {
                                        select_user(this);
                                    };

                                    cell1 = row.insertCell(0);
                                    cell1.appendChild(xx);

                                    cell1 = row.insertCell(1);
                                    cell1.innerHTML = i;

                                    cell2 = row.insertCell(2);
                                    cell2.innerHTML = emp_no;

                                    cell3 = row.insertCell(3);
                                    cell3.innerHTML = emp_name;

                                    cell4 = row.insertCell(4);
                                    cell4.innerHTML = mobile_no;

                                    cell5 = row.insertCell(5);
                                    cell5.innerHTML = email;

                                    i = i + 1;
                                }
                            }

                        }); 
                    }
                    
                    if(bool_notification === true)
                    {
                        //alert('inside notification');
                        jQuery(document).ready(function(e)
                        {
                            //alert('inside ready stmt');
                            jQuery('#myModal_Notification').modal();
                            //alert('modal should be popped');
                        }); 
                    }
                    
                    if(bool_login === true)
                    {
                        jQuery(document).ready(function(e)
                        {
                            jQuery('#myModal_Login').modal();
                        }); 
                    }
                    
                   
                }
                else
                {
                   // alert('modal obj is empty');
                }
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                const myArray1 = curr_date.split(":");
                let c_date = myArray1[0];
                //alert(c_date);
                
                const myArray2 = c_date.split(" ");
                let my_hour = myArray2[4];
                
                if(my_hour >= 6 && my_hour < 14 )
                {
                    document.getElementById("label_shift").innerHTML = "A";
                }
                else if(my_hour >= 14 && my_hour < 22 )
                {
                    document.getElementById("label_shift").innerHTML = "B";
                }
                else
                {
                    document.getElementById("label_shift").innerHTML = "C";
                }
                
                //document.getElementById("label_date").innerHTML = d.toDateString();
                //document.getElementById("label_date").innerHTML = d.toUTCString();
                //document.getElementById("label_date").innerHTML = d.toString();
                
                
                const data = localStorage.getItem("session_obj");
                if (typeof data !== 'undefined' && data !== null)
                {
                    var session_data = data.toString();
                    //alert(session_data);
                    session_data = JSON.parse(session_data);
                    //alert(session_data.import_power);
                    
                    var lmmm_profile = session_data.lmmm_profile;
                    var mmsm_profile = session_data.mmsm_profile;
                    var wrm1_profile = session_data.wrm1_profile;
                    var wrm2_profile = session_data.wrm2_profile;
                    var sbm_profile = session_data.sbm_profile;
                    var stm_profile = session_data.stm_profile;
                    
                    var total_prod_month_count = session_data.total_prod_month_count;
                    var total_prod_month_weight = session_data.total_prod_month_weight;
                    
                    var total_dispatch_month_count = session_data.total_dispatch_month_count;
                    var total_dispatch_month_weight = session_data.total_dispatch_month_weight;
                    
                    var total_delay_month_count = session_data.total_delay_month_count;
                    var total_month_power = session_data.total_month_power;
                   
                    var import_power = session_data.import_power;
                    var mmsm_power = session_data.mmsm_power;
                    var wrm1_power = session_data.wrm1_power;
                    var wrm2_power = session_data.wrm2_power;
                    var sbm_power = session_data.sbm_power;
                    var stm_power = session_data.stm_power;
                    
                    var mmsm_delay = session_data.mmsm_delay;
                    var wrm1_delay = session_data.wrm1_delay;
                    var wrm2_delay = session_data.wrm2_delay;
                    var sbm_delay = session_data.sbm_delay;
                    var stm_delay = session_data.stm_delay;
                    
                    var wrm1_l1 = session_data.wrm1_l1;
                    var wrm1_l2 = session_data.wrm1_l2;
                    var wrm1_l3 = session_data.wrm1_l3;
                    var wrm1_l4 = session_data.wrm1_l4;
                    
                    var wrm2_l1 = session_data.wrm2_l1;
                    var wrm2_l2 = session_data.wrm2_l2;
                    
                    var lmmm_prod_shift_count = session_data.lmmm_prod_shift_count;
                    var lmmm_prod_shift_weight = session_data.lmmm_prod_shift_weight;
                    
                    var mmsm_prod_shift_count = session_data.mmsm_prod_shift_count;
                    var mmsm_prod_shift_weight = session_data.mmsm_prod_shift_weight;
                    
                    var wrm1_prod_shift_count = session_data.wrm1_prod_shift_count;
                    var wrm1_prod_shift_weight = session_data.wrm1_prod_shift_weight;
                    
                    var wrm2_prod_shift_count = session_data.wrm2_prod_shift_count;
                    var wrm2_prod_shift_weight = session_data.wrm2_prod_shift_weight;
                    
                    var sbm_prod_shift_count = session_data.sbm_prod_shift_count;
                    var sbm_prod_shift_weight = session_data.sbm_prod_shift_weight;
                    
                    var stm_prod_shift_count = session_data.stm_prod_shift_count;
                    var stm_prod_shift_weight = session_data.stm_prod_shift_weight;
                    
                    var lmmm_dispatch_shift_count = session_data.lmmm_dispatch_shift_count;
                    var lmmm_dispatch_shift_weight = session_data.lmmm_dispatch_shift_weight;
                    
                    var mmsm_dispatch_shift_count = session_data.mmsm_dispatch_shift_count;
                    var mmsm_dispatch_shift_weight = session_data.mmsm_dispatch_shift_weight;
                    
                    var wrm1_dispatch_shift_count = session_data.wrm1_dispatch_shift_count;
                    var wrm1_dispatch_shift_weight = session_data.wrm1_dispatch_shift_weight;
                    
                    var wrm2_dispatch_shift_count = session_data.wrm2_dispatch_shift_count;
                    var wrm2_dispatch_shift_weight = session_data.wrm2_dispatch_shift_weight;
                    
                    var sbm_dispatch_shift_count = session_data.sbm_dispatch_shift_count;
                    var sbm_dispatch_shift_weight = session_data.sbm_dispatch_shift_weight;
                    
                    var stm_dispatch_shift_count = session_data.stm_dispatch_shift_count;
                    var stm_dispatch_shift_weight = session_data.stm_dispatch_shift_weight;
                    
                    var total_prod_weight = session_data.total_prod_weight;
                    var total_dispatch_weight = session_data.total_dispatch_weight;
                    
                    document.getElementById("label_power").innerHTML = "Imported Power: 0MW";
                    var bar = "<span style='color:red';> | </span>";
                    
                    document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                    document.getElementById("td_lmmm_delay").innerHTML = "---";
                    document.getElementById("td_lmmm_energy").innerHTML = "---";
                    document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count + "<br> <span style='color:  #2980b9;font-size:small '> Bundles </span>" ;
                    document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight   ;
                    document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                    document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight ;
                    
                    document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                    document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                    document.getElementById("td_mmsm_energy").innerHTML = mmsm_power;
                    document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                    document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight ;
                    document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                    document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight ;
                    
                    document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                    document.getElementById("td_wrm1_delay").innerHTML = wrm1_l1 + bar + wrm1_l2 + bar + wrm1_l3 + bar + wrm1_l4;
                    document.getElementById("td_wrm1_energy").innerHTML = wrm1_power;
                    document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                    document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight ;
                    document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                    document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight ;
                    
                    document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                    document.getElementById("td_wrm2_delay").innerHTML = wrm2_l1 + bar + wrm2_l2 ;
                    document.getElementById("td_wrm2_energy").innerHTML = wrm2_power;
                    document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                    document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight;
                    document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                    document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight ;
                    
                    document.getElementById("td_sbm_profile").innerHTML = sbm_profile ;
                    document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                    document.getElementById("td_sbm_energy").innerHTML = sbm_power;
                    document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                    document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight;
                    document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                    document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight;
                    
                    document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                    document.getElementById("td_stm_delay").innerHTML = stm_delay;
                    document.getElementById("td_stm_energy").innerHTML = stm_power;
                    document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                    document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_weight ;
                    document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                    document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight;

                    document.getElementById("total_production").innerHTML = "<span style='color: #1abc9c '>" + total_prod_month_count + "</span> <span style='color:red;height:100%'> | </span>" + total_prod_month_weight +"<span style='color:black'>t</span>" ;
                    document.getElementById("total_dispatch").innerHTML = "<span style='color: #1abc9c;  '>" + total_dispatch_month_count + "</span> <span style='color:red;height:100%;fontSize:larger;'> | </span>" + total_dispatch_month_weight +"<span style='color:black'>t</span>" ;
                    document.getElementById("total_delay").innerHTML = total_delay_month_count + " min";
                    document.getElementById("total_energy").innerHTML = total_month_power + " MW";
                    document.getElementById("label_power").innerHTML = "Imported Power: " + import_power + "MW";

                    let ton = "<span style='color:black'>T</span>";
                    document.getElementById("label_total_production").innerHTML = total_prod_weight + ton;
                    document.getElementById("label_total_dispatch").innerHTML = total_dispatch_weight + ton;

                    var sms_data = session_data.sms_data;
                    var subject_data = session_data.subject_data;
                    var notification_data = session_data.notification_data;
                    
                    var sms_selected = session_data.sms_selected;
                    var mail_selected = session_data.mail_selected;
                    
                    //alert(sms_data);
                    //if(sms_data !== 'undefined' || sms_data != null || sms_data != '')
                    if(sms_data == 'undefined'|| sms_data == null || sms_data == '')
                    {
                        document.getElementById("tb_sms").value = "";
                    }
                    else
                    {
                        document.getElementById("tb_sms").value = sms_data;
                    }
                    
                    //if(subject_data !== 'undefined' || subject_data != null || subject_data != '')
                    if(subject_data == 'undefined'|| subject_data == null || subject_data == '')
                    {
                        document.getElementById("tb_subject").value = "";
                    }
                    else
                    {
                        document.getElementById("tb_subject").value = subject_data;
                    }
                    
                    
                    
                    //if(notification_data !== 'undefined' || notification_data != null || notification_data!= '')
                    if(notification_data == 'undefined'|| notification_data == null || notification_data == '')
                    {
                        document.getElementById("tb_notification").value = "";
                    }
                    else
                    {
                        document.getElementById("tb_notification").value = notification_data;
                    }
                    
                    
                    if(sms_selected === true)
                    {
                        document.getElementById("cb_sms").checked = true;
                    }
                    else
                    {
                        document.getElementById("cb_sms").checked = false;
                    }
                    
                    if(mail_selected === true)
                    {
                        document.getElementById("table_mail").style.display = 'block';
                        document.getElementById("cb_mail").checked = true;
                    }
                    else
                    {
                        document.getElementById("table_mail").style.display = 'none';
                        document.getElementById("cb_mail").checked = false;
                    }
                }
                else
                {
                    //document.getElementById("label_power").innerHTML = "Imported Power: 0MW";
                }
                
                document.getElementById("label_date").innerHTML = curr_date;
                
                
                $(function () 
                {
                    $('[data-toggle="tooltip"]').tooltip();
                });
                
                //setInterval(() => console.log(new Date().toLocaleTimeString()),1000); 
                setInterval(() => document.getElementById("label_date").innerHTML = (new Date().toString().substring(0, 25)),1000); 
                
                let ctx = document.getElementById("myChart_prod_summary").getContext("2d");
                let myChart_prod = new Chart(ctx, {
                    type: "line",
                    
                    options: 
                    {
                        responsive: true,
                       
                        legend: 
                        {
                            display: false,
                            position: 'bottom'
                        },
                        hover: 
                        {
                            mode: 'label'
                        },
                       
                        scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: 500
                                        //beginAtZero: true,
                                        //steps: 2,
                                        //stepValue: 100,
                                        //max: 400
                                    }
                                }]
                        }
                    },    
                    data: {
                        
                        labels: [
                            "L", 
                            "M",
                            "W1",
                            "W2",
                            "B",
                            "T"
                            
                        ], 
                       
                        
                        datasets: [
                            {
                                label: "",
                                data: [0, 0, 0, 0, 0, 0],
                                backgroundColor: "rgba(153,205,1,0.6)"
                            }
                           
                        ]
                        
                    }
                });
                
                
                //var xValues = ["lmmm", "mmsm", "wrm1", "wrm2", "sbm", "stm"];
                var xValues = ["L", "M", "W1", "W2", "B", "T"];
                var yValues = [0, 0, 0, 0, 0, 0];
                var barColors = ["red", "green","blue","orange","brown", "purple"];
                
                let ctx1 = document.getElementById("myChart_delay_summary").getContext("2d");
                let myChart_delay = new Chart(ctx1, {
                    
                type: "bar",
                data: 
                {
                    labels: xValues,
                    datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    textInside: 
                    {
                        text: "Delays",
                        color: 'green',
                        fontSize: 28
                    },
                    scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: 1500,
                                        //beginAtZero: true,
                                        //steps: 2,
                                        stepValue: 300
                                        //max: 400
                                    }
                                }]
                        }
                }
                
                    
                });
                
                
                
                
            /*    
                var tables = document.getElementsByTagName("table");
                //alert(tables.length);
                
                for(let i=0;i<tables.length; i++)
                {
                    let table = tables[i];
                   
                    for (var k = 0; k < table.rows.length; k++)
                    {
                           table.rows[k].style.display = 'none';
                    }
                }
                
             */   
            
               //document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
               //document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
               //document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
               //document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
               //document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
               
               //document.getElementById("span_lmmm").style.backgroundColor = "#058407";
               //document.getElementById("span_wrm1").style.backgroundColor = "#058407";
               //document.getElementById("span_wrm2").style.backgroundColor = "#058407";
               //document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
               //document.getElementById("span_stm").style.backgroundColor = "#058407";
               
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $(document).ready(function()
                {
                    $.ajax( 
                    {
                           //url : "rest/get_mills_current_data",
                           //url : "rest/get_mills_prod_data",
                           //url : "rest/get_mills_data",
                           //url : "rest/get_mills_db_data",
                           url : "rest/get_mills_data",
                           method : "POST",
                           async: false,
                           //method : "POST",
                           dataType: "json",
                         //  dataType: "application/json; charset=utf-8",
                           contentType: "application/json",
                           success : displayUpdatedStatus,
                           error : function()
                           {
                               alert("could not connected to server !");
                           }
                    }
                    );
                });
            }
            
            function displayUpdatedStatus1(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                  //  alert("status: " + status);
                    if(status === "SUCCESS")
                    {
                        var mills_data = returnedData['mills_data'];
                        
                        var lmmm_prod = 0 ;
                        var lmmm_profile;
                        var lmmm_delay = 0 ;
                        var lmmm_dispatch =0 ;
                        
                        var mmsm_prod = 0  ;
                        var mmsm_profile;
                        var mmsm_delay = 0;
                        var mmsm_dispatch = 0;
                        
                        var wrm1_prod = 0;
                        var wrm1_profile;
                        var wrm1_delay = 0;
                        var wrm1_dispatch = 0;
                        
                        var wrm2_prod = 0;
                        var wrm2_profile;
                        var wrm2_delay = 0;
                        var wrm2_dispatch = 0;
                        
                        var sbm_prod = 0;
                        var sbm_profile;
                        var sbm_delay = 0;
                        var sbm_dispatch = 0;
                        
                        var stm_prod = 0;
                        var stm_profile;
                        var stm_delay = 0;
                        var stm_dispatch = 0;
                        
                        Object.keys(mills_data).forEach(key => 
                        {
                            if(key === 'lmmm_prod')
                            {
                                lmmm_prod =  mills_data[key];
                            }
                            else if(key === 'lmmm_profile')
                            {
                                lmmm_profile =  mills_data[key];
                            }
                            else if(key === 'lmmm_delay')
                            {
                                lmmm_delay =  mills_data[key];
                            }
                            else if(key === 'lmmm_dispatch')
                            {
                                lmmm_dispatch =  mills_data[key];
                            }
                            
                            else if(key === 'mmsm_prod')
                            {
                                mmsm_prod =  mills_data[key];
                            }
                            else if(key === 'mmsm_profile')
                            {
                                mmsm_profile =  mills_data[key];
                            }
                            else if(key === 'mmsm_delay')
                            {
                                mmsm_delay =  mills_data[key];
                            }
                            else if(key === 'mmsm_dispatch')
                            {
                                mmsm_dispatch =  mills_data[key];
                            }
                            
                            else if(key === 'wrm1_prod')
                            {
                                wrm1_prod =  mills_data[key];
                            }
                            else if(key === 'wrm1_profile')
                            {
                                wrm1_profile =  mills_data[key];
                            }
                            else if(key === 'wrm1_delay')
                            {
                                wrm1_delay =  mills_data[key];
                            }
                            else if(key === 'wrm1_dispatch')
                            {
                                wrm1_dispatch =  mills_data[key];
                            }
                            
                            else if(key === 'wrm2_prod')
                            {
                                wrm2_prod =  mills_data[key];
                            }
                            else if(key === 'wrm2_profile')
                            {
                                wrm2_profile =  mills_data[key];
                            }
                            else if(key === 'wrm2_delay')
                            {
                                wrm2_delay =  mills_data[key];
                            }
                            else if(key === 'wrm2_dispatch')
                            {
                                wrm2_dispatch =  mills_data[key];
                            }
                            
                            else if(key === 'sbm_prod')
                            {
                                sbm_prod =  mills_data[key];
                            }
                            else if(key === 'sbm_profile')
                            {
                                sbm_profile =  mills_data[key];
                            }
                            else if(key === 'sbm_delay')
                            {
                                sbm_delay =  mills_data[key];
                            }
                            else if(key === 'sbm_dispatch')
                            {
                                sbm_dispatch =  mills_data[key];
                            }
                            
                            else if(key === 'stm_prod')
                            {
                                stm_prod =  mills_data[key];
                            }
                            else if(key === 'stm_profile')
                            {
                                stm_profile =  mills_data[key];
                            }
                            else if(key === 'stm_delay')
                            {
                                stm_delay =  mills_data[key];
                            }
                            else if(key === 'stm_dispatch')
                            {
                                stm_dispatch =  mills_data[key];
                            }
                            
                        });
                      
                        
                        if(lmmm_profile === 'NA')
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  ""   ;
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch + "T";
                           
                           
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_lmmm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = "<b style='color:blue;borderRight:1px solid gray; padding:10px;'> " +  lmmm_profile + " </b> " + lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch + "T";
                           
                            
                           
                        
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
                            document.getElementById("span_lmmm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        
                        if(mmsm_profile === 'NA')
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod + "T";
                            
                            document.getElementById("td_mmsm_profile").innerHTML = "";
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                           
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                     
                        }
                        else
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = "<b style='color:maroon'>" +  mmsm_profile + " </b> " + mmsm_prod + "T";
                            document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                            
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                        
                      
                      
                      
                        if(wrm1_profile === 'NA')
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod + "T";
                             
                            document.getElementById("td_wrm1_profile").innerHTML = "";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                           
                           
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm1").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = "<b style='color:blue'>[ " +  wrm1_profile + " ]</b> " + wrm1_prod + "T";
                            document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                           
                        
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm1").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                       
                        if(wrm2_profile === 'NA')
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = "" ;
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                           
                           
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm2").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = "<b style='color:maroon'>[ " +  wrm2_profile + " ]</b> " + wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                           
                        
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm2").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                        
                        
                        if(sbm_profile === 'NA')
                        {
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = "";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                           
                           
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
                      
                            
                        }
                        else
                        {
                            //document.getElementById("td_sbm_production").innerHTML = "<b style='color:blue'>[ " +  sbm_profile + " ]</b> " + sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = sbm_profile;
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                           
                        
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#058407";
                            document.getElementById("span_sbm").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                      
                        if(stm_profile === 'NA')
                        {
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   "";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_stm_production").innerHTML = "<b style='color:maroon'>[ " +  stm_profile + " ]</b> " + stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                            document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                           
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                       
                       
                        document.getElementById("total_production").innerHTML = "150 / 320T";
                        document.getElementById("total_delay").innerHTML = " 167 min";
                        document.getElementById("total_dispatch").innerHTML = "850 / 620T";
                        document.getElementById("total_energy").innerHTML = " 320";
                          
                        
                    }
                    else if(status === "EXCEPTION")
                    {
                        var mills_data = returnedData['mills_data'];
                        
                        var mmsm_prod ;
                        var mmsm_profile;
                        var mmsm_delay ;
                        
                        var stm_prod ;
                        var stm_profile;
                        var stm_delay ;
                        
                        
                        Object.keys(mills_data).forEach(key => 
                        {
                            if(key === 'mmsm_prod')
                            {
                                mmsm_prod =  mills_data[key];
                            }
                            else if(key === 'mmsm_profile')
                            {
                                mmsm_profile =  mills_data[key];
                            }
                            else if(key === 'mmsm_delay')
                            {
                                mmsm_delay =  mills_data[key];
                            }
                            else if(key === 'stm_prod')
                            {
                                stm_prod =  mills_data[key];
                            }
                            else if(key === 'stm_profile')
                            {
                                stm_profile =  mills_data[key];
                            }
                            else if(key === 'stm_delay')
                            {
                                stm_delay =  mills_data[key];
                            }
                            
                        });

                        if(mmsm_profile === 'NA')
                        {
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                           
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_profile + " / " + mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                        
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                      
                      
                        if(stm_profile === 'NA')
                        {
                            document.getElementById("td_stm_production").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = mmsm_delay;
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            document.getElementById("td_stm_production").innerHTML = mmsm_profile + " / " + mmsm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = mmsm_delay;
                        
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        var error_msg = returnedData['error_msg'];
                        alert("Failed to fetch data !\n " + "Exception: " + error_msg);
                    }
                    else if(status === "NO_DATA")
                    {
                        alert("NO Data !\n ");
                    }



            }

            function displayUpdatedStatus2(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    alert("status: " + status);
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        //var mills_data = returnedData['mills_data'];
                        var dispatch_data = returnedData['dispatch_data'];
                        
                        var lmmm_prod = 0 ;
                        var lmmm_profile;
                        var lmmm_delay = 0 ;
                        var lmmm_dispatch =0 ;
                        
                        var mmsm_prod = 0  ;
                        var mmsm_profile;
                        var mmsm_delay = 0;
                        var mmsm_dispatch = 0;
                        
                        var wrm1_prod = 0;
                        var wrm1_profile;
                        var wrm1_delay = 0;
                        var wrm1_dispatch = 0;
                        
                        var wrm2_prod = 0;
                        var wrm2_profile;
                        var wrm2_delay = 0;
                        var wrm2_dispatch = 0;
                        
                        var sbm_prod = 0;
                        var sbm_profile;
                        var sbm_delay = 0;
                        var sbm_dispatch = 0;
                        
                        var stm_prod = 0;
                        var stm_profile;
                        var stm_delay = 0;
                        var stm_dispatch = 0;
                        
                        var lmmm_dispatch_shift_count = 0;
                        var mmsm_dispatch_shift_count = 0;
                        var wrm1_dispatch_shift_count = 0;
                        var wrm2_dispatch_shift_count = 0;
                        var sbm_dispatch_shift_count = 0;
                        var stm_dispatch_shift_count = 0;
                        
                        var lmmm_dispatch_total_count = 0;
                        var mmsm_dispatch_total_count = 0;
                        var wrm1_dispatch_total_count = 0;
                        var wrm2_dispatch_total_count = 0;
                        var sbm_dispatch_total_count = 0;
                        var stm_dispatch_total_count = 0;
                        
                        var lmmm_dispatch_shift_weight = 0;
                        var mmsm_dispatch_shift_weight = 0;
                        var wrm1_dispatch_shift_weight = 0;
                        var wrm2_dispatch_shift_weight = 0;
                        var sbm_dispatch_shift_weight = 0;
                        var stm_dispatch_shift_weight = 0;
                        
                        var lmmm_dispatch_total_weight = 0;
                        var mmsm_dispatch_total_weight = 0;
                        var wrm1_dispatch_total_weight = 0;
                        var wrm2_dispatch_total_weight = 0;
                        var sbm_dispatch_total_weight = 0;
                        var stm_dispatch_total_weight = 0;
                        
                        var total_dispatch_count = 0;
                        var total_dispatch_weight = 0;
                        
                        Object.keys(dispatch_data).forEach(key => 
                        {
                            if(key === 'lmmm_dispatch_shift_count')
                            {
                                lmmm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_count')
                            {
                                mmsm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_shift_count')
                            {
                                wrm1_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_count')
                            {
                                wrm2_dispatch_shift_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_shift_count')
                            {
                                sbm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_count')
                            {
                                stm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_shift_weight')
                            {
                                lmmm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_weight')
                            {
                                mmsm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_shift_weight')
                            {
                                wrm1_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_weight')
                            {
                                wrm2_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_shift_weight')
                            {
                                sbm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_weight')
                            {
                                stm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'lmmm_dispatch_total_count')
                            {
                                lmmm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_count')
                            {
                                mmsm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_total_count')
                            {
                                wrm1_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_count')
                            {
                                wrm2_dispatch_total_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_total_count')
                            {
                                sbm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_count')
                            {
                                stm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_total_weight')
                            {
                                lmmm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_weight')
                            {
                                mmsm_dispatch_total_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_total_weight')
                            {
                                wrm1_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_weight')
                            {
                                wrm2_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_total_weight')
                            {
                                sbm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_weight')
                            {
                                stm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_count')
                            {
                                total_dispatch_count =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_weight')
                            {
                                total_dispatch_weight =  dispatch_data[key];
                            }
                            
                        });
                        
                      
                      
                        
                        if(lmmm_profile === 'NA')
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  ""   ;
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                         
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_lmmm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = "<b style='color:blue;borderRight:1px solid gray; padding:10px;'> " +  lmmm_profile + " </b> " + lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                            
                            //document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch;
                            //document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch + "T";
                           
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight + "T";
                           
                           
                        
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
                            document.getElementById("span_lmmm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        
                        if(mmsm_profile === 'NA')
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod + "T";
                            
                            document.getElementById("td_mmsm_profile").innerHTML = "";
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                           
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                     
                        }
                        else
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = "<b style='color:maroon'>" +  mmsm_profile + " </b> " + mmsm_prod + "T";
                            document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                            
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight + "T";
                          
                            
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                        
                      
                      
                      
                        if(wrm1_profile === 'NA')
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod + "T";
                             
                            document.getElementById("td_wrm1_profile").innerHTML = "";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                           
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm1").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = "<b style='color:blue'>[ " +  wrm1_profile + " ]</b> " + wrm1_prod + "T";
                            document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight + "T";
                          
                        
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm1").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                       
                        if(wrm2_profile === 'NA')
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = "" ;
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm2").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = "<b style='color:maroon'>[ " +  wrm2_profile + " ]</b> " + wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight + "T";
                          
                        
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm2").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                        
                        
                        if(sbm_profile === 'NA')
                        {
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = "";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
                      
                            
                        }
                        else
                        {
                            //document.getElementById("td_sbm_production").innerHTML = "<b style='color:blue'>[ " +  sbm_profile + " ]</b> " + sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = sbm_profile;
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight + "T";
                           
                           
                        
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#058407";
                            document.getElementById("span_sbm").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                      
                        if(stm_profile === 'NA')
                        {
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   "";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_stm_production").innerHTML = "<b style='color:maroon'>[ " +  stm_profile + " ]</b> " + stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                            document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight + "T";
                           
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                       
                       
                        document.getElementById("total_production").innerHTML = "150 / 320T";
                        document.getElementById("total_delay").innerHTML = " 167 min";
                        document.getElementById("total_dispatch").innerHTML = "850 / 620T";
                        document.getElementById("total_energy").innerHTML = " 320";
                          
                        document.getElementById("total_dispatch").innerHTML = "<span style='color: #1abc9c '>" + total_dispatch_count + "</span> <span style='color:red;height:100%'> | </span>" + total_dispatch_weight +"<span style='color:black'>t</span>" ;
                        
                    }
                    else if(status === "EXCEPTION")
                    {
                        var mills_data = returnedData['mills_data'];
                        
                        var mmsm_prod ;
                        var mmsm_profile;
                        var mmsm_delay ;
                        
                        var stm_prod ;
                        var stm_profile;
                        var stm_delay ;
                        
                        
                        Object.keys(mills_data).forEach(key => 
                        {
                            if(key === 'mmsm_prod')
                            {
                                mmsm_prod =  mills_data[key];
                            }
                            else if(key === 'mmsm_profile')
                            {
                                mmsm_profile =  mills_data[key];
                            }
                            else if(key === 'mmsm_delay')
                            {
                                mmsm_delay =  mills_data[key];
                            }
                            else if(key === 'stm_prod')
                            {
                                stm_prod =  mills_data[key];
                            }
                            else if(key === 'stm_profile')
                            {
                                stm_profile =  mills_data[key];
                            }
                            else if(key === 'stm_delay')
                            {
                                stm_delay =  mills_data[key];
                            }
                            
                        });

                        if(mmsm_profile === 'NA')
                        {
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                           
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_profile + " / " + mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                        
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                      
                      
                        if(stm_profile === 'NA')
                        {
                            document.getElementById("td_stm_production").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = mmsm_delay;
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            document.getElementById("td_stm_production").innerHTML = mmsm_profile + " / " + mmsm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = mmsm_delay;
                        
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        var error_msg = returnedData['error_msg'];
                        alert("Failed to fetch data !\n " + "Exception: " + error_msg);
                    }
                    else if(status === "NO_DATA")
                    {
                        alert("NO Data !\n ");
                    }



            }
            
            function displayUpdatedStatus3(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    alert("status: " + status);
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        //var mills_data = returnedData['mills_data'];
                        var dispatch_data = returnedData['dispatch_data'];
                        var prod_data = returnedData['prod_data'];
                        
                        var lmmm_prod = 0 ;
                        var lmmm_profile = 'NA';
                        var lmmm_delay = 0 ;
                        var lmmm_dispatch =0 ;
                        
                        var mmsm_prod = 0  ;
                        var mmsm_profile = 'NA';
                        var mmsm_delay = 0;
                        var mmsm_dispatch = 0;
                        
                        var wrm1_prod = 0;
                        var wrm1_profile = 'NA';
                        var wrm1_delay = 0;
                        var wrm1_dispatch = 0;
                        
                        var wrm2_prod = 0;
                        var wrm2_profile = 'NA';
                        var wrm2_delay = 0;
                        var wrm2_dispatch = 0;
                        
                        var sbm_prod = 0;
                        var sbm_profile= 'NA';
                        var sbm_delay = 0;
                        var sbm_dispatch = 0;
                        
                        var stm_prod = 0;
                        var stm_profile = 'NA';
                        var stm_delay = 0;
                        var stm_dispatch = 0;
                        
                        var lmmm_dispatch_shift_count = 0;
                        var mmsm_dispatch_shift_count = 0;
                        var wrm1_dispatch_shift_count = 0;
                        var wrm2_dispatch_shift_count = 0;
                        var sbm_dispatch_shift_count = 0;
                        var stm_dispatch_shift_count = 0;
                        
                        var lmmm_dispatch_total_count = 0;
                        var mmsm_dispatch_total_count = 0;
                        var wrm1_dispatch_total_count = 0;
                        var wrm2_dispatch_total_count = 0;
                        var sbm_dispatch_total_count = 0;
                        var stm_dispatch_total_count = 0;
                        
                        var lmmm_dispatch_shift_weight = 0;
                        var mmsm_dispatch_shift_weight = 0;
                        var wrm1_dispatch_shift_weight = 0;
                        var wrm2_dispatch_shift_weight = 0;
                        var sbm_dispatch_shift_weight = 0;
                        var stm_dispatch_shift_weight = 0;
                        
                        var lmmm_dispatch_total_weight = 0;
                        var mmsm_dispatch_total_weight = 0;
                        var wrm1_dispatch_total_weight = 0;
                        var wrm2_dispatch_total_weight = 0;
                        var sbm_dispatch_total_weight = 0;
                        var stm_dispatch_total_weight = 0;
                        
                        var total_dispatch_count = 0;
                        var total_dispatch_weight = 0;
                        
                        var lmmm_prod_shift_count = 0;
                        var mmsm_prod_shift_count = 0;
                        var wrm1_prod_shift_count = 0;
                        var wrm2_prod_shift_count = 0;
                        var sbm_prod_shift_count = 0;
                        var stm_prod_shift_count = 0;
                        
                        var lmmm_prod_total_count = 0;
                        var mmsm_prod_total_count = 0;
                        var wrm1_prod_total_count = 0;
                        var wrm2_prod_total_count = 0;
                        var sbm_prod_total_count = 0;
                        var stm_prod_total_count = 0;
                        
                        var lmmm_prod_shift_weight = 0;
                        var mmsm_prod_shift_weight = 0;
                        var wrm1_prod_shift_weight = 0;
                        var wrm2_prod_shift_weight = 0;
                        var sbm_prod_shift_weight = 0;
                        var stm_prod_shift_weight = 0;
                        
                        var lmmm_prod_total_weight = 0;
                        var mmsm_prod_total_weight = 0;
                        var wrm1_prod_total_weight = 0;
                        var wrm2_prod_total_weight = 0;
                        var sbm_prod_total_weight = 0;
                        var stm_prod_total_weight = 0;
                        
                        var total_prod_count = 0;
                        var total_prod_weight = 0;
                        
                        Object.keys(dispatch_data).forEach(key => 
                        {
                            if(key === 'lmmm_dispatch_shift_count')
                            {
                                lmmm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_count')
                            {
                                mmsm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_shift_count')
                            {
                                wrm1_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_count')
                            {
                                wrm2_dispatch_shift_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_shift_count')
                            {
                                sbm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_count')
                            {
                                stm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_shift_weight')
                            {
                                lmmm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_weight')
                            {
                                mmsm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_shift_weight')
                            {
                                wrm1_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_weight')
                            {
                                wrm2_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_shift_weight')
                            {
                                sbm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_weight')
                            {
                                stm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'lmmm_dispatch_total_count')
                            {
                                lmmm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_count')
                            {
                                mmsm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_total_count')
                            {
                                wrm1_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_count')
                            {
                                wrm2_dispatch_total_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_total_count')
                            {
                                sbm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_count')
                            {
                                stm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_total_weight')
                            {
                                lmmm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_weight')
                            {
                                mmsm_dispatch_total_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_total_weight')
                            {
                                wrm1_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_weight')
                            {
                                wrm2_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_total_weight')
                            {
                                sbm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_weight')
                            {
                                stm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_count')
                            {
                                total_dispatch_count =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_weight')
                            {
                                total_dispatch_weight =  dispatch_data[key];
                            }
                            
                        });
                        
                      
                        Object.keys(prod_data).forEach(key => 
                        {
                            if(key === 'lmmm_prod_shift_count')
                            {
                                lmmm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_count')
                            {
                                mmsm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_shift_count')
                            {
                                wrm1_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_count')
                            {
                                wrm2_prod_shift_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_shift_count')
                            {
                                sbm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_count')
                            {
                                stm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_shift_weight')
                            {
                                lmmm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_weight')
                            {
                                mmsm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_shift_weight')
                            {
                                wrm1_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_weight')
                            {
                                wrm2_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_shift_weight')
                            {
                                sbm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_weight')
                            {
                                stm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'lmmm_prod_total_count')
                            {
                                lmmm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_count')
                            {
                                mmsm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_total_count')
                            {
                                wrm1_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_count')
                            {
                                wrm2_prod_total_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_total_count')
                            {
                                sbm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_count')
                            {
                                stm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_total_weight')
                            {
                                lmmm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_weight')
                            {
                                mmsm_prod_total_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_total_weight')
                            {
                                wrm1_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_weight')
                            {
                                wrm2_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_total_weight')
                            {
                                sbm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_weight')
                            {
                                stm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'total_prod_count')
                            {
                                total_prod_count =  prod_data[key];
                            }
                            else if(key === 'total_prod_weight')
                            {
                                total_prod_weight =  prod_data[key];
                            }
                            
                        });
                        
                        if(lmmm_profile === 'NA')
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  ""   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                         
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight +"T"   ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_lmmm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = "<b style='color:blue;borderRight:1px solid gray; padding:10px;'> " +  lmmm_profile + " </b> " + lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                            
                            //document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch;
                            //document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch + "T";
                           
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight +"T"   ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight + "T";
                           
                           
                        
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
                            document.getElementById("span_lmmm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        
                        if(mmsm_profile === 'NA')
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod + "T";
                            
                            document.getElementById("td_mmsm_profile").innerHTML = "";
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                           
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight + "T";
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                     
                        }
                        else
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = "<b style='color:maroon'>" +  mmsm_profile + " </b> " + mmsm_prod + "T";
                            document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                            
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight + "T";
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight + "T";
                          
                            
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                        
                      
                      
                      
                        if(wrm1_profile === 'NA')
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod + "T";
                             
                            document.getElementById("td_wrm1_profile").innerHTML = "";
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight + "T";
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm1").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = "<b style='color:blue'>[ " +  wrm1_profile + " ]</b> " + wrm1_prod + "T";
                            document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight + "T";
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight + "T";
                          
                        
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm1").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                       
                        if(wrm2_profile === 'NA')
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = "" ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight + "T";
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm2").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = "<b style='color:maroon'>[ " +  wrm2_profile + " ]</b> " + wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight + "T";
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight + "T";
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm2").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                        
                        
                        if(sbm_profile === 'NA')
                        {
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = "";
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight + "T";
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
                      
                            
                        }
                        else
                        {
                            //document.getElementById("td_sbm_production").innerHTML = "<b style='color:blue'>[ " +  sbm_profile + " ]</b> " + sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = sbm_profile;
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight + "T";
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight + "T";
                           
                           
                        
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#058407";
                            document.getElementById("span_sbm").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                      
                        if(stm_profile === 'NA')
                        {
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   "";
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_count + "T";
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_stm_production").innerHTML = "<b style='color:maroon'>[ " +  stm_profile + " ]</b> " + stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_count + "T";
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight + "T";
                           
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                       
                       
                        //document.getElementById("total_production").innerHTML = "150 / 320T";
                        document.getElementById("total_delay").innerHTML = " 167 min";
                        //document.getElementById("total_dispatch").innerHTML = "850 / 620T";
                        document.getElementById("total_energy").innerHTML = " 320";
                          
                        document.getElementById("total_dispatch").innerHTML = "<span style='color: #1abc9c;  '>" + total_dispatch_count + "</span> <span style='color:red;height:100%;fontSize:larger;'> | </span>" + total_dispatch_weight +"<span style='color:black'>t</span>" ;
                        document.getElementById("total_production").innerHTML = "<span style='color: #1abc9c '>" + total_prod_count + "</span> <span style='color:red;height:100%'> | </span>" + total_prod_weight +"<span style='color:black'>t</span>" ;
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function displayUpdatedStatus4(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    alert("status: " + status);
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        //var mills_data = returnedData['mills_data'];
                        var dispatch_data = returnedData['dispatch_data'];
                        var prod_data = returnedData['prod_data'];
                        var profile_data = returnedData['profile_data'];
                        
                        var lmmm_prod = 0 ;
                        var lmmm_profile = 'NA';
                        var lmmm_delay = 0 ;
                        var lmmm_dispatch =0 ;
                        
                        var mmsm_prod = 0  ;
                        var mmsm_profile = 'NA';
                        var mmsm_delay = 0;
                        var mmsm_dispatch = 0;
                        
                        var wrm1_prod = 0;
                        var wrm1_profile = 'NA';
                        var wrm1_delay = 0;
                        var wrm1_dispatch = 0;
                        
                        var wrm2_prod = 0;
                        var wrm2_profile = 'NA';
                        var wrm2_delay = 0;
                        var wrm2_dispatch = 0;
                        
                        var sbm_prod = 0;
                        var sbm_profile= 'NA';
                        var sbm_delay = 0;
                        var sbm_dispatch = 0;
                        
                        var stm_prod = 0;
                        var stm_profile = 'NA';
                        var stm_delay = 0;
                        var stm_dispatch = 0;
                        
                        var lmmm_dispatch_shift_count = 0;
                        var mmsm_dispatch_shift_count = 0;
                        var wrm1_dispatch_shift_count = 0;
                        var wrm2_dispatch_shift_count = 0;
                        var sbm_dispatch_shift_count = 0;
                        var stm_dispatch_shift_count = 0;
                        
                        var lmmm_dispatch_total_count = 0;
                        var mmsm_dispatch_total_count = 0;
                        var wrm1_dispatch_total_count = 0;
                        var wrm2_dispatch_total_count = 0;
                        var sbm_dispatch_total_count = 0;
                        var stm_dispatch_total_count = 0;
                        
                        var lmmm_dispatch_shift_weight = 0;
                        var mmsm_dispatch_shift_weight = 0;
                        var wrm1_dispatch_shift_weight = 0;
                        var wrm2_dispatch_shift_weight = 0;
                        var sbm_dispatch_shift_weight = 0;
                        var stm_dispatch_shift_weight = 0;
                        
                        var lmmm_dispatch_total_weight = 0;
                        var mmsm_dispatch_total_weight = 0;
                        var wrm1_dispatch_total_weight = 0;
                        var wrm2_dispatch_total_weight = 0;
                        var sbm_dispatch_total_weight = 0;
                        var stm_dispatch_total_weight = 0;
                        
                        var total_dispatch_count = 0;
                        var total_dispatch_weight = 0;
                        
                        var lmmm_prod_shift_count = 0;
                        var mmsm_prod_shift_count = 0;
                        var wrm1_prod_shift_count = 0;
                        var wrm2_prod_shift_count = 0;
                        var sbm_prod_shift_count = 0;
                        var stm_prod_shift_count = 0;
                        
                        var lmmm_prod_total_count = 0;
                        var mmsm_prod_total_count = 0;
                        var wrm1_prod_total_count = 0;
                        var wrm2_prod_total_count = 0;
                        var sbm_prod_total_count = 0;
                        var stm_prod_total_count = 0;
                        
                        var lmmm_prod_shift_weight = 0;
                        var mmsm_prod_shift_weight = 0;
                        var wrm1_prod_shift_weight = 0;
                        var wrm2_prod_shift_weight = 0;
                        var sbm_prod_shift_weight = 0;
                        var stm_prod_shift_weight = 0;
                        
                        var lmmm_prod_total_weight = 0;
                        var mmsm_prod_total_weight = 0;
                        var wrm1_prod_total_weight = 0;
                        var wrm2_prod_total_weight = 0;
                        var sbm_prod_total_weight = 0;
                        var stm_prod_total_weight = 0;
                        
                        var total_prod_count = 0;
                        var total_prod_weight = 0;
                        
                        Object.keys(dispatch_data).forEach(key => 
                        {
                            if(key === 'lmmm_dispatch_shift_count')
                            {
                                lmmm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_count')
                            {
                                mmsm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_shift_count')
                            {
                                wrm1_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_count')
                            {
                                wrm2_dispatch_shift_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_shift_count')
                            {
                                sbm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_count')
                            {
                                stm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_shift_weight')
                            {
                                lmmm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_weight')
                            {
                                mmsm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_shift_weight')
                            {
                                wrm1_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_weight')
                            {
                                wrm2_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_shift_weight')
                            {
                                sbm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_weight')
                            {
                                stm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'lmmm_dispatch_total_count')
                            {
                                lmmm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_count')
                            {
                                mmsm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_total_count')
                            {
                                wrm1_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_count')
                            {
                                wrm2_dispatch_total_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_total_count')
                            {
                                sbm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_count')
                            {
                                stm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_total_weight')
                            {
                                lmmm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_weight')
                            {
                                mmsm_dispatch_total_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_total_weight')
                            {
                                wrm1_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_weight')
                            {
                                wrm2_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_total_weight')
                            {
                                sbm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_weight')
                            {
                                stm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_count')
                            {
                                total_dispatch_count =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_weight')
                            {
                                total_dispatch_weight =  dispatch_data[key];
                            }
                            
                        });
                        
                      
                        Object.keys(prod_data).forEach(key => 
                        {
                            if(key === 'lmmm_prod_shift_count')
                            {
                                lmmm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_count')
                            {
                                mmsm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_shift_count')
                            {
                                wrm1_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_count')
                            {
                                wrm2_prod_shift_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_shift_count')
                            {
                                sbm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_count')
                            {
                                stm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_shift_weight')
                            {
                                lmmm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_weight')
                            {
                                mmsm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_shift_weight')
                            {
                                wrm1_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_weight')
                            {
                                wrm2_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_shift_weight')
                            {
                                sbm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_weight')
                            {
                                stm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'lmmm_prod_total_count')
                            {
                                lmmm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_count')
                            {
                                mmsm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_total_count')
                            {
                                wrm1_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_count')
                            {
                                wrm2_prod_total_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_total_count')
                            {
                                sbm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_count')
                            {
                                stm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_total_weight')
                            {
                                lmmm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_weight')
                            {
                                mmsm_prod_total_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_total_weight')
                            {
                                wrm1_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_weight')
                            {
                                wrm2_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_total_weight')
                            {
                                sbm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_weight')
                            {
                                stm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'total_prod_count')
                            {
                                total_prod_count =  prod_data[key];
                            }
                            else if(key === 'total_prod_weight')
                            {
                                total_prod_weight =  prod_data[key];
                            }
                            
                        });
                        
                        Object.keys(profile_data).forEach(key => 
                        {
                            if(key === 'lmmm_profile')
                            {
                                lmmm_profile =  profile_data[key];
                            }
                            else if(key === 'mmsm_profile')
                            {
                                mmsm_profile =  profile_data[key];
                            }
                            else if(key === 'wrm1_profile')
                            {
                                wrm1_profile =  profile_data[key];
                            }
                            else if(key === 'wrm2_profile')
                            {
                                wrm2_profile =  profile_data[key];
                            }
                            
                            else if(key === 'sbm_profile')
                            {
                                sbm_profile =  profile_data[key];
                            }
                            else if(key === 'stm_profile')
                            {
                                stm_profile =  profile_data[key];
                            }
                           
                           
                            
                        });
                        
                        
                        if(lmmm_profile === 'NA')
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  ""   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                         
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight +"T"   ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_lmmm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = "<b style='color:blue;borderRight:1px solid gray; padding:10px;'> " +  lmmm_profile + " </b> " + lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                            
                            //document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch;
                            //document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch + "T";
                           
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight +"T"   ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight + "T";
                           
                           
                        
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
                            document.getElementById("span_lmmm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        
                        if(mmsm_profile === 'NA')
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod + "T";
                            
                            document.getElementById("td_mmsm_profile").innerHTML = "";
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                           
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight + "T";
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                     
                        }
                        else
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = "<b style='color:maroon'>" +  mmsm_profile + " </b> " + mmsm_prod + "T";
                            document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                            
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight + "T";
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight + "T";
                          
                            
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                        
                      
                      
                      
                        if(wrm1_profile === 'NA')
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod + "T";
                             
                            document.getElementById("td_wrm1_profile").innerHTML = "";
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight + "T";
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm1").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = "<b style='color:blue'>[ " +  wrm1_profile + " ]</b> " + wrm1_prod + "T";
                            document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight + "T";
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight + "T";
                          
                        
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm1").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                       
                        if(wrm2_profile === 'NA')
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = "" ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight + "T";
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm2").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = "<b style='color:maroon'>[ " +  wrm2_profile + " ]</b> " + wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight + "T";
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight + "T";
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm2").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                        
                        
                        if(sbm_profile === 'NA')
                        {
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = "";
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight + "T";
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
                      
                            
                        }
                        else
                        {
                            //document.getElementById("td_sbm_production").innerHTML = "<b style='color:blue'>[ " +  sbm_profile + " ]</b> " + sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = sbm_profile;
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight + "T";
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight + "T";
                           
                           
                        
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#058407";
                            document.getElementById("span_sbm").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                      
                        if(stm_profile === 'NA')
                        {
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   "";
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_count + "T";
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_stm_production").innerHTML = "<b style='color:maroon'>[ " +  stm_profile + " ]</b> " + stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_count + "T";
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight + "T";
                           
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                       
                       
                        //document.getElementById("total_production").innerHTML = "150 / 320T";
                        document.getElementById("total_delay").innerHTML = " 167 min";
                        //document.getElementById("total_dispatch").innerHTML = "850 / 620T";
                        document.getElementById("total_energy").innerHTML = " 320";
                          
                        document.getElementById("total_dispatch").innerHTML = "<span style='color: #1abc9c;  '>" + total_dispatch_count + "</span> <span style='color:red;height:100%;fontSize:larger;'> | </span>" + total_dispatch_weight +"<span style='color:black'>t</span>" ;
                        document.getElementById("total_production").innerHTML = "<span style='color: #1abc9c '>" + total_prod_count + "</span> <span style='color:red;height:100%'> | </span>" + total_prod_weight +"<span style='color:black'>t</span>" ;
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function displayUpdatedStatus5(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    alert("status: " + status);
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        //var mills_data = returnedData['mills_data'];
                        var dispatch_data = returnedData['dispatch_data'];
                        var prod_data = returnedData['prod_data'];
                        var profile_data = returnedData['profile_data'];
                        var delay_data = returnedData['delay_data'];
                        
                        var lmmm_prod = 0 ;
                        var lmmm_profile = 'NA';
                        var lmmm_delay = 0 ;
                        var lmmm_dispatch =0 ;
                        
                        var mmsm_prod = 0  ;
                        var mmsm_profile = 'NA';
                        var mmsm_delay = 0;
                        var mmsm_dispatch = 0;
                        
                        var wrm1_prod = 0;
                        var wrm1_profile = 'NA';
                        var wrm1_delay = 0;
                        var wrm1_dispatch = 0;
                        
                        var wrm2_prod = 0;
                        var wrm2_profile = 'NA';
                        var wrm2_delay = 0;
                        var wrm2_dispatch = 0;
                        
                        var sbm_prod = 0;
                        var sbm_profile= 'NA';
                        var sbm_delay = 0;
                        var sbm_dispatch = 0;
                        
                        var stm_prod = 0;
                        var stm_profile = 'NA';
                        var stm_delay = 0;
                        var stm_dispatch = 0;
                        
                        var lmmm_dispatch_shift_count = 0;
                        var mmsm_dispatch_shift_count = 0;
                        var wrm1_dispatch_shift_count = 0;
                        var wrm2_dispatch_shift_count = 0;
                        var sbm_dispatch_shift_count = 0;
                        var stm_dispatch_shift_count = 0;
                        
                        var lmmm_dispatch_total_count = 0;
                        var mmsm_dispatch_total_count = 0;
                        var wrm1_dispatch_total_count = 0;
                        var wrm2_dispatch_total_count = 0;
                        var sbm_dispatch_total_count = 0;
                        var stm_dispatch_total_count = 0;
                        
                        var lmmm_dispatch_shift_weight = 0;
                        var mmsm_dispatch_shift_weight = 0;
                        var wrm1_dispatch_shift_weight = 0;
                        var wrm2_dispatch_shift_weight = 0;
                        var sbm_dispatch_shift_weight = 0;
                        var stm_dispatch_shift_weight = 0;
                        
                        var lmmm_dispatch_total_weight = 0;
                        var mmsm_dispatch_total_weight = 0;
                        var wrm1_dispatch_total_weight = 0;
                        var wrm2_dispatch_total_weight = 0;
                        var sbm_dispatch_total_weight = 0;
                        var stm_dispatch_total_weight = 0;
                        
                        var total_dispatch_count = 0;
                        var total_dispatch_weight = 0;
                        
                        var lmmm_prod_shift_count = 0;
                        var mmsm_prod_shift_count = 0;
                        var wrm1_prod_shift_count = 0;
                        var wrm2_prod_shift_count = 0;
                        var sbm_prod_shift_count = 0;
                        var stm_prod_shift_count = 0;
                        
                        var lmmm_prod_total_count = 0;
                        var mmsm_prod_total_count = 0;
                        var wrm1_prod_total_count = 0;
                        var wrm2_prod_total_count = 0;
                        var sbm_prod_total_count = 0;
                        var stm_prod_total_count = 0;
                        
                        var lmmm_prod_shift_weight = 0;
                        var mmsm_prod_shift_weight = 0;
                        var wrm1_prod_shift_weight = 0;
                        var wrm2_prod_shift_weight = 0;
                        var sbm_prod_shift_weight = 0;
                        var stm_prod_shift_weight = 0;
                        
                        var lmmm_prod_total_weight = 0;
                        var mmsm_prod_total_weight = 0;
                        var wrm1_prod_total_weight = 0;
                        var wrm2_prod_total_weight = 0;
                        var sbm_prod_total_weight = 0;
                        var stm_prod_total_weight = 0;
                        
                        var total_prod_count = 0;
                        var total_prod_weight = 0;
                        
                        Object.keys(dispatch_data).forEach(key => 
                        {
                            if(key === 'lmmm_dispatch_shift_count')
                            {
                                lmmm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_count')
                            {
                                mmsm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_shift_count')
                            {
                                wrm1_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_count')
                            {
                                wrm2_dispatch_shift_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_shift_count')
                            {
                                sbm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_count')
                            {
                                stm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_shift_weight')
                            {
                                lmmm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_weight')
                            {
                                mmsm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_shift_weight')
                            {
                                wrm1_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_weight')
                            {
                                wrm2_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_shift_weight')
                            {
                                sbm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_weight')
                            {
                                stm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'lmmm_dispatch_total_count')
                            {
                                lmmm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_count')
                            {
                                mmsm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_total_count')
                            {
                                wrm1_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_count')
                            {
                                wrm2_dispatch_total_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_total_count')
                            {
                                sbm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_count')
                            {
                                stm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_total_weight')
                            {
                                lmmm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_weight')
                            {
                                mmsm_dispatch_total_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_total_weight')
                            {
                                wrm1_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_weight')
                            {
                                wrm2_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_total_weight')
                            {
                                sbm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_weight')
                            {
                                stm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_count')
                            {
                                total_dispatch_count =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_weight')
                            {
                                total_dispatch_weight =  dispatch_data[key];
                            }
                            
                        });
                        
                      
                        Object.keys(prod_data).forEach(key => 
                        {
                            if(key === 'lmmm_prod_shift_count')
                            {
                                lmmm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_count')
                            {
                                mmsm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_shift_count')
                            {
                                wrm1_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_count')
                            {
                                wrm2_prod_shift_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_shift_count')
                            {
                                sbm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_count')
                            {
                                stm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_shift_weight')
                            {
                                lmmm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_weight')
                            {
                                mmsm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_shift_weight')
                            {
                                wrm1_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_weight')
                            {
                                wrm2_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_shift_weight')
                            {
                                sbm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_weight')
                            {
                                stm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'lmmm_prod_total_count')
                            {
                                lmmm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_count')
                            {
                                mmsm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_total_count')
                            {
                                wrm1_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_count')
                            {
                                wrm2_prod_total_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_total_count')
                            {
                                sbm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_count')
                            {
                                stm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_total_weight')
                            {
                                lmmm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_weight')
                            {
                                mmsm_prod_total_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_total_weight')
                            {
                                wrm1_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_weight')
                            {
                                wrm2_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_total_weight')
                            {
                                sbm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_weight')
                            {
                                stm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'total_prod_count')
                            {
                                total_prod_count =  prod_data[key];
                            }
                            else if(key === 'total_prod_weight')
                            {
                                total_prod_weight =  prod_data[key];
                            }
                            
                        });
                        
                        Object.keys(profile_data).forEach(key => 
                        {
                            if(key === 'lmmm_profile')
                            {
                                lmmm_profile =  profile_data[key];
                            }
                            else if(key === 'mmsm_profile')
                            {
                                mmsm_profile =  profile_data[key];
                            }
                            else if(key === 'wrm1_profile')
                            {
                                wrm1_profile =  profile_data[key];
                            }
                            else if(key === 'wrm2_profile')
                            {
                                wrm2_profile =  profile_data[key];
                            }
                            
                            else if(key === 'sbm_profile')
                            {
                                sbm_profile =  profile_data[key];
                            }
                            else if(key === 'stm_profile')
                            {
                                stm_profile =  profile_data[key];
                            }
                           
                           
                            
                        });
                        
                        Object.keys(delay_data).forEach(key => 
                        {
                            if(key === 'lmmm_delay')
                            {
                                lmmm_delay =  delay_data[key];
                            }
                            else if(key === 'mmsm_delay')
                            {
                                mmsm_delay =  delay_data[key];
                            }
                            else if(key === 'wrm1_delay')
                            {
                                wrm1_delay =  delay_data[key];
                            }
                            else if(key === 'wrm2_delay')
                            {
                                wrm2_delay =  delay_data[key];
                            }
                            
                            else if(key === 'sbm_delay')
                            {
                                sbm_delay =  delay_data[key];
                            }
                            else if(key === 'stm_delay')
                            {
                                stm_delay =  delay_data[key];
                            }
                           
                           
                            
                        });
                        
                        if(lmmm_profile === 'NA')
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  ""   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                         
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight +"T"   ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_lmmm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = "<b style='color:blue;borderRight:1px solid gray; padding:10px;'> " +  lmmm_profile + " </b> " + lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                            
                            //document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch;
                            //document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch + "T";
                           
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight +"T"   ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight + "T";
                           
                           
                        
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
                            document.getElementById("span_lmmm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        
                        if(mmsm_profile === 'NA')
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod + "T";
                            
                            document.getElementById("td_mmsm_profile").innerHTML = "";
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                           
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight + "T";
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                     
                        }
                        else
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = "<b style='color:maroon'>" +  mmsm_profile + " </b> " + mmsm_prod + "T";
                            document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                            
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight + "T";
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight + "T";
                          
                            
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                        
                      
                      
                      
                        if(wrm1_profile === 'NA')
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod + "T";
                             
                            document.getElementById("td_wrm1_profile").innerHTML = "";
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight + "T";
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm1").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = "<b style='color:blue'>[ " +  wrm1_profile + " ]</b> " + wrm1_prod + "T";
                            document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight + "T";
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight + "T";
                          
                        
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm1").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                       
                        if(wrm2_profile === 'NA')
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = "" ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight + "T";
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm2").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = "<b style='color:maroon'>[ " +  wrm2_profile + " ]</b> " + wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight + "T";
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight + "T";
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm2").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                        
                        
                        if(sbm_profile === 'NA')
                        {
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = "";
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight + "T";
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
                      
                            
                        }
                        else
                        {
                            //document.getElementById("td_sbm_production").innerHTML = "<b style='color:blue'>[ " +  sbm_profile + " ]</b> " + sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = sbm_profile;
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight + "T";
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight + "T";
                           
                           
                        
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#058407";
                            document.getElementById("span_sbm").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                      
                        if(stm_profile === 'NA')
                        {
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   "";
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_count + "T";
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight + "T";
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_stm_production").innerHTML = "<b style='color:maroon'>[ " +  stm_profile + " ]</b> " + stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_count + "T";
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight + "T";
                           
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                       
                       
                        //document.getElementById("total_production").innerHTML = "150 / 320T";
                        document.getElementById("total_delay").innerHTML = " 167 min";
                        //document.getElementById("total_dispatch").innerHTML = "850 / 620T";
                        document.getElementById("total_energy").innerHTML = " 320";
                          
                        document.getElementById("total_dispatch").innerHTML = "<span style='color: #1abc9c;  '>" + total_dispatch_count + "</span> <span style='color:red;height:100%;fontSize:larger;'> | </span>" + total_dispatch_weight +"<span style='color:black'>t</span>" ;
                        document.getElementById("total_production").innerHTML = "<span style='color: #1abc9c '>" + total_prod_count + "</span> <span style='color:red;height:100%'> | </span>" + total_prod_weight +"<span style='color:black'>t</span>" ;
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function displayUpdatedStatus6(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        //var mills_data = returnedData['mills_data'];
                        var dispatch_data = returnedData['dispatch_data'];
                        var prod_data = returnedData['prod_data'];
                        var profile_data = returnedData['profile_data'];
                        var delay_data = returnedData['delay_data'];
                        var delay_data_total = returnedData['delay_data_total'];
                        
                        var lmmm_prod = 0 ;
                        var lmmm_profile = 'NA';
                        var lmmm_delay = 0 ;
                        var lmmm_dispatch =0 ;
                        
                        var mmsm_prod = 0  ;
                        var mmsm_profile = 'NA';
                        var mmsm_delay = 0;
                        var mmsm_dispatch = 0;
                        
                        var wrm1_prod = 0;
                        var wrm1_profile = 'NA';
                        var wrm1_delay = 0;
                        var wrm1_dispatch = 0;
                        
                        var wrm2_prod = 0;
                        var wrm2_profile = 'NA';
                        var wrm2_delay = 0;
                        var wrm2_dispatch = 0;
                        
                        var sbm_prod = 0;
                        var sbm_profile= 'NA';
                        var sbm_delay = 0;
                        var sbm_dispatch = 0;
                        
                        var stm_prod = 0;
                        var stm_profile = 'NA';
                        var stm_delay = 0;
                        var stm_dispatch = 0;
                        
                        var lmmm_dispatch_shift_count = 0;
                        var mmsm_dispatch_shift_count = 0;
                        var wrm1_dispatch_shift_count = 0;
                        var wrm2_dispatch_shift_count = 0;
                        var sbm_dispatch_shift_count = 0;
                        var stm_dispatch_shift_count = 0;
                        
                        var lmmm_dispatch_total_count = 0;
                        var mmsm_dispatch_total_count = 0;
                        var wrm1_dispatch_total_count = 0;
                        var wrm2_dispatch_total_count = 0;
                        var sbm_dispatch_total_count = 0;
                        var stm_dispatch_total_count = 0;
                        
                        var lmmm_dispatch_shift_weight = 0;
                        var mmsm_dispatch_shift_weight = 0;
                        var wrm1_dispatch_shift_weight = 0;
                        var wrm2_dispatch_shift_weight = 0;
                        var sbm_dispatch_shift_weight = 0;
                        var stm_dispatch_shift_weight = 0;
                        
                        var lmmm_dispatch_total_weight = 0;
                        var mmsm_dispatch_total_weight = 0;
                        var wrm1_dispatch_total_weight = 0;
                        var wrm2_dispatch_total_weight = 0;
                        var sbm_dispatch_total_weight = 0;
                        var stm_dispatch_total_weight = 0;
                        
                        var total_dispatch_count = 0;
                        var total_dispatch_weight = 0;
                        
                        var lmmm_prod_shift_count = 0;
                        var mmsm_prod_shift_count = 0;
                        var wrm1_prod_shift_count = 0;
                        var wrm2_prod_shift_count = 0;
                        var sbm_prod_shift_count = 0;
                        var stm_prod_shift_count = 0;
                        
                        var lmmm_prod_total_count = 0;
                        var mmsm_prod_total_count = 0;
                        var wrm1_prod_total_count = 0;
                        var wrm2_prod_total_count = 0;
                        var sbm_prod_total_count = 0;
                        var stm_prod_total_count = 0;
                        
                        var lmmm_prod_shift_weight = 0;
                        var mmsm_prod_shift_weight = 0;
                        var wrm1_prod_shift_weight = 0;
                        var wrm2_prod_shift_weight = 0;
                        var sbm_prod_shift_weight = 0;
                        var stm_prod_shift_weight = 0;
                        
                        var lmmm_prod_total_weight = 0;
                        var mmsm_prod_total_weight = 0;
                        var wrm1_prod_total_weight = 0;
                        var wrm2_prod_total_weight = 0;
                        var sbm_prod_total_weight = 0;
                        var stm_prod_total_weight = 0;
                        
                        var total_prod_count = 0;
                        var total_prod_weight = 0;
                        
                        var lmmm_total_delay = 0;
                        var mmsm_total_delay = 0;
                        var wrm1_total_delay = 0;
                        var wrm2_total_delay = 0;
                        var sbm_total_delay = 0;
                        var stm_total_delay = 0;
                        var total_delay = 0;
                        
                        
                        Object.keys(dispatch_data).forEach(key => 
                        {
                            if(key === 'lmmm_dispatch_shift_count')
                            {
                                lmmm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_count')
                            {
                                mmsm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_shift_count')
                            {
                                wrm1_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_count')
                            {
                                wrm2_dispatch_shift_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_shift_count')
                            {
                                sbm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_count')
                            {
                                stm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_shift_weight')
                            {
                                lmmm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_weight')
                            {
                                mmsm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_shift_weight')
                            {
                                wrm1_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_weight')
                            {
                                wrm2_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_shift_weight')
                            {
                                sbm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_weight')
                            {
                                stm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'lmmm_dispatch_total_count')
                            {
                                lmmm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_count')
                            {
                                mmsm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_total_count')
                            {
                                wrm1_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_count')
                            {
                                wrm2_dispatch_total_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_total_count')
                            {
                                sbm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_count')
                            {
                                stm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_total_weight')
                            {
                                lmmm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_weight')
                            {
                                mmsm_dispatch_total_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_total_weight')
                            {
                                wrm1_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_weight')
                            {
                                wrm2_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_total_weight')
                            {
                                sbm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_weight')
                            {
                                stm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_count')
                            {
                                total_dispatch_count =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_weight')
                            {
                                total_dispatch_weight =  dispatch_data[key];
                            }
                            
                        });                        
                      
                        Object.keys(prod_data).forEach(key => 
                        {
                            if(key === 'lmmm_prod_shift_count')
                            {
                                lmmm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_count')
                            {
                                mmsm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_shift_count')
                            {
                                wrm1_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_count')
                            {
                                wrm2_prod_shift_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_shift_count')
                            {
                                sbm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_count')
                            {
                                stm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_shift_weight')
                            {
                                lmmm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_weight')
                            {
                                mmsm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_shift_weight')
                            {
                                wrm1_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_weight')
                            {
                                wrm2_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_shift_weight')
                            {
                                sbm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_weight')
                            {
                                stm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'lmmm_prod_total_count')
                            {
                                lmmm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_count')
                            {
                                mmsm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_total_count')
                            {
                                wrm1_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_count')
                            {
                                wrm2_prod_total_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_total_count')
                            {
                                sbm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_count')
                            {
                                stm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_total_weight')
                            {
                                lmmm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_weight')
                            {
                                mmsm_prod_total_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_total_weight')
                            {
                                wrm1_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_weight')
                            {
                                wrm2_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_total_weight')
                            {
                                sbm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_weight')
                            {
                                stm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'total_prod_count')
                            {
                                total_prod_count =  prod_data[key];
                            }
                            else if(key === 'total_prod_weight')
                            {
                                total_prod_weight =  prod_data[key];
                            }
                            
                        });
                        
                        Object.keys(profile_data).forEach(key => 
                        {
                            if(key === 'lmmm_profile')
                            {
                                lmmm_profile =  profile_data[key];
                            }
                            else if(key === 'mmsm_profile')
                            {
                                mmsm_profile =  profile_data[key];
                            }
                            else if(key === 'wrm1_profile')
                            {
                                wrm1_profile =  profile_data[key];
                            }
                            else if(key === 'wrm2_profile')
                            {
                                wrm2_profile =  profile_data[key];
                            }
                            
                            else if(key === 'sbm_profile')
                            {
                                sbm_profile =  profile_data[key];
                            }
                            else if(key === 'stm_profile')
                            {
                                stm_profile =  profile_data[key];
                            }
                           
                           
                            
                        });
                        
                        Object.keys(delay_data).forEach(key => 
                        {
                            if(key === 'lmmm_delay')
                            {
                                lmmm_delay =  delay_data[key];
                            }
                            else if(key === 'mmsm_delay')
                            {
                                mmsm_delay =  delay_data[key];
                            }
                            else if(key === 'wrm1_delay')
                            {
                                wrm1_delay =  delay_data[key];
                            }
                            else if(key === 'wrm2_delay')
                            {
                                wrm2_delay =  delay_data[key];
                            }
                            
                            else if(key === 'sbm_delay')
                            {
                                sbm_delay =  delay_data[key];
                            }
                            else if(key === 'stm_delay')
                            {
                                stm_delay =  delay_data[key];
                            }
                           
                           
                            
                        });
                        
                        Object.keys(delay_data_total).forEach(key => 
                        {
                            if(key === 'lmmm_total_delay')
                            {
                                lmmm_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'mmsm_total_delay')
                            {
                                mmsm_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'wrm1_total_delay')
                            {
                                wrm1_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'wrm2_total_delay')
                            {
                                wrm2_total_delay =  delay_data_total[key];
                            }
                            
                            else if(key === 'sbm_total_delay')
                            {
                                sbm_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'stm_total_delay')
                            {
                                stm_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'total_delay')
                            {
                                total_delay =  delay_data_total[key];
                            }
                           
                            
                        });
                        
                        if(lmmm_profile === 'NA')
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  ""   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                         
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight   ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight ;
                           
                           
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_lmmm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = "<b style='color:blue;borderRight:1px solid gray; padding:10px;'> " +  lmmm_profile + " </b> " + lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                            
                            //document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch;
                            //document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch + "T";
                           
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight    ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight ;
                           
                           
                        
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
                            document.getElementById("span_lmmm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        
                        if(mmsm_profile === 'NA')
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod + "T";
                            
                            document.getElementById("td_mmsm_profile").innerHTML = "";
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                           
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight ;
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight ;
                           
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                     
                        }
                        else
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = "<b style='color:maroon'>" +  mmsm_profile + " </b> " + mmsm_prod + "T";
                            document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                            
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight ;
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight ;
                          
                            
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                        
                      
                      
                      
                        if(wrm1_profile === 'NA')
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod + "T";
                             
                            document.getElementById("td_wrm1_profile").innerHTML = "";
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight ;
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight ;
                           
                           
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm1").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = "<b style='color:blue'>[ " +  wrm1_profile + " ]</b> " + wrm1_prod + "T";
                            document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight;
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight ;
                          
                        
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm1").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                       
                        if(wrm2_profile === 'NA')
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = "" ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight;
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight ;
                           
                           
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm2").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = "<b style='color:maroon'>[ " +  wrm2_profile + " ]</b> " + wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight;
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight;
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm2").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                        
                        
                        if(sbm_profile === 'NA')
                        {
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = "";
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight;
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight;
                           
                           
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
                      
                            
                        }
                        else
                        {
                            //document.getElementById("td_sbm_production").innerHTML = "<b style='color:blue'>[ " +  sbm_profile + " ]</b> " + sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = sbm_profile;
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight;
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight ;
                           
                           
                        
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#058407";
                            document.getElementById("span_sbm").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                      
                        if(stm_profile === 'NA')
                        {
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   "";
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_weight ;
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight;
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_stm_production").innerHTML = "<b style='color:maroon'>[ " +  stm_profile + " ]</b> " + stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_weight ;
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight ;
                           
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                       
                       
                        //document.getElementById("total_production").innerHTML = "150 / 320T";
                        //document.getElementById("total_delay").innerHTML = " 167 min";
                        //document.getElementById("total_dispatch").innerHTML = "850 / 620T";
                        document.getElementById("total_energy").innerHTML = " 320";
                          
                        document.getElementById("total_dispatch").innerHTML = "<span style='color: #1abc9c;  '>" + total_dispatch_count + "</span> <span style='color:red;height:100%;fontSize:larger;'> | </span>" + total_dispatch_weight +"<span style='color:black'>t</span>" ;
                        document.getElementById("total_production").innerHTML = "<span style='color: #1abc9c '>" + total_prod_count + "</span> <span style='color:red;height:100%'> | </span>" + total_prod_weight +"<span style='color:black'>t</span>" ;
                        document.getElementById("total_delay").innerHTML = total_delay + " min";
                        
                        update_DelayChart(delay_data_total);
                        update_ProdChart(prod_data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function displayUpdatedStatus7(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        //var mills_data = returnedData['mills_data'];
                        var dispatch_data = returnedData['dispatch_data'];
                        var prod_data = returnedData['prod_data'];
                        var profile_data = returnedData['profile_data'];
                        var delay_data = returnedData['delay_data'];
                        var delay_data_total = returnedData['delay_data_total'];
                        
                        var lmmm_prod = 0 ;
                        var lmmm_profile = 'NA';
                        var lmmm_delay = 0 ;
                        var lmmm_dispatch =0 ;
                        
                        var mmsm_prod = 0  ;
                        var mmsm_profile = 'NA';
                        var mmsm_delay = 0;
                        var mmsm_dispatch = 0;
                        
                        var wrm1_prod = 0;
                        var wrm1_profile = 'NA';
                        var wrm1_delay = 0;
                        var wrm1_dispatch = 0;
                        
                        var wrm2_prod = 0;
                        var wrm2_profile = 'NA';
                        var wrm2_delay = 0;
                        var wrm2_dispatch = 0;
                        
                        var sbm_prod = 0;
                        var sbm_profile= 'NA';
                        var sbm_delay = 0;
                        var sbm_dispatch = 0;
                        
                        var stm_prod = 0;
                        var stm_profile = 'NA';
                        var stm_delay = 0;
                        var stm_dispatch = 0;
                        
                        var lmmm_dispatch_shift_count = 0;
                        var mmsm_dispatch_shift_count = 0;
                        var wrm1_dispatch_shift_count = 0;
                        var wrm2_dispatch_shift_count = 0;
                        var sbm_dispatch_shift_count = 0;
                        var stm_dispatch_shift_count = 0;
                        
                        var lmmm_dispatch_total_count = 0;
                        var mmsm_dispatch_total_count = 0;
                        var wrm1_dispatch_total_count = 0;
                        var wrm2_dispatch_total_count = 0;
                        var sbm_dispatch_total_count = 0;
                        var stm_dispatch_total_count = 0;
                        
                        var lmmm_dispatch_shift_weight = 0;
                        var mmsm_dispatch_shift_weight = 0;
                        var wrm1_dispatch_shift_weight = 0;
                        var wrm2_dispatch_shift_weight = 0;
                        var sbm_dispatch_shift_weight = 0;
                        var stm_dispatch_shift_weight = 0;
                        
                        var lmmm_dispatch_total_weight = 0;
                        var mmsm_dispatch_total_weight = 0;
                        var wrm1_dispatch_total_weight = 0;
                        var wrm2_dispatch_total_weight = 0;
                        var sbm_dispatch_total_weight = 0;
                        var stm_dispatch_total_weight = 0;
                        
                        var total_dispatch_count = 0;
                        var total_dispatch_weight = 0;
                        
                        var lmmm_prod_shift_count = 0;
                        var mmsm_prod_shift_count = 0;
                        var wrm1_prod_shift_count = 0;
                        var wrm2_prod_shift_count = 0;
                        var sbm_prod_shift_count = 0;
                        var stm_prod_shift_count = 0;
                        
                        var lmmm_prod_total_count = 0;
                        var mmsm_prod_total_count = 0;
                        var wrm1_prod_total_count = 0;
                        var wrm2_prod_total_count = 0;
                        var sbm_prod_total_count = 0;
                        var stm_prod_total_count = 0;
                        
                        var lmmm_prod_shift_weight = 0;
                        var mmsm_prod_shift_weight = 0;
                        var wrm1_prod_shift_weight = 0;
                        var wrm2_prod_shift_weight = 0;
                        var sbm_prod_shift_weight = 0;
                        var stm_prod_shift_weight = 0;
                        
                        var lmmm_prod_total_weight = 0;
                        var mmsm_prod_total_weight = 0;
                        var wrm1_prod_total_weight = 0;
                        var wrm2_prod_total_weight = 0;
                        var sbm_prod_total_weight = 0;
                        var stm_prod_total_weight = 0;
                        
                        var total_prod_count = 0;
                        var total_prod_weight = 0;
                        
                        var lmmm_total_delay = 0;
                        var mmsm_total_delay = 0;
                        var wrm1_total_delay = 0;
                        var wrm2_total_delay = 0;
                        var sbm_total_delay = 0;
                        var stm_total_delay = 0;
                        var total_delay = 0;
                        
                        var wrm1_l1 = 0;
                        var wrm1_l2 = 0;
                        var wrm1_l3 = 0;
                        var wrm1_l4 = 0;
                        
                        var wrm2_l1 = 0;
                        var wrm2_l2 = 0;
                        
                        Object.keys(dispatch_data).forEach(key => 
                        {
                            if(key === 'lmmm_dispatch_shift_count')
                            {
                                lmmm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_count')
                            {
                                mmsm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_shift_count')
                            {
                                wrm1_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_count')
                            {
                                wrm2_dispatch_shift_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_shift_count')
                            {
                                sbm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_count')
                            {
                                stm_dispatch_shift_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_shift_weight')
                            {
                                lmmm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_shift_weight')
                            {
                                mmsm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_shift_weight')
                            {
                                wrm1_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_shift_weight')
                            {
                                wrm2_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_shift_weight')
                            {
                                sbm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_shift_weight')
                            {
                                stm_dispatch_shift_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'lmmm_dispatch_total_count')
                            {
                                lmmm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_count')
                            {
                                mmsm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_dispatch_total_count')
                            {
                                wrm1_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_count')
                            {
                                wrm2_dispatch_total_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_total_count')
                            {
                                sbm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_count')
                            {
                                stm_dispatch_total_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_dispatch_total_weight')
                            {
                                lmmm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_dispatch_total_weight')
                            {
                                mmsm_dispatch_total_weight =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_total_weight')
                            {
                                wrm1_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_dispatch_total_weight')
                            {
                                wrm2_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'sbm_dispatch_total_weight')
                            {
                                sbm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'stm_dispatch_total_weight')
                            {
                                stm_dispatch_total_weight =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_count')
                            {
                                total_dispatch_count =  dispatch_data[key];
                            }
                            else if(key === 'total_dispatch_weight')
                            {
                                total_dispatch_weight =  dispatch_data[key];
                            }
                            
                        });                        
                      
                        Object.keys(prod_data).forEach(key => 
                        {
                            if(key === 'lmmm_prod_shift_count')
                            {
                                lmmm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_count')
                            {
                                mmsm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_shift_count')
                            {
                                wrm1_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_count')
                            {
                                wrm2_prod_shift_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_shift_count')
                            {
                                sbm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_count')
                            {
                                stm_prod_shift_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_shift_weight')
                            {
                                lmmm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_shift_weight')
                            {
                                mmsm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_shift_weight')
                            {
                                wrm1_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_shift_weight')
                            {
                                wrm2_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_shift_weight')
                            {
                                sbm_prod_shift_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_shift_weight')
                            {
                                stm_prod_shift_weight =  prod_data[key];
                            }
                            
                            else if(key === 'lmmm_prod_total_count')
                            {
                                lmmm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_count')
                            {
                                mmsm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_total_count')
                            {
                                wrm1_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_count')
                            {
                                wrm2_prod_total_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_total_count')
                            {
                                sbm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_count')
                            {
                                stm_prod_total_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_total_weight')
                            {
                                lmmm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_total_weight')
                            {
                                mmsm_prod_total_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_total_weight')
                            {
                                wrm1_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_total_weight')
                            {
                                wrm2_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_total_weight')
                            {
                                sbm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_total_weight')
                            {
                                stm_prod_total_weight =  prod_data[key];
                            }
                            else if(key === 'total_prod_count')
                            {
                                total_prod_count =  prod_data[key];
                            }
                            else if(key === 'total_prod_weight')
                            {
                                total_prod_weight =  prod_data[key];
                            }
                            
                        });
                        
                        Object.keys(profile_data).forEach(key => 
                        {
                            if(key === 'lmmm_profile')
                            {
                                lmmm_profile =  profile_data[key];
                            }
                            else if(key === 'mmsm_profile')
                            {
                                mmsm_profile =  profile_data[key];
                            }
                            else if(key === 'wrm1_profile')
                            {
                                wrm1_profile =  profile_data[key];
                            }
                            else if(key === 'wrm2_profile')
                            {
                                wrm2_profile =  profile_data[key];
                            }
                            
                            else if(key === 'sbm_profile')
                            {
                                sbm_profile =  profile_data[key];
                            }
                            else if(key === 'stm_profile')
                            {
                                stm_profile =  profile_data[key];
                            }
                           
                           
                            
                        });
                        
                        Object.keys(delay_data).forEach(key => 
                        {
                            if(key === 'lmmm_delay')
                            {
                                lmmm_delay =  delay_data[key];
                            }
                            else if(key === 'mmsm_delay')
                            {
                                mmsm_delay =  delay_data[key];
                            }
                            else if(key === 'wrm1_delay')
                            {
                                wrm1_delay =  delay_data[key];
                            }
                            else if(key === 'wrm2_delay')
                            {
                                wrm2_delay =  delay_data[key];
                            }
                            
                            else if(key === 'sbm_delay')
                            {
                                sbm_delay =  delay_data[key];
                            }
                            else if(key === 'stm_delay')
                            {
                                stm_delay =  delay_data[key];
                            }
                            else if(key === 'wrm1_l1')
                            {
                                wrm1_l1 =  delay_data[key];
                            }
                            else if(key === 'wrm1_l2')
                            {
                                wrm1_l2 =  delay_data[key];
                            }
                            else if(key === 'wrm1_l3')
                            {
                                wrm1_l3 =  delay_data[key];
                            }
                            else if(key === 'wrm1_l4')
                            {
                                wrm1_l4 =  delay_data[key];
                            }
                            else if(key === 'wrm2_l1')
                            {
                                wrm2_l1 =  delay_data[key];
                            }
                            else if(key === 'wrm2_l2')
                            {
                                wrm2_l2 =  delay_data[key];
                            }
                           
                           
                            
                        });
                        
                        Object.keys(delay_data_total).forEach(key => 
                        {
                            if(key === 'lmmm_total_delay')
                            {
                                lmmm_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'mmsm_total_delay')
                            {
                                mmsm_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'wrm1_total_delay')
                            {
                                wrm1_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'wrm2_total_delay')
                            {
                                wrm2_total_delay =  delay_data_total[key];
                            }
                            
                            else if(key === 'sbm_total_delay')
                            {
                                sbm_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'stm_total_delay')
                            {
                                stm_total_delay =  delay_data_total[key];
                            }
                            else if(key === 'total_delay')
                            {
                                total_delay =  delay_data_total[key];
                            }
                           
                            
                        });
                        
                        if(lmmm_profile === 'NA')
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  ""   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                         
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight   ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight ;
                           
                           
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_lmmm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_lmmm_production").innerHTML = "<b style='color:blue;borderRight:1px solid gray; padding:10px;'> " +  lmmm_profile + " </b> " + lmmm_prod + "T";
                            document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod ;
                            //document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod +"T"   ;
                            document.getElementById("td_lmmm_delay").innerHTML = lmmm_delay;
                            
                            //document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch;
                            //document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch + "T";
                           
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight    ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight ;
                           
                           
                        
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
                            document.getElementById("span_lmmm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        
                        if(mmsm_profile === 'NA')
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod + "T";
                            
                            document.getElementById("td_mmsm_profile").innerHTML = "";
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                           
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight ;
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight ;
                           
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                     
                        }
                        else
                        {
                            //document.getElementById("td_mmsm_production").innerHTML = "<b style='color:maroon'>" +  mmsm_profile + " </b> " + mmsm_prod + "T";
                            document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                            //document.getElementById("td_mmsm_production").innerHTML = mmsm_prod ;
                            //document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod + "T";
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            
                            //document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch ;
                            //document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch + "T";
                            
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight ;
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight ;
                          
                            
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                        
                      
                        var bar = "<span style='color:red';> | </span>";
                      
                        if(wrm1_profile === 'NA')
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod + "T";
                             
                            document.getElementById("td_wrm1_profile").innerHTML = "";
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            //document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            //document.getElementById("td_wrm1_delay").innerHTML = wrm1_l1 + " | " + wrm1_l2 + " | " + wrm1_l3 + " | " + wrm1_l4;
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_l1 + bar + wrm1_l2 + bar + wrm1_l3 + bar + wrm1_l4;
                           
                            
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight ;
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight ;
                           
                           
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm1").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm1_production").innerHTML = "<b style='color:blue'>[ " +  wrm1_profile + " ]</b> " + wrm1_prod + "T";
                            document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                            //document.getElementById("td_wrm1_production").innerHTML = wrm1_prod ;
                            //document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod + "T";
                            //document.getElementById("td_wrm1_delay").innerHTML = wrm1_delay;
                            //document.getElementById("td_wrm1_delay").innerHTML = wrm1_l1 + " | " + wrm1_l2 + " | " + wrm1_l3 + " | " + wrm1_l4;
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_l1 + bar + wrm1_l2 + bar + wrm1_l3 + bar + wrm1_l4;
                              
                            //document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch ;
                            //document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch + "T";
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight;
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight ;
                          
                        
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm1").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                       
                        if(wrm2_profile === 'NA')
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = "" ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            //document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_l1 + bar + wrm2_l2 ;
                              
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight;
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight ;
                           
                           
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm2").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_wrm2_production").innerHTML = "<b style='color:maroon'>[ " +  wrm2_profile + " ]</b> " + wrm2_prod + "T";
                            document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                            //document.getElementById("td_wrm2_production").innerHTML = wrm2_prod ;
                            //document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod + "T";
                            //document.getElementById("td_wrm2_delay").innerHTML = wrm2_delay;
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_l1 + bar + wrm2_l2 ;
                                  
                            //document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch ;
                            //document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch + "T";
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight;
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight;
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm2").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                        
                        
                        if(sbm_profile === 'NA')
                        {
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = "";
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight;
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight;
                           
                           
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
                      
                            
                        }
                        else
                        {
                            //document.getElementById("td_sbm_production").innerHTML = "<b style='color:blue'>[ " +  sbm_profile + " ]</b> " + sbm_prod + "T";
                            document.getElementById("td_sbm_profile").innerHTML = sbm_profile;
                            //document.getElementById("td_sbm_production").innerHTML = sbm_prod ;
                            //document.getElementById("td_sbm_tons").innerHTML = sbm_prod + "T";
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            
                            //document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch ;
                            //document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch + "T";
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight;
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight ;
                           
                           
                        
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#058407";
                            document.getElementById("span_sbm").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                      
                        if(stm_profile === 'NA')
                        {
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   "";
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_weight ;
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight;
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            //document.getElementById("td_stm_production").innerHTML = "<b style='color:maroon'>[ " +  stm_profile + " ]</b> " + stm_prod + "T";
                            document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                            //document.getElementById("td_stm_production").innerHTML =   stm_prod ;
                            //document.getElementById("td_stm_tons").innerHTML =   stm_prod + "T";
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            
                            //document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch ;
                            //document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch + "T";
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_weight ;
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight ;
                           
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                       
                       
                        //document.getElementById("total_production").innerHTML = "150 / 320T";
                        //document.getElementById("total_delay").innerHTML = " 167 min";
                        //document.getElementById("total_dispatch").innerHTML = "850 / 620T";
                        document.getElementById("total_energy").innerHTML = " 0";
                        document.getElementById("total_dispatch").innerHTML = "<span style='color: #1abc9c;  '>" + total_dispatch_count + "</span> <span style='color:red;height:100%;fontSize:larger;'> | </span>" + total_dispatch_weight +"<span style='color:black'>t</span>" ;
                        document.getElementById("total_production").innerHTML = "<span style='color: #1abc9c '>" + total_prod_count + "</span> <span style='color:red;height:100%'> | </span>" + total_prod_weight +"<span style='color:black'>t</span>" ;
                        document.getElementById("total_delay").innerHTML = total_delay + " min";
                        
                        let ton = "<span style='color:red'>T</span>";
                        document.getElementById("label_total_production").innerHTML = total_prod_weight + ton;
                        document.getElementById("label_total_dispatch").innerHTML = total_dispatch_weight + ton;
                        //document.getElementById("label_total_dispatch").innerHTML = "99999T";
                        
                        var prod_monthly_data = returnedData['prod_monthly_data'];
                       
                        update_DelayChart(delay_data_total);
                        update_ProdChart(prod_monthly_data);
                        //update_DelayChart(delay_data_total);
                        //update_ProdChart(prod_data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function displayUpdatedStatus(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        //var mills_data = returnedData['mills_data'];
                        var dispatch_data = returnedData['dispatch_data'];
                        var prod_data = returnedData['prod_data'];
                        var profile_data = returnedData['profile_data'];
                        var power_data = returnedData['power_data'];
                        var delay_data = returnedData['delay_data'];
                        var delay_data_total = returnedData['delay_data_total'];
                        var prod_monthly_data = returnedData['prod_monthly_data'];
                        var dispatch_monthly_data = returnedData['dispatch_monthly_data'];
                        var delay_monthly_data = returnedData['delay_monthly_data'];
                        var power_monthly_data = returnedData['power_monthly_data'];
                        var users_data = returnedData['users_data'];
                        var message_data = returnedData['message_data'];
                        var error_msg = returnedData['error_msg'];
                      
                        
                        var lmmm_prod = 0 ;
                        var lmmm_profile = '';
                        var lmmm_delay = 0 ;
                        var lmmm_dispatch =0 ;
                        
                        var mmsm_prod = 0  ;
                        var mmsm_profile = '';
                        var mmsm_delay = 0;
                        var mmsm_dispatch = 0;
                        
                        var wrm1_prod = 0;
                        var wrm1_profile = '';
                        var wrm1_delay = 0;
                        var wrm1_dispatch = 0;
                        
                        var wrm2_prod = 0;
                        var wrm2_profile = '';
                        var wrm2_delay = 0;
                        var wrm2_dispatch = 0;
                        
                        var sbm_prod = 0;
                        var sbm_profile= '';
                        var sbm_delay = 0;
                        var sbm_dispatch = 0;
                        
                        var stm_prod = 0;
                        var stm_profile = '';
                        var stm_delay = 0;
                        var stm_dispatch = 0;
                        
                        var lmmm_dispatch_shift_count = 0;
                        var mmsm_dispatch_shift_count = 0;
                        var wrm1_dispatch_shift_count = 0;
                        var wrm2_dispatch_shift_count = 0;
                        var sbm_dispatch_shift_count = 0;
                        var stm_dispatch_shift_count = 0;
                        
                        var lmmm_dispatch_total_count = 0;
                        var mmsm_dispatch_total_count = 0;
                        var wrm1_dispatch_total_count = 0;
                        var wrm2_dispatch_total_count = 0;
                        var sbm_dispatch_total_count = 0;
                        var stm_dispatch_total_count = 0;
                        
                        var lmmm_dispatch_shift_weight = 0;
                        var mmsm_dispatch_shift_weight = 0;
                        var wrm1_dispatch_shift_weight = 0;
                        var wrm2_dispatch_shift_weight = 0;
                        var sbm_dispatch_shift_weight = 0;
                        var stm_dispatch_shift_weight = 0;
                        
                        var lmmm_dispatch_total_weight = 0;
                        var mmsm_dispatch_total_weight = 0;
                        var wrm1_dispatch_total_weight = 0;
                        var wrm2_dispatch_total_weight = 0;
                        var sbm_dispatch_total_weight = 0;
                        var stm_dispatch_total_weight = 0;
                        
                        var total_dispatch_count = 0;
                        var total_dispatch_weight = 0;
                        
                        var lmmm_prod_shift_count = 0;
                        var mmsm_prod_shift_count = 0;
                        var wrm1_prod_shift_count = 0;
                        var wrm2_prod_shift_count = 0;
                        var sbm_prod_shift_count = 0;
                        var stm_prod_shift_count = 0;
                        
                        var lmmm_prod_total_count = 0;
                        var mmsm_prod_total_count = 0;
                        var wrm1_prod_total_count = 0;
                        var wrm2_prod_total_count = 0;
                        var sbm_prod_total_count = 0;
                        var stm_prod_total_count = 0;
                        
                        var lmmm_prod_shift_weight = 0;
                        var mmsm_prod_shift_weight = 0;
                        var wrm1_prod_shift_weight = 0;
                        var wrm2_prod_shift_weight = 0;
                        var sbm_prod_shift_weight = 0;
                        var stm_prod_shift_weight = 0;
                        
                        var lmmm_prod_total_weight = 0;
                        var mmsm_prod_total_weight = 0;
                        var wrm1_prod_total_weight = 0;
                        var wrm2_prod_total_weight = 0;
                        var sbm_prod_total_weight = 0;
                        var stm_prod_total_weight = 0;
                        
                        var total_prod_count = 0;
                        var total_prod_weight = 0;
                        
                        var lmmm_total_delay = 0;
                        var mmsm_total_delay = 0;
                        var wrm1_total_delay = 0;
                        var wrm2_total_delay = 0;
                        var sbm_total_delay = 0;
                        var stm_total_delay = 0;
                        var total_delay = 0;
                        
                        var wrm1_l1 = 0;
                        var wrm1_l2 = 0;
                        var wrm1_l3 = 0;
                        var wrm1_l4 = 0;
                        
                        var wrm2_l1 = 0;
                        var wrm2_l2 = 0;
                        
                        var total_prod_month_count = 0;
                        var total_prod_month_weight = 0;
                        
                        var total_dispatch_month_count = 0;
                        var total_dispatch_month_weight = 0;
                        
                        var total_delay_month_count = 0;
                        
                        var import_power = 0;
                        var lmmm_power = 0;
                        var mmsm_power = 0;
                        var wrm1_power = 0;
                        var wrm2_power = 0;
                        var sbm_power = 0;
                        var stm_power = 0;
                        
                        var lmmm_current = 0;
                        var mmsm_current = 0;
                        var wrm1_current = 0;
                        var wrm2_current = 0;
                        var sbm_current = 0;
                        var stm_current = 0;
                        
                        var total_month_power  = 0;
                        
                        Object.keys(dispatch_data).forEach(key => 
                        {
                            if(key === 'lmmm_dispatch_shift_count')
                            {
                                lmmm_dispatch_shift_count =  dispatch_data[key];
                                session_obj["lmmm_dispatch_shift_count"] = lmmm_dispatch_shift_count;
                                
                            }
                            else if(key === 'mmsm_dispatch_shift_count')
                            {
                                mmsm_dispatch_shift_count =  dispatch_data[key];
                                session_obj["mmsm_dispatch_shift_count"] = mmsm_dispatch_shift_count;
                            }
                            else if(key === 'wrm1_dispatch_shift_count')
                            {
                                wrm1_dispatch_shift_count =  dispatch_data[key];
                                session_obj["wrm1_dispatch_shift_count"] = wrm1_dispatch_shift_count;
                            }
                            else if(key === 'wrm2_dispatch_shift_count')
                            {
                                wrm2_dispatch_shift_count =  dispatch_data[key];
                                session_obj["wrm2_dispatch_shift_count"] = wrm2_dispatch_shift_count;
                            }
                            
                            else if(key === 'sbm_dispatch_shift_count')
                            {
                                sbm_dispatch_shift_count =  dispatch_data[key];
                                session_obj["sbm_dispatch_shift_count"] = sbm_dispatch_shift_count;
                            }
                            else if(key === 'stm_dispatch_shift_count')
                            {
                                stm_dispatch_shift_count =  dispatch_data[key];
                                session_obj["stm_dispatch_shift_count"] = stm_dispatch_shift_count;
                            }
                            else if(key === 'lmmm_dispatch_shift_weight')
                            {
                                lmmm_dispatch_shift_weight =  dispatch_data[key];
                                session_obj["lmmm_dispatch_shift_weight"] = lmmm_dispatch_shift_weight;
                            }
                            else if(key === 'mmsm_dispatch_shift_weight')
                            {
                                mmsm_dispatch_shift_weight =  dispatch_data[key];
                                session_obj["mmsm_dispatch_shift_weight"] = mmsm_dispatch_shift_weight;
                            }
                            
                            else if(key === 'wrm1_dispatch_shift_weight')
                            {
                                wrm1_dispatch_shift_weight =  dispatch_data[key];
                                session_obj["wrm1_dispatch_shift_weight"] = wrm1_dispatch_shift_weight;
                            }
                            else if(key === 'wrm2_dispatch_shift_weight')
                            {
                                wrm2_dispatch_shift_weight =  dispatch_data[key];
                                session_obj["wrm2_dispatch_shift_weight"] = wrm2_dispatch_shift_weight;
                            }
                            else if(key === 'sbm_dispatch_shift_weight')
                            {
                                sbm_dispatch_shift_weight =  dispatch_data[key];
                                session_obj["sbm_dispatch_shift_weight"] = sbm_dispatch_shift_weight;
                            }
                            else if(key === 'stm_dispatch_shift_weight')
                            {
                                stm_dispatch_shift_weight =  dispatch_data[key];
                                session_obj["stm_dispatch_shift_weight"] = stm_dispatch_shift_weight;
                            }
                            
                            else if(key === 'lmmm_dispatch_total_count')
                            {
                                lmmm_dispatch_total_count =  dispatch_data[key];
                                session_obj["lmmm_dispatch_total_count"] = lmmm_dispatch_total_count;
                            }
                            else if(key === 'mmsm_dispatch_total_count')
                            {
                                mmsm_dispatch_total_count =  dispatch_data[key];
                                session_obj["mmsm_dispatch_total_count"] = mmsm_dispatch_total_count;
                            }
                            else if(key === 'wrm1_dispatch_total_count')
                            {
                                wrm1_dispatch_total_count =  dispatch_data[key];
                                session_obj["wrm1_dispatch_total_count"] = wrm1_dispatch_total_count;
                            }
                            else if(key === 'wrm2_dispatch_total_count')
                            {
                                wrm2_dispatch_total_count =  dispatch_data[key];
                                session_obj["wrm2_dispatch_total_count"] = wrm2_dispatch_total_count;
                            }
                            
                            else if(key === 'sbm_dispatch_total_count')
                            {
                                sbm_dispatch_total_count =  dispatch_data[key];
                                session_obj["sbm_dispatch_total_count"] = sbm_dispatch_total_count;
                            }
                            else if(key === 'stm_dispatch_total_count')
                            {
                                stm_dispatch_total_count =  dispatch_data[key];
                                session_obj["stm_dispatch_total_count"] = stm_dispatch_total_count;
                            }
                            else if(key === 'lmmm_dispatch_total_weight')
                            {
                                lmmm_dispatch_total_weight =  dispatch_data[key];
                                session_obj["lmmm_dispatch_total_weight"] = lmmm_dispatch_total_weight;
                            }
                            else if(key === 'mmsm_dispatch_total_weight')
                            {
                                mmsm_dispatch_total_weight =  dispatch_data[key];
                                session_obj["mmsm_dispatch_total_weight"] = mmsm_dispatch_total_weight;
                            }
                            
                            else if(key === 'wrm1_dispatch_total_weight')
                            {
                                wrm1_dispatch_total_weight =  dispatch_data[key];
                                session_obj["wrm1_dispatch_total_weight"] = wrm1_dispatch_total_weight;
                            }
                            else if(key === 'wrm2_dispatch_total_weight')
                            {
                                wrm2_dispatch_total_weight =  dispatch_data[key];
                                session_obj["wrm2_dispatch_total_weight"] = wrm2_dispatch_total_weight;
                            }
                            else if(key === 'sbm_dispatch_total_weight')
                            {
                                sbm_dispatch_total_weight =  dispatch_data[key];
                                session_obj["sbm_dispatch_total_weight"] = sbm_dispatch_total_weight;
                            }
                            else if(key === 'stm_dispatch_total_weight')
                            {
                                stm_dispatch_total_weight =  dispatch_data[key];
                                session_obj["stm_dispatch_total_weight"] = stm_dispatch_total_weight;
                            }
                            else if(key === 'total_dispatch_count')
                            {
                                total_dispatch_count =  dispatch_data[key];
                                session_obj["total_dispatch_count"] = total_dispatch_count;
                            }
                            else if(key === 'total_dispatch_weight')
                            {
                                total_dispatch_weight =  dispatch_data[key];
                                session_obj["total_dispatch_weight"] = total_dispatch_weight;
                            }
                            
                        });                        
                      
                        Object.keys(prod_data).forEach(key => 
                        {
                            if(key === 'lmmm_prod_shift_count')
                            {
                                lmmm_prod_shift_count =  prod_data[key];
                                session_obj["lmmm_prod_shift_count"] = lmmm_prod_shift_count;
                            }
                            else if(key === 'mmsm_prod_shift_count')
                            {
                                mmsm_prod_shift_count =  prod_data[key];
                                session_obj["mmsm_prod_shift_count"] = mmsm_prod_shift_count;
                            }
                            else if(key === 'wrm1_prod_shift_count')
                            {
                                wrm1_prod_shift_count =  prod_data[key];
                                session_obj["wrm1_prod_shift_count"] = wrm1_prod_shift_count;
                            }
                            else if(key === 'wrm2_prod_shift_count')
                            {
                                wrm2_prod_shift_count =  prod_data[key];
                                session_obj["wrm2_prod_shift_count"] = wrm2_prod_shift_count;
                            }
                            
                            else if(key === 'sbm_prod_shift_count')
                            {
                                sbm_prod_shift_count =  prod_data[key];
                                session_obj["sbm_prod_shift_count"] = sbm_prod_shift_count;
                            }
                            else if(key === 'stm_prod_shift_count')
                            {
                                stm_prod_shift_count =  prod_data[key];
                                session_obj["stm_prod_shift_count"] = stm_prod_shift_count;
                            }
                            else if(key === 'lmmm_prod_shift_weight')
                            {
                                lmmm_prod_shift_weight =  prod_data[key];
                                session_obj["lmmm_prod_shift_weight"] = lmmm_prod_shift_weight;
                            }
                            else if(key === 'mmsm_prod_shift_weight')
                            {
                                mmsm_prod_shift_weight =  prod_data[key];
                                session_obj["mmsm_prod_shift_weight"] = mmsm_prod_shift_weight;
                            }
                            
                            else if(key === 'wrm1_prod_shift_weight')
                            {
                                wrm1_prod_shift_weight =  prod_data[key];
                                session_obj["wrm1_prod_shift_weight"] = wrm1_prod_shift_weight;
                            }
                            else if(key === 'wrm2_prod_shift_weight')
                            {
                                wrm2_prod_shift_weight =  prod_data[key];
                                session_obj["wrm2_prod_shift_weight"] = wrm2_prod_shift_weight;
                            }
                            else if(key === 'sbm_prod_shift_weight')
                            {
                                sbm_prod_shift_weight =  prod_data[key];
                                session_obj["sbm_prod_shift_weight"] = sbm_prod_shift_weight;
                            }
                            else if(key === 'stm_prod_shift_weight')
                            {
                                stm_prod_shift_weight =  prod_data[key];
                                session_obj["stm_prod_shift_weight"] = stm_prod_shift_weight;
                            }
                            
                            else if(key === 'lmmm_prod_total_count')
                            {
                                lmmm_prod_total_count =  prod_data[key];
                                session_obj["lmmm_prod_total_count"] = lmmm_prod_total_count;
                            }
                            else if(key === 'mmsm_prod_total_count')
                            {
                                mmsm_prod_total_count =  prod_data[key];
                                session_obj["mmsm_prod_total_count"] = mmsm_prod_total_count;
                            }
                            else if(key === 'wrm1_prod_total_count')
                            {
                                wrm1_prod_total_count =  prod_data[key];
                                session_obj["wrm1_prod_total_count"] = wrm1_prod_total_count;
                            }
                            else if(key === 'wrm2_prod_total_count')
                            {
                                wrm2_prod_total_count =  prod_data[key];
                                session_obj["wrm2_prod_total_count"] = wrm2_prod_total_count;
                            }
                            
                            else if(key === 'sbm_prod_total_count')
                            {
                                sbm_prod_total_count =  prod_data[key];
                                session_obj["sbm_prod_total_count"] = sbm_prod_total_count;
                            }
                            else if(key === 'stm_prod_total_count')
                            {
                                stm_prod_total_count =  prod_data[key];
                                session_obj["stm_prod_total_count"] = stm_prod_total_count;
                            }
                            else if(key === 'lmmm_prod_total_weight')
                            {
                                lmmm_prod_total_weight =  prod_data[key];
                                session_obj["lmmm_prod_total_weight"] = lmmm_prod_total_weight;
                            }
                            else if(key === 'mmsm_prod_total_weight')
                            {
                                mmsm_prod_total_weight =  prod_data[key];
                                session_obj["mmsm_prod_total_weight"] = mmsm_prod_total_weight;
                            }
                            
                            else if(key === 'wrm1_prod_total_weight')
                            {
                                wrm1_prod_total_weight =  prod_data[key];
                                session_obj["wrm1_prod_total_weight"] = wrm1_prod_total_weight;
                            }
                            else if(key === 'wrm2_prod_total_weight')
                            {
                                wrm2_prod_total_weight =  prod_data[key];
                                session_obj["wrm2_prod_total_weight"] = wrm2_prod_total_weight;
                            }
                            else if(key === 'sbm_prod_total_weight')
                            {
                                sbm_prod_total_weight =  prod_data[key];
                                session_obj["sbm_prod_total_weight"] = sbm_prod_total_weight;
                            }
                            else if(key === 'stm_prod_total_weight')
                            {
                                stm_prod_total_weight =  prod_data[key];
                                session_obj["stm_prod_total_weight"] = stm_prod_total_weight;
                            }
                            else if(key === 'total_prod_count')
                            {
                                total_prod_count =  prod_data[key];
                                session_obj["total_prod_count"] = total_prod_count;
                            }
                            else if(key === 'total_prod_weight')
                            {
                                total_prod_weight =  prod_data[key];
                                session_obj["total_prod_weight"] = total_prod_weight;
                            }
                            
                        });
                        
                        Object.keys(profile_data).forEach(key => 
                        {
                            if(key === 'lmmm_profile')
                            {
                                lmmm_profile =  profile_data[key];
                                session_obj["lmmm_profile"] = lmmm_profile;
                            }
                            else if(key === 'mmsm_profile')
                            {
                                mmsm_profile =  profile_data[key];
                                session_obj["mmsm_profile"] = mmsm_profile;
                            }
                            else if(key === 'wrm1_profile')
                            {
                                wrm1_profile =  profile_data[key];
                                session_obj["wrm1_profile"] = wrm1_profile;
                            }
                            else if(key === 'wrm2_profile')
                            {
                                wrm2_profile =  profile_data[key];
                                session_obj["wrm2_profile"] = wrm2_profile;
                            }
                            
                            else if(key === 'sbm_profile')
                            {
                                sbm_profile =  profile_data[key];
                                session_obj["sbm_profile"] = sbm_profile;
                            }
                            else if(key === 'stm_profile')
                            {
                                stm_profile =  profile_data[key];
                                session_obj["stm_profile"] = stm_profile;
                            }
                            else if(key === 'lmmm_current')
                            {
                                lmmm_current =  profile_data[key];
                                session_obj["lmmm_current"] = lmmm_current;
                            }
                            else if(key === 'mmsm_current')
                            {
                                mmsm_current =  profile_data[key];
                                session_obj["mmsm_current"] = mmsm_current;
                            }
                            else if(key === 'wrm1_current')
                            {
                                wrm1_current =  profile_data[key];
                                session_obj["wrm1_current"] = wrm1_current;
                            }
                            else if(key === 'wrm2_current')
                            {
                                wrm2_current =  profile_data[key];
                                session_obj["wrm2_current"] = wrm2_current;
                            }
                            
                            else if(key === 'sbm_current')
                            {
                                sbm_current =  profile_data[key];
                                session_obj["sbm_current"] = sbm_current;
                            }
                            else if(key === 'stm_current')
                            {
                                stm_current =  profile_data[key];
                                session_obj["stm_current"] = stm_current;
                            }
                           
                            
                        });
                        
                        Object.keys(delay_data).forEach(key => 
                        {
                            if(key === 'lmmm_delay')
                            {
                                lmmm_delay =  delay_data[key];
                                session_obj["lmmm_delay"] = lmmm_delay;
                            }
                            else if(key === 'mmsm_delay')
                            {
                                mmsm_delay =  delay_data[key];
                                session_obj["mmsm_delay"] = mmsm_delay;
                            }
                            else if(key === 'wrm1_delay')
                            {
                                wrm1_delay =  delay_data[key];
                                session_obj["wrm1_delay"] = wrm1_delay;
                            }
                            else if(key === 'wrm2_delay')
                            {
                                wrm2_delay =  delay_data[key];
                                session_obj["wrm2_delay"] = wrm2_delay;
                            }
                            
                            else if(key === 'sbm_delay')
                            {
                                sbm_delay =  delay_data[key];
                                session_obj["sbm_delay"] = sbm_delay;
                            }
                            else if(key === 'stm_delay')
                            {
                                stm_delay =  delay_data[key];
                                session_obj["stm_delay"] = stm_delay;
                            }
                            else if(key === 'wrm1_l1')
                            {
                                wrm1_l1 =  delay_data[key];
                                session_obj["wrm1_l1"] = wrm1_l1;
                            }
                            else if(key === 'wrm1_l2')
                            {
                                wrm1_l2 =  delay_data[key];
                                session_obj["wrm1_l2"] = wrm1_l2;
                            }
                            else if(key === 'wrm1_l3')
                            {
                                wrm1_l3 =  delay_data[key];
                                session_obj["wrm1_l3"] = wrm1_l3;
                            }
                            else if(key === 'wrm1_l4')
                            {
                                wrm1_l4 =  delay_data[key];
                                session_obj["wrm1_l4"] = wrm1_l4;
                            }
                            else if(key === 'wrm2_l1')
                            {
                                wrm2_l1 =  delay_data[key];
                                session_obj["wrm2_l1"] = wrm2_l1;
                            }
                            else if(key === 'wrm2_l2')
                            {
                                wrm2_l2 =  delay_data[key];
                                session_obj["wrm2_l2"] = wrm2_l2;
                            }
                           
                           
                            
                        });
                        
                        Object.keys(delay_data_total).forEach(key => 
                        {
                            if(key === 'lmmm_total_delay')
                            {
                                lmmm_total_delay =  delay_data_total[key];
                                session_obj["lmmm_total_delay"] = lmmm_total_delay;
                            }
                            else if(key === 'mmsm_total_delay')
                            {
                                mmsm_total_delay =  delay_data_total[key];
                                session_obj["mmsm_total_delay"] = mmsm_total_delay;
                            }
                            else if(key === 'wrm1_total_delay')
                            {
                                wrm1_total_delay =  delay_data_total[key];
                                session_obj["wrm1_total_delay"] = wrm1_total_delay;
                            }
                            else if(key === 'wrm2_total_delay')
                            {
                                wrm2_total_delay =  delay_data_total[key];
                                session_obj["wrm2_total_delay"] = wrm2_total_delay;
                            }
                            
                            else if(key === 'sbm_total_delay')
                            {
                                sbm_total_delay =  delay_data_total[key];
                                session_obj["sbm_total_delay"] = sbm_total_delay;
                            }
                            else if(key === 'stm_total_delay')
                            {
                                stm_total_delay =  delay_data_total[key];
                                session_obj["stm_total_delay"] = stm_total_delay;
                            }
                            else if(key === 'total_delay')
                            {
                                total_delay =  delay_data_total[key];
                                session_obj["total_delay"] = total_delay;
                            }
                           
                            
                        });
                        
                        Object.keys(prod_monthly_data).forEach(key => 
                        {
                            if(key === 'total_prod_month_count')
                            {
                                total_prod_month_count =  prod_monthly_data[key];
                                session_obj["total_prod_month_count"] = total_prod_month_count;
                            }
                            else if(key === 'total_prod_month_weight')
                            {
                                total_prod_month_weight =  prod_monthly_data[key];
                                session_obj["total_prod_month_weight"] = total_prod_month_weight;
                            }
                           
                            
                        });
                        
                        Object.keys(dispatch_monthly_data).forEach(key => 
                        {
                            if(key === 'total_dispatch_month_count')
                            {
                                total_dispatch_month_count =  dispatch_monthly_data[key];
                                session_obj["total_dispatch_month_count"] = total_dispatch_month_count;
                            }
                            else if(key === 'total_dispatch_month_weight')
                            {
                                total_dispatch_month_weight =  dispatch_monthly_data[key];
                                session_obj["total_dispatch_month_weight"] = total_dispatch_month_weight;
                            }
                           
                            
                        });
                        
                        Object.keys(delay_monthly_data).forEach(key => 
                        {
                            if(key === 'total_delay_month_count')
                            {
                                total_delay_month_count =  delay_monthly_data[key];
                                session_obj["total_delay_month_count"] = total_delay_month_count;
                            }
                           
                            
                        });
                        
                        Object.keys(power_data).forEach(key => 
                        {
                            if(key === 'import_power')
                            {
                                import_power =  power_data[key];
                                session_obj["import_power"] = import_power;
                            }
                            else if(key === 'lmmm_power')
                            {
                                lmmm_power =  power_data[key];
                                session_obj["lmmm_power"] = lmmm_power;
                            }
                            else if(key === 'mmsm_power')
                            {
                                mmsm_power =  power_data[key];
                                session_obj["mmsm_power"] = mmsm_power;
                            }
                            else if(key === 'wrm1_power')
                            {
                                wrm1_power =  power_data[key];
                                session_obj["wrm1_power"] = wrm1_power;
                            }
                            else if(key === 'wrm2_power')
                            {
                                wrm2_power =  power_data[key];
                                session_obj["wrm2_power"] = wrm2_power;
                            }
                            else if(key === 'sbm_power')
                            {
                                sbm_power =  power_data[key];
                                session_obj["sbm_power"] = sbm_power;
                            }
                            else if(key === 'stm_power')
                            {
                                stm_power =  power_data[key];
                                session_obj["stm_power"] = stm_power;
                            }
                        });
                        
                        Object.keys(power_monthly_data).forEach(key => 
                        {
                            if(key === 'total_month_power')
                            {
                                total_month_power =  power_monthly_data[key];
                                session_obj["total_month_power"] = total_month_power;
                            }
                            
                        });
                        
                        if(lmmm_current == 0)
                        {
                            document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                            document.getElementById("td_lmmm_delay").innerHTML = "---";
                            document.getElementById("td_lmmm_energy").innerHTML = "---";
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count + "<br> <span style='color:  #2980b9;font-size:small '> Bundles </span>" ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight   ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight ;
                           
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_lmmm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            document.getElementById("td_lmmm_profile").innerHTML =  lmmm_profile   ;
                            document.getElementById("td_lmmm_delay").innerHTML = "---";
                            document.getElementById("td_lmmm_energy").innerHTML = "---";
                            //document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count ;
                            document.getElementById("td_lmmm_production").innerHTML =  lmmm_prod_shift_count + "<br> <span style='color:  #2980b9;font-size:small '> Bundles </span>" ;
                            document.getElementById("td_lmmm_tons").innerHTML =   lmmm_prod_shift_weight    ;
                            document.getElementById("td_lmmm_dispatch_bundles").innerHTML = lmmm_dispatch_shift_count;
                            document.getElementById("td_lmmm_dispatch_tons").innerHTML = lmmm_dispatch_shift_weight ;
                           
                            document.getElementById("tb_cell_lmmm").style.backgroundColor = "#058407";
                            document.getElementById("span_lmmm").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                        
                        //if(mmsm_profile === 'NA')
                        if(mmsm_current == 0)
                        {
                            //alert('mmsm delay: ' + mmsm_delay);
                            document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            document.getElementById("td_mmsm_energy").innerHTML = mmsm_power;
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight ;
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight ;
                           
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_mmsm").style.backgroundColor = "#ec0101";
                     
                        }
                        else
                        {
                            //alert('mmsm delay: ' + mmsm_delay);
                            document.getElementById("td_mmsm_profile").innerHTML = mmsm_profile;
                            document.getElementById("td_mmsm_delay").innerHTML = mmsm_delay;
                            document.getElementById("td_mmsm_energy").innerHTML = mmsm_power;
                            document.getElementById("td_mmsm_production").innerHTML = mmsm_prod_shift_count ;
                            document.getElementById("td_mmsm_tons").innerHTML = mmsm_prod_shift_weight ;
                            document.getElementById("td_mmsm_dispatch_bundles").innerHTML = mmsm_dispatch_shift_count ;
                            document.getElementById("td_mmsm_dispatch_tons").innerHTML = mmsm_dispatch_shift_weight ;
                          
                            
                        
                            document.getElementById("tb_cell_mmsm").style.backgroundColor = "#058407";
                            document.getElementById("span_mmsm").style.backgroundColor = "#058407";
                      
                        }
                        
                      
                        var bar = "<span style='color:red';> | </span>";
                      
                        //if(wrm1_profile === 'NA')
                        if(wrm1_current == 0)
                        {
                            document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_l1 + bar + wrm1_l2 + bar + wrm1_l3 + bar + wrm1_l4;
                            document.getElementById("td_wrm1_energy").innerHTML = wrm1_power;
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight ;
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight ;
                           
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm1").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            document.getElementById("td_wrm1_profile").innerHTML = wrm1_profile;
                            document.getElementById("td_wrm1_delay").innerHTML = wrm1_l1 + bar + wrm1_l2 + bar + wrm1_l3 + bar + wrm1_l4;
                            document.getElementById("td_wrm1_energy").innerHTML = wrm1_power;
                            document.getElementById("td_wrm1_production").innerHTML = wrm1_prod_shift_count ;
                            document.getElementById("td_wrm1_tons").innerHTML = wrm1_prod_shift_weight;
                            document.getElementById("td_wrm1_dispatch_bundles").innerHTML = wrm1_dispatch_shift_count ;
                            document.getElementById("td_wrm1_dispatch_tons").innerHTML = wrm1_dispatch_shift_weight ;
                        
                            document.getElementById("tb_cell_wrm1").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm1").style.backgroundColor = "#058407";
                      
                        }
                        
                        
                       
                        //if(wrm2_profile === 'NA')
                        if(wrm2_current == 0)
                        {
                            document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_l1 + bar + wrm2_l2 ;
                            document.getElementById("td_wrm2_energy").innerHTML = wrm2_power;
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight;
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight ;
                           
                           
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#ec0101";
                            document.getElementById("span_wrm2").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            document.getElementById("td_wrm2_profile").innerHTML = wrm2_profile ;
                            document.getElementById("td_wrm2_delay").innerHTML = wrm2_l1 + bar + wrm2_l2 ;
                            document.getElementById("td_wrm2_energy").innerHTML = wrm2_power;  
                            document.getElementById("td_wrm2_production").innerHTML = wrm2_prod_shift_count ;
                            document.getElementById("td_wrm2_tons").innerHTML = wrm2_prod_shift_weight;
                            document.getElementById("td_wrm2_dispatch_bundles").innerHTML = wrm2_dispatch_shift_count ;
                            document.getElementById("td_wrm2_dispatch_tons").innerHTML = wrm2_dispatch_shift_weight;
                            document.getElementById("tb_cell_wrm2").style.backgroundColor = "#058407";
                            document.getElementById("span_wrm2").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                        
                        
                        //if(sbm_profile === 'NA')
                        if(sbm_current == 0)
                        {
                            document.getElementById("td_sbm_profile").innerHTML = sbm_profile ;
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            document.getElementById("td_sbm_energy").innerHTML = sbm_power;
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight;
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight;
                           
                           
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_sbm").style.backgroundColor = "#ec0101";
                      
                            
                        }
                        else
                        {
                            document.getElementById("td_sbm_profile").innerHTML = sbm_profile;
                            document.getElementById("td_sbm_delay").innerHTML = sbm_delay;
                            document.getElementById("td_sbm_energy").innerHTML = sbm_power;
                            document.getElementById("td_sbm_production").innerHTML = sbm_prod_shift_count ;
                            document.getElementById("td_sbm_tons").innerHTML = sbm_prod_shift_weight;
                            document.getElementById("td_sbm_dispatch_bundles").innerHTML = sbm_dispatch_shift_count ;
                            document.getElementById("td_sbm_dispatch_tons").innerHTML = sbm_dispatch_shift_weight ;
                           
                           
                        
                            document.getElementById("tb_cell_sbm").style.backgroundColor = "#058407";
                            document.getElementById("span_sbm").style.backgroundColor = "#058407";
                      
                        }
                       
                        
                      
                        //if(stm_profile === 'NA')
                        if(stm_current == 0)
                        {
                            document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            document.getElementById("td_stm_energy").innerHTML = stm_power;
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_weight ;
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight;
                           
                           
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#ec0101";
                            document.getElementById("span_stm").style.backgroundColor = "#ec0101";
                        }
                        else
                        {
                            document.getElementById("td_stm_profile").innerHTML =   stm_profile;
                            document.getElementById("td_stm_delay").innerHTML = stm_delay;
                            document.getElementById("td_stm_energy").innerHTML = stm_power;
                            document.getElementById("td_stm_production").innerHTML =   stm_prod_shift_count ;
                            document.getElementById("td_stm_tons").innerHTML =   stm_prod_shift_weight ;
                            document.getElementById("td_stm_dispatch_bundles").innerHTML = stm_dispatch_shift_count ;
                            document.getElementById("td_stm_dispatch_tons").innerHTML = stm_dispatch_shift_weight ;
                           
                        
                            document.getElementById("tb_cell_stm").style.backgroundColor = "#058407";
                            document.getElementById("span_stm").style.backgroundColor = "#058407";
                      
                        }
                       
                          
                        document.getElementById("total_production").innerHTML = "<span style='color: #1abc9c '>" + total_prod_month_count + "</span> <span style='color:red;height:100%'> | </span>" + total_prod_month_weight +"<span style='color:black'>t</span>" ;
                        document.getElementById("total_dispatch").innerHTML = "<span style='color: #1abc9c;  '>" + total_dispatch_month_count + "</span> <span style='color:red;height:100%;fontSize:larger;'> | </span>" + total_dispatch_month_weight +"<span style='color:black'>t</span>" ;
                        document.getElementById("total_delay").innerHTML = total_delay_month_count + " min";
                        document.getElementById("total_energy").innerHTML = total_month_power + " MW";
                        document.getElementById("label_power").innerHTML = "Imported Power: " + import_power + "MW";
                        
                        //let ton = "<span style='color:red'>T</span>";
                        let ton = "<span style='color:black'>T</span>";
                        document.getElementById("label_total_production").innerHTML = total_prod_weight + ton;
                        document.getElementById("label_total_dispatch").innerHTML = total_dispatch_weight + ton;
                        
                        var prod_monthly_data = returnedData['prod_monthly_data'];
                       
                        update_DelayChart(delay_monthly_data);
                        update_ProdChart(prod_monthly_data);
                        
                        //update_DelayChart(delay_data_total);
                        //update_ProdChart(prod_data);
                     
                      
                        users_obj = users_data;
                        message_obj = message_data;
                        
                        var message_content = "na";
                        var message_time = "na";
                        
                        for (var key in message_obj) 
                        {
                            if (message_obj.hasOwnProperty(key))
                            {
                              var val = message_obj[key];
                              if(key === 'message_content')
                              {
                                  message_content = val;
                              }
                              else  if(key === 'message_time')
                              {
                                  message_time = val;
                              }
                              console.log(val);
                            }
                        }
                        
                        //alert('message: ' +  message_content);
                        //alert('time: ' + message_time);
                        
                        if(message_time != 'na' && message_content !='na')
                        {
                            const dt1 = new Date(message_time);
                            const dt2 = new Date();

                            //alert(dt1);
                            //alert(dt2);

                            // Calculate the difference in milliseconds between the two provided Date objects by subtracting the milliseconds value of dt1 from the milliseconds value of dt2
                            var diff =(dt2.getTime() - dt1.getTime()) / 1000;
                            //alert(diff);

                            // Convert the difference from milliseconds to hours by dividing it by the number of seconds in an hour (3600)
                            diff /= (60 * 60);
                            //alert(diff);
                            
                            if(diff < 24)
                            {
                                document.getElementById("marquee_message").innerText = message_content ;
                                document.getElementById("marquee_message").style.display ='block';

                            }
                        }
                       
                        error_msg = error_msg.trim();
                        if(error_msg === '')
                        {
                            
                        }
                        else
                        {
                             alert("Exception Message- " +  error_msg);
                        }
                        
                        localStorage.setItem("session_obj", JSON.stringify(session_obj));
                        localStorage.setItem("users_obj", JSON.stringify(users_obj));
                        
                        document.getElementById("div_dashboard").addEventListener('click', changeCursor);
                        
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }

                   
            }
            
            function changeCursor()
            {
                document.getElementById("label_total_production").style.cursor = "pointer";
            }
            
            
            function update_DelayChart_1(delay_data_total)
            {
                var lmmm_total_delay = 0;
                var mmsm_total_delay = 0;
                var wrm1_total_delay = 0;
                var wrm2_total_delay = 0;
                var sbm_total_delay = 0;
                var stm_total_delay = 0;
                var total_delay = 0;
                        
                Object.keys(delay_data_total).forEach(key => 
                {
                    if(key === 'lmmm_total_delay')
                    {
                        lmmm_total_delay =  delay_data_total[key];
                    }
                    else if(key === 'mmsm_total_delay')
                    {
                        mmsm_total_delay =  delay_data_total[key];
                    }
                    else if(key === 'wrm1_total_delay')
                    {
                        wrm1_total_delay =  delay_data_total[key];
                    }
                    else if(key === 'wrm2_total_delay')
                    {
                        wrm2_total_delay =  delay_data_total[key];
                    }

                    else if(key === 'sbm_total_delay')
                    {
                        sbm_total_delay =  delay_data_total[key];
                    }
                    else if(key === 'stm_total_delay')
                    {
                        stm_total_delay =  delay_data_total[key];
                    }
                    else if(key === 'total_delay')
                    {
                        total_delay =  delay_data_total[key];
                    }


                });
                
                var l = 0;
                var m = 0;
                var w1 = 0;
                var w2 = 0;
                var b = 0;
                var t = 0;
                
                l = lmmm_total_delay;
                m = mmsm_total_delay;
                w1 = wrm1_total_delay;
                w2 = wrm2_total_delay;
                b = sbm_total_delay;
                t = stm_total_delay;
                
                let max = Math.max(l, m, w1,w2,b,t);
                let stepSize = 50;
                
                if(max <=200)
                {
                    stepSize = 50;
                    max = 200;
                }
                else if(max >200 && max <=500)
                {
                    stepSize = 100;
                    max = 500;
                }
                else if(max>500 && max <=1000)
                {
                    stepSize = 200;
                    max = 1000;
                }
                else if(max>1000 && max <=1500)
                {
                    stepSize = 300;
                    max = 1500;
                }
                
                
                
                var xValues = ["L", "M", "W1", "W2", "B", "T"];
                //var yValues = [110, 149, 144, 224, 215, 67];
                var yValues = [l, m, w1, w2, b, t];
                var barColors = ["red", "green","blue","orange","brown", "purple"];
                
                let ctx1 = document.getElementById("myChart_delay_summary").getContext("2d");
                let myChart_delay = new Chart(ctx1, {
                    
                type: "bar",
                data: 
                {
                    labels: xValues,
                    datasets: [{
                                backgroundColor: barColors,
                                data: yValues,
                                fillColor: "#79D1CF",
                                strokeColor: "#79D1CF"
                              }]
                },
               
                options: 
                {
                    maintainAspectRatio: false,
                    responsive: true,
                    legend: {display: false},
                    textInside: 
                    {
                        text: "Delays",
                        color: 'green',
                        fontSize: 28
                    },
                   
                    scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: max,
                                        stepSize: stepSize
                                        //beginAtZero: true
                                        //steps: 2,
                                        //stepValue: 300
                                        //max: 400
                                    }
                                }]
                        },
                   
                    plugins: [ChartDataLabels]
                }
                
                    
                });
            }
            
            function update_DelayChart(delay_data_total)
            {
                var lmmm_total_delay = 0;
                var mmsm_total_delay = 0;
                var wrm1_total_delay = 0;
                var wrm2_total_delay = 0;
                var sbm_total_delay = 0;
                var stm_total_delay = 0;
                var total_delay = 0;
                        
                var wrm1_l1 = 0;
                var wrm1_l2 = 0;
                var wrm1_l3 = 0;
                var wrm1_l4 = 0;

                var wrm2_l1 = 0;
                var wrm2_l2 = 0;
                
                Object.keys(delay_data_total).forEach(key => 
                {
                    if(key === 'lmmm_delay_month_count')
                    {
                        lmmm_total_delay =  delay_data_total[key];
                    }
                    else if(key === 'mmsm_delay_month_count')
                    {
                        mmsm_total_delay =  delay_data_total[key];
                    }
                    else if(key === 'wrm1_delay_month_count_l1')
                    {
                        wrm1_l1 =  delay_data_total[key];
                    }
                    else if(key === 'wrm1_delay_month_count_l2')
                    {
                        wrm1_l2 =  delay_data_total[key];
                    }
                    else if(key === 'wrm1_delay_month_count_l3')
                    {
                        wrm1_l3 =  delay_data_total[key];
                    }
                    else if(key === 'wrm1_delay_month_count_l4')
                    {
                        wrm1_l4 =  delay_data_total[key];
                    }
                    else if(key === 'wrm2_delay_month_count_l1')
                    {
                        wrm2_l1 =  delay_data_total[key];
                    }
                    else if(key === 'wrm2_delay_month_count_l2')
                    {
                        wrm2_l2 =  delay_data_total[key];
                    }
                    else if(key === 'sbm_delay_month_count')
                    {
                        sbm_total_delay =  delay_data_total[key];
                    }
                    else if(key === 'stm_delay_month_count')
                    {
                        stm_total_delay =  delay_data_total[key];
                    }
                    else if(key === 'total_delay_month_count')
                    {
                        total_delay =  delay_data_total[key];
                    }


                });
                
                wrm1_total_delay = wrm1_l1 + wrm1_l2 + wrm1_l3 + wrm1_l4;
                wrm2_total_delay = wrm2_l1 + wrm2_l2 ;
                
                var w1_delay =  Math.ceil(wrm1_total_delay/4);
                var w2_delay =  Math.ceil(wrm2_total_delay/2);
                
                var l = 0;
                var m = 0;
                var w1 = 0;
                var w2 = 0;
                var b = 0;
                var t = 0;
                
                l = lmmm_total_delay;
                m = mmsm_total_delay;
                //w1 = wrm1_total_delay;
                //w2 = wrm2_total_delay;
                w1 = w1_delay;
                w2 = w2_delay;
                b = sbm_total_delay;
                t = stm_total_delay;
                
                let max = Math.max(l, m, w1,w2,b,t);
                let stepSize = 2500;
                
                if(max <=5000)
                {
                    stepSize = 2500;
                    max = 5000;
                }
                else if(max >5000 && max <=10000)
                {
                    stepSize = 5000;
                    max = 10000;
                }
                else if(max>10000 && max <=15000)
                {
                    stepSize = 7000;
                    max = 15000;
                }
                else if(max>15000 && max <=25000)
                {
                    stepSize = 5000;
                    max = 25000;
                }
                else
                {
                    stepSize = 7000;
                    max = 50000;
                }
                
                
                
                var xValues = ["L", "M", "W1", "W2", "B", "T"];
                //var yValues = [110, 149, 144, 224, 215, 67];
                var yValues = [l, m, w1, w2, b, t];
                //var barColors = ["red", "green","blue","orange","brown", "purple"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];
    
                let ctx1 = document.getElementById("myChart_delay_summary").getContext("2d");
                let myChart_delay = new Chart(ctx1, {
                    
                type: "bar",
                data: 
                {
                    labels: xValues,
                    datasets: [{
                                backgroundColor: barColors,
                                data: yValues,
                                fillColor: "#79D1CF",
                                strokeColor: "#79D1CF"
                              }]
                },
               
                options: 
                {
                    maintainAspectRatio: false,
                    responsive: true,
                    legend: {display: false},
                    textInside: 
                    {
                        text: "Delays",
                        color: 'green',
                        fontSize: 28
                    },
                   
                    scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: max,
                                        stepSize: stepSize
                                        //beginAtZero: true
                                        //steps: 2,
                                        //stepValue: 300
                                        //max: 400
                                    }
                                }]
                        },
                   
                    plugins: [ChartDataLabels]
                }
                
                    
                });
            }
            
            function update_ProdChart_1(prod_data)
            {
                var lmmm_prod_total_count = 0;
                var mmsm_prod_total_count = 0;
                var wrm1_prod_total_count = 0;
                var wrm2_prod_total_count = 0;
                var sbm_prod_total_count = 0;
                var stm_prod_total_count = 0;
                
                var l =0;
                var m =0;
                var w1 =0;
                var w2 =0;
                var b = 0;
                var t= 0;
                
                
                Object.keys(prod_data).forEach(key => 
                {
                    
                    if(key === 'lmmm_prod_total_count')
                    {
                        lmmm_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'mmsm_prod_total_count')
                    {
                        mmsm_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'wrm1_prod_total_count')
                    {
                        wrm1_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'wrm2_prod_total_count')
                    {
                        wrm2_prod_total_count =  prod_data[key];
                    }

                    else if(key === 'sbm_prod_total_count')
                    {
                        sbm_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'stm_prod_total_count')
                    {
                        stm_prod_total_count =  prod_data[key];
                    }
                    
                    

                });
                 
                l = lmmm_prod_total_count;
                m = mmsm_prod_total_count;
                w1 = wrm1_prod_total_count;
                w2 = wrm2_prod_total_count;
                b = sbm_prod_total_count;
                t = stm_prod_total_count;
                
                let max = Math.max(l, m, w1,w2,b,t);
                let stepSize = 100;
                if(max <=500)
                {
                    stepSize = 100;
                    max = 500;
                }
                else if(max>500 && max <=1000)
                {
                    stepSize = 200;
                    max = 1000;
                }
                else if(max>1000 && max <=1500)
                {
                    stepSize = 300;
                    max = 1500;
                }
                else if(max>1500 && max <=2000)
                {
                    stepSize = 400;
                    max = 2000;
                }
                else if(max>2000 && max <=2500)
                {
                    stepSize = 500;
                    max = 2500;
                }
                else if(max>2500 )
                {
                    stepSize = 600;
                    max = 3000;
                }
                
                let ctx = document.getElementById("myChart_prod_summary").getContext("2d");
               
                    let myChart_prod = new Chart(ctx, {
                    type: "line",
                    
                    options: 
                    {
                        responsive: true,
                       
                        legend: 
                        {
                            display: false,
                            position: 'bottom'
                        },
                        
                        scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: max,
                                        stepSize: stepSize
                                        //beginAtZero: true,
                                        //steps: 2,
                                        //stepValue: 300
                                        //max: 400
                                    }
                                }]
                        },
                        plugins:{
                                    datalabels: 
                                    {
                                        anchor: 'end',
                                        align: 'end',
                                        labels: 
                                        {
                                            value:
                                            {
                                              color: 'blue'
                                            }
                                        }

                                    }
                                }    
                    },    
                    data: {
                        
                        labels: [
                            "L", 
                            "M",
                            "W1",
                            "W2",
                            "B",
                            "T"
                            
                        ], 
                       
                        
                        datasets: [
                            {
                                label: "",
                                //data: [100, 0, 120, 200, 300, 0],
                                data: [l, m, w1, w2, b, t],
                                backgroundColor: "rgba(153,205,1,0.6)"
                            }
                           
                        ]
                        
                    }
                });    
                
                
                //Chart.register(ChartDataLabels);
            }
            
            function update_ProdChart(prod_data)
            {
                var lmmm_prod_total_count = 0;
                var mmsm_prod_total_count = 0;
                var wrm1_prod_total_count = 0;
                var wrm2_prod_total_count = 0;
                var sbm_prod_total_count = 0;
                var stm_prod_total_count = 0;
                
                var lmmm_prod_total_weight = 0;
                var mmsm_prod_total_weight = 0;
                var wrm1_prod_total_weight = 0;
                var wrm2_prod_total_weight = 0;
                var sbm_prod_total_weight = 0;
                var stm_prod_total_weight = 0;
                
                var l =0;
                var m =0;
                var w1 =0;
                var w2 =0;
                var b = 0;
                var t= 0;
                
                
                Object.keys(prod_data).forEach(key => 
                {
                    
                    if(key === 'lmmm_prod_month_count')
                    {
                        lmmm_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'mmsm_prod_month_count')
                    {
                        mmsm_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'wrm1_prod_month_count')
                    {
                        wrm1_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'wrm2_prod_month_count')
                    {
                        wrm2_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'sbm_prod_month_count')
                    {
                        sbm_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'stm_prod_month_count')
                    {
                        stm_prod_total_count =  prod_data[key];
                    }
                    else if(key === 'lmmm_prod_month_weight')
                    {
                        lmmm_prod_total_weight =  prod_data[key];
                    }
                    else if(key === 'mmsm_prod_month_weight')
                    {
                        mmsm_prod_total_weight =  prod_data[key];
                    }
                    else if(key === 'wrm1_prod_month_weight')
                    {
                        wrm1_prod_total_weight =  prod_data[key];
                    }
                    else if(key === 'wrm2_prod_month_weight')
                    {
                        wrm2_prod_total_weight =  prod_data[key];
                    }

                    else if(key === 'sbm_prod_month_weight')
                    {
                        sbm_prod_total_weight =  prod_data[key];
                    }
                    else if(key === 'stm_prod_month_weight')
                    {
                        stm_prod_total_weight =  prod_data[key];
                    }
                    

                });
                 
                /*l = lmmm_prod_total_count;
                m = mmsm_prod_total_count;
                w1 = wrm1_prod_total_count;
                w2 = wrm2_prod_total_count;
                b = sbm_prod_total_count;
                t = stm_prod_total_count;*/
                
                l = lmmm_prod_total_weight;
                m = mmsm_prod_total_weight;
                w1 = wrm1_prod_total_weight;
                w2 = wrm2_prod_total_weight;
                b = sbm_prod_total_weight;
                t = stm_prod_total_weight;
                
                let max = Math.max(l, m, w1,w2,b,t);
                let maximum = max;
                let stepSize = 1000;
                if(max <= 10000)
                {
                    stepSize = 2000;
                    max = 10000;
                }
                else if(max>10000 && max <=20000)
                {
                    stepSize = 4000;
                    max = 20000;
                }
                else if(max>20000 && max <=30000)
                {
                    stepSize = 6000;
                    max = 30000;
                }
                else if(max>30000 && max <=40000)
                {
                    stepSize = 8000;
                    max = 40000;
                }
                else if(max>40000 && max <=50000)
                {
                    stepSize = 10000;
                    max = 50000;
                }
                else if(max>50000 )
                {
                    stepSize = 10000;
                    max = maximum;
                }
                let ctx_old = document.getElementById("myChart_prod_summary").getContext("2d");
                if (ctx_old) 
                {
                    //ctx_old.destroy();
                }
      
                document.getElementById("myChart_prod_summary").remove() ;
                $("#div_prod_chart").append('<canvas style="width:100%;" id="myChart_prod_summary"><canvas>');
                let ctx = document.getElementById("myChart_prod_summary").getContext("2d");
               
                    let myChart_prod = new Chart(ctx, {
                    type: "line",
                    
                    options: 
                    {
                        responsive: true,
                        maintainAspectRatio: false,
                        legend: 
                        {
                            display: false,
                            position: 'bottom'
                        },
                        
                        scales: 
                        {
                            x: [{
                                    display: true,
                                    scaleLabel: {
                                        display: true
                                        //labelString: 'Mill'
                                    },
                                    
                                    ticks: {
                                     fontSize: 2
                                    }
                                    
                                }],
                            yAxes: [{
                                    display: false,
                                    ticks: {
                                        min : 0,
                                        max: max,
                                        stepSize: stepSize
                                        //beginAtZero: true,
                                        //steps: 2,
                                        //stepValue: 300
                                        //max: 400
                                    }
                                }]
                        },
                        plugins:{
                                    datalabels: 
                                    {
                                        anchor: 'end',
                                        align: 'end',
                                        labels: 
                                        {
                                            value:
                                            {
                                              color: 'blue'
                                            }
                                        }

                                    }
                                }    
                    },    
                    data: {
                        
                        labels: [
                            "L", 
                            "M",
                            "W1",
                            "W2",
                            "B",
                            "T"
                            
                        ], 
                       
                        
                        datasets: [
                            {
                                label: "",
                                //data: [100, 0, 120, 200, 300, 0],
                                data: [l, m, w1, w2, b, t],
                                backgroundColor: "rgba(153,205,1,0.6)"
                            }
                           
                        ]
                        
                    }
                });    
                
                
                //Chart.register(ChartDataLabels);
            }
            
            function get_lmmm_production()
            {
               // $('#myModal_lmmm_production').modal('show');
               //$("#myModal_lmmm_production").modal({backdrop: true});
               
               //$("#myModal_lmmm_production").modal.style.height = "0px";
            }
            
            function show_production()
            {
                //alert('ok');
                //modal_obj["modal_production_d"] = true;
                //localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $.ajax( 
                     
	    	{
		       url : "rest/get_mills_prod_data",
		       method : "POST",
                       dataType: "json",
                     //  dataType: "application/json; charset=utf-8",
                       contentType: "application/json",
                       success : displayProductionUpdatedStatus,
                       error : function()
                       {
                           alert("could not connected to server !");
                       }
	    	}
                );
            }
                    
            function displayProductionUpdatedStatus(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        var prod_data = returnedData['prod_data'];
                        
                        var lmmm_A_count = 0;
                        var lmmm_B_count = 0;
                        var lmmm_C_count = 0;
                        var lmmm_total_count = 0;
                        var lmmm_total_weight = 0;
                        
                        var mmsm_A_count = 0;
                        var mmsm_B_count = 0;
                        var mmsm_C_count = 0;
                        var mmsm_total_count = 0;
                        var mmsm_total_weight = 0;
                        
                        var wrm1_A_count = 0;
                        var wrm1_B_count = 0;
                        var wrm1_C_count = 0;
                        var wrm1_total_count = 0;
                        var wrm1_total_weight = 0;
                        
                        var wrm2_A_count = 0;
                        var wrm2_B_count = 0;
                        var wrm2_C_count = 0;
                        var wrm2_total_count = 0;
                        var wrm2_total_weight = 0;
                        
                        var sbm_A_count = 0;
                        var sbm_B_count = 0;
                        var sbm_C_count = 0;
                        var sbm_total_count = 0;
                        var sbm_total_weight = 0;
                        
                        var stm_A_count = 0;
                        var stm_B_count = 0;
                        var stm_C_count = 0;
                        var stm_total_count = 0;
                        var stm_total_weight = 0;
                        
                        var total_count = 0;
                        var total_weight = 0;
                     
                      
                        Object.keys(prod_data).forEach(key => 
                        {
                            if(key === 'lmmm_A_count')
                            {
                                lmmm_A_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_B_count')
                            {
                                lmmm_B_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_C_count')
                            {
                                lmmm_C_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_total_count')
                            {
                                lmmm_total_count =  prod_data[key];
                            }
                            
                            else if(key === 'lmmm_total_weight')
                            {
                                lmmm_total_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_A_count')
                            {
                                mmsm_A_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_B_count')
                            {
                                mmsm_B_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_C_count')
                            {
                                mmsm_C_count =  prod_data[key];
                            }
                            
                            else if(key === 'mmsm_total_count')
                            {
                                mmsm_total_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_total_weight')
                            {
                                mmsm_total_weight =  prod_data[key];
                            }
                            else if(key === 'wrm1_A_count')
                            {
                                wrm1_A_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_B_count')
                            {
                                wrm1_B_count =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_C_count')
                            {
                                wrm1_C_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_total_count')
                            {
                                wrm1_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_total_weight')
                            {
                                wrm1_total_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_A_count')
                            {
                                wrm2_A_count =  prod_data[key];
                            }
                            
                            else if(key === 'wrm2_B_count')
                            {
                                wrm2_B_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_C_count')
                            {
                                wrm2_C_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_total_count')
                            {
                                wrm2_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_total_weight')
                            {
                                wrm2_total_weight =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_A_count')
                            {
                                sbm_A_count =  prod_data[key];
                            }
                            else if(key === 'sbm_B_count')
                            {
                                sbm_B_count =  prod_data[key];
                            }
                            else if(key === 'sbm_C_count')
                            {
                                sbm_C_count =  prod_data[key];
                            }
                            else if(key === 'sbm_total_count')
                            {
                                sbm_total_count =  prod_data[key];
                            }
                            else if(key === 'sbm_total_weight')
                            {
                                sbm_total_weight =  prod_data[key];
                            }
                            else if(key === 'stm_A_count')
                            {
                                stm_A_count =  prod_data[key];
                            }
                            else if(key === 'stm_B_count')
                            {
                                stm_B_count =  prod_data[key];
                            }
                            else if(key === 'stm_C_count')
                            {
                                stm_C_count =  prod_data[key];
                            }
                            else if(key === 'stm_total_count')
                            {
                                stm_total_count =  prod_data[key];
                            }
                            else if(key === 'stm_total_weight')
                            {
                                stm_total_weight =  prod_data[key];
                            }
                            else if(key === 'total_count')
                            {
                                total_count =  prod_data[key];
                            }
                            else if(key === 'total_weight')
                            {
                                total_weight =  prod_data[key];
                            }
                            
                        });
                            
                        display_ProdChart(prod_data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function display_ProdChart(prod_data)
            {
                        var lmmm_A_count = 0;
                        var lmmm_B_count = 0;
                        var lmmm_C_count = 0;
                        var lmmm_total_count = 0;
                        var lmmm_total_weight = 0;
                        
                        var mmsm_A_count = 0;
                        var mmsm_B_count = 0;
                        var mmsm_C_count = 0;
                        var mmsm_total_count = 0;
                        var mmsm_total_weight = 0;
                        
                        var wrm1_A_count = 0;
                        var wrm1_B_count = 0;
                        var wrm1_C_count = 0;
                        var wrm1_total_count = 0;
                        var wrm1_total_weight = 0;
                        
                        var wrm2_A_count = 0;
                        var wrm2_B_count = 0;
                        var wrm2_C_count = 0;
                        var wrm2_total_count = 0;
                        var wrm2_total_weight = 0;
                        
                        var sbm_A_count = 0;
                        var sbm_B_count = 0;
                        var sbm_C_count = 0;
                        var sbm_total_count = 0;
                        var sbm_total_weight = 0;
                        
                        var stm_A_count = 0;
                        var stm_B_count = 0;
                        var stm_C_count = 0;
                        var stm_total_count = 0;
                        var stm_total_weight = 0;
                        
                        var total_count = 0;
                        var total_weight = 0;
                
                        var total_A_count = 0;
                        var total_B_count = 0;
                        var total_C_count = 0;
                        
                           
                       
                        Object.keys(prod_data).forEach(key => 
                        {
                            if(key === 'lmmm_A_count')
                            {
                                lmmm_A_count =  prod_data[key];
                                

                            }
                            else if(key === 'lmmm_B_count')
                            {
                                lmmm_B_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_C_count')
                            {
                                lmmm_C_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_total_count')
                            {
                                lmmm_total_count =  prod_data[key];
                            }
                            
                            else if(key === 'lmmm_total_weight')
                            {
                                lmmm_total_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_A_count')
                            {
                                mmsm_A_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_B_count')
                            {
                                mmsm_B_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_C_count')
                            {
                                mmsm_C_count =  prod_data[key];
                            }
                            
                            else if(key === 'mmsm_total_count')
                            {
                                mmsm_total_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_total_weight')
                            {
                                mmsm_total_weight =  prod_data[key];
                            }
                            else if(key === 'wrm1_A_count')
                            {
                                wrm1_A_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_B_count')
                            {
                                wrm1_B_count =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_C_count')
                            {
                                wrm1_C_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_total_count')
                            {
                                wrm1_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_total_weight')
                            {
                                wrm1_total_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_A_count')
                            {
                                wrm2_A_count =  prod_data[key];
                            }
                            
                            else if(key === 'wrm2_B_count')
                            {
                                wrm2_B_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_C_count')
                            {
                                wrm2_C_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_total_count')
                            {
                                wrm2_total_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_total_weight')
                            {
                                wrm2_total_weight =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_A_count')
                            {
                                sbm_A_count =  prod_data[key];
                            }
                            else if(key === 'sbm_B_count')
                            {
                                sbm_B_count =  prod_data[key];
                            }
                            else if(key === 'sbm_C_count')
                            {
                                sbm_C_count =  prod_data[key];
                            }
                            else if(key === 'sbm_total_count')
                            {
                                sbm_total_count =  prod_data[key];
                            }
                            else if(key === 'sbm_total_weight')
                            {
                                sbm_total_weight =  prod_data[key];
                            }
                            else if(key === 'stm_A_count')
                            {
                                stm_A_count =  prod_data[key];
                            }
                            else if(key === 'stm_B_count')
                            {
                                stm_B_count =  prod_data[key];
                            }
                            else if(key === 'stm_C_count')
                            {
                                stm_C_count =  prod_data[key];
                            }
                            else if(key === 'stm_total_count')
                            {
                                stm_total_count =  prod_data[key];
                            }
                            else if(key === 'stm_total_weight')
                            {
                                stm_total_weight =  prod_data[key];
                            }
                            else if(key === 'total_count')
                            {
                                total_count =  prod_data[key];
                            }
                            else if(key === 'total_weight')
                            {
                                total_weight =  prod_data[key];
                            }
                            
                        });
                 
              
                document.getElementById("prod_lmmm_A_count").innerHTML =  lmmm_A_count ;  
                document.getElementById("prod_lmmm_B_count").innerHTML =  lmmm_B_count ;
                document.getElementById("prod_lmmm_C_count").innerHTML =  lmmm_C_count ;
                document.getElementById("prod_lmmm_total_count").innerHTML =  lmmm_total_count ;
                document.getElementById("prod_lmmm_total_weight").innerHTML =  lmmm_total_weight ;
                
                 
                document.getElementById("prod_mmsm_A_count").innerHTML =  mmsm_A_count ;  
                document.getElementById("prod_mmsm_B_count").innerHTML =  mmsm_B_count ;
                document.getElementById("prod_mmsm_C_count").innerHTML =  mmsm_C_count ;
                document.getElementById("prod_mmsm_total_count").innerHTML =  mmsm_total_count ;
                document.getElementById("prod_mmsm_total_weight").innerHTML =  mmsm_total_weight ;
               
                document.getElementById("prod_wrm1_A_count").innerHTML =  wrm1_A_count ;  
                document.getElementById("prod_wrm1_B_count").innerHTML =  wrm1_B_count ;
                document.getElementById("prod_wrm1_C_count").innerHTML =  wrm1_C_count ;
                document.getElementById("prod_wrm1_total_count").innerHTML =  wrm1_total_count ;
                document.getElementById("prod_wrm1_total_weight").innerHTML =  wrm1_total_weight ;
                
                document.getElementById("prod_wrm2_A_count").innerHTML =  wrm2_A_count ;  
                document.getElementById("prod_wrm2_B_count").innerHTML =  wrm2_B_count ;
                document.getElementById("prod_wrm2_C_count").innerHTML =  wrm2_C_count ;
                document.getElementById("prod_wrm2_total_count").innerHTML =  wrm2_total_count ;
                document.getElementById("prod_wrm2_total_weight").innerHTML =  wrm2_total_weight ;
                
                document.getElementById("prod_sbm_A_count").innerHTML =  sbm_A_count ;  
                document.getElementById("prod_sbm_B_count").innerHTML =  sbm_B_count ;
                document.getElementById("prod_sbm_C_count").innerHTML =  sbm_C_count ;
                document.getElementById("prod_sbm_total_count").innerHTML =  sbm_total_count ;
                document.getElementById("prod_sbm_total_weight").innerHTML =  sbm_total_weight ;
               
                document.getElementById("prod_stm_A_count").innerHTML =  stm_A_count ;  
                document.getElementById("prod_stm_B_count").innerHTML =  stm_B_count ;
                document.getElementById("prod_stm_C_count").innerHTML =  stm_C_count ;
                document.getElementById("prod_stm_total_count").innerHTML =  stm_total_count ;
                document.getElementById("prod_stm_total_weight").innerHTML =  stm_total_weight ;
               
               
               
                total_A_count = lmmm_A_count + mmsm_A_count + wrm1_A_count + wrm2_A_count + sbm_A_count +  stm_A_count ;
                total_B_count = lmmm_B_count + mmsm_B_count + wrm1_B_count + wrm2_B_count + sbm_B_count +  stm_B_count ;
                total_C_count = lmmm_C_count + mmsm_C_count + wrm1_C_count + wrm2_C_count + sbm_C_count +  stm_C_count ;
                   
                document.getElementById("prod_total_A_count").innerHTML =  total_A_count ;  
                document.getElementById("prod_total_B_count").innerHTML = total_B_count ;
                document.getElementById("prod_total_C_count").innerHTML =  total_C_count ;
                document.getElementById("prod_total_count").innerHTML =  total_count ;
                document.getElementById("prod_total_weight").innerHTML =  total_weight ;
               
               /* var l = lmmm_A_count + lmmm_B_count + lmmm_C_count;
                var m = mmsm_A_count + mmsm_B_count + mmsm_C_count;
                var w1 = wrm1_A_count + wrm1_B_count + wrm1_C_count;
                var w2 = wrm2_A_count + wrm2_B_count + wrm2_C_count;
                var b = sbm_A_count + sbm_B_count + sbm_C_count;
                var t = stm_A_count + stm_B_count + stm_C_count;
                var tot  = total_A_count + total_B_count + total_C_count ; */
                
                var l = lmmm_total_weight ;
                var m = mmsm_total_weight ;
                var w1 = wrm1_total_weight ;
                var w2 = wrm2_total_weight ;
                var b = sbm_total_weight;
                var t = stm_total_weight;
                var tot  = total_weight;
                
                let max = Math.max(l, m, w1,w2,b,t);
                let stepSize = 100;
                if(max <=500)
                {
                    stepSize = 100;
                    max = 500;
                }
                else if(max>500 && max <=1000)
                {
                    stepSize = 200;
                    max = 1000;
                }
                else if(max>1000 && max <=1500)
                {
                    stepSize = 300;
                    max = 1500;
                }
                else if(max>1500 && max <=2000)
                {
                    stepSize = 400;
                    max = 2000;
                }
                else if(max>2000 && max <=2500)
                {
                    stepSize = 500;
                    max = 2500;
                }
                else if(max>2500 )
                {
                    stepSize = 600;
                    max = 3000;
                }
                
                
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                var myText = curr_date + " (Data in Tonnage)";
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                //var yValues = [100, 100, 100, 100, 100, 100];
                var yValues = [l, m, w1, w2, b, t];
                //var barColors = ["red", "green","blue","orange","brown", "#8e44ad"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];

                new Chart("myChart_production", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  type: "bar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Production",
                        color: 'green',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';

                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                              var meta = chartInstance.controller.getDatasetMeta(i);
                                              meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                              });
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: true,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 300,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: max
                                        }
                                    }]
                            }
                    
                  }
                });
                
                
                
                jQuery(document).ready(function(e)
                {
                    /*$("#div_production").click(function (event)
                    {
                        event.stopPropagation();
                    });*/
                    
                    jQuery('#myModal_production').modal();
                });
            }
            
            function show_delays1()
            {
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                var yValues = [100, 149, 244, 124, 315, 67];
                var barColors = ["red", "green","blue","orange","brown", "pink"];

                new Chart("myChart_delay", {
                  //type: "horizontalBar",
                  type: "pie",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: "Todys Mills Delays"
                    },
                    textInside: 
                    {
                        text: "Delays",
                        color: 'green',
                        fontSize: 28
                    }
                  }
                });
                
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_delays').modal();
                });
                            }
             
            function show_delays()
            {
                //modal_obj["modal_delays_d"] = true;
                //localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $.ajax( 
                     
	    	{
		       url : "rest/get_mills_delays_data",
		       method : "POST",
                       dataType: "json",
                     //  dataType: "application/json; charset=utf-8",
                       contentType: "application/json",
                       success : displayDelaysUpdatedStatus,
                       error : function()
                       {
                           alert("could not connected to server !");
                       }
	    	}
                );
            }
            
            function displayDelaysUpdatedStatus(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        var delay_data = returnedData['delay_data'];
                        display_DelayChart(delay_data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function display_DelayChart(delay_data)
            {
                var lmmm_A_count = 0;
                var lmmm_B_count = 0;
                var lmmm_C_count = 0;
                        
                var mmsm_A_count = 0;
                var mmsm_B_count = 0;
                var mmsm_C_count = 0;
                
                var sbm_A_count = 0;
                var sbm_B_count = 0;
                var sbm_C_count = 0;
                
                var stm_A_count = 0;
                var stm_B_count = 0;
                var stm_C_count = 0;
                
                var wrm1_A_count_l1 = 0;
                var wrm1_A_count_l2 = 0;
                var wrm1_A_count_l3 = 0;
                var wrm1_A_count_l4 = 0;
                
                var wrm1_B_count_l1 = 0;
                var wrm1_B_count_l2 = 0;
                var wrm1_B_count_l3 = 0;
                var wrm1_B_count_l4 = 0;
                
                var wrm1_C_count_l1 = 0;
                var wrm1_C_count_l2 = 0;
                var wrm1_C_count_l3 = 0;
                var wrm1_C_count_l4 = 0;
                
                var wrm2_A_count_l1 = 0;
                var wrm2_A_count_l2 = 0;
                var wrm2_B_count_l1 = 0;
                var wrm2_B_count_l2 = 0;
                var wrm2_C_count_l1 = 0;
                var wrm2_C_count_l2 = 0;
               
                Object.keys(delay_data).forEach(key => 
                {
                   
                    if(key === 'lmmm_A_count')
                    {
                        lmmm_A_count =  delay_data[key];
                    }
                    else if(key === 'lmmm_B_count')
                    {
                        lmmm_B_count =  delay_data[key];
                    }
                    else if(key === 'lmmm_C_count')
                    {
                        lmmm_C_count =  delay_data[key];
                    }
                    else if(key === 'mmsm_A_count')
                    {
                        mmsm_A_count =  delay_data[key];
                    }
                    else if(key === 'mmsm_B_count')
                    {
                        mmsm_B_count =  delay_data[key];
                    }
                    else if(key === 'mmsm_C_count')
                    {
                        mmsm_C_count =  delay_data[key];
                    }
                    else if(key === 'sbm_A_count')
                    {
                        sbm_A_count =  delay_data[key];
                    }
                    else if(key === 'sbm_B_count')
                    {
                        sbm_B_count =  delay_data[key];
                    }

                    else if(key === 'sbm_C_count')
                    {
                        sbm_C_count =  delay_data[key];
                    }
                    else if(key === 'stm_A_count')
                    {
                        stm_A_count =  delay_data[key];
                    }
                    else if(key === 'stm_B_count')
                    {
                        stm_B_count =  delay_data[key];
                    }
                    else if(key === 'stm_C_count')
                    {
                        stm_C_count =  delay_data[key];
                    }

                    else if(key === 'wrm1_A_count_l1')
                    {
                        wrm1_A_count_l1 =  delay_data[key];
                    }
                    else if(key === 'wrm1_A_count_l2')
                    {
                        wrm1_A_count_l2 =  delay_data[key];
                    }
                    else if(key === 'wrm1_A_count_l3')
                    {
                        wrm1_A_count_l3 =  delay_data[key];
                    }
                    else if(key === 'wrm1_A_count_l4')
                    {
                        wrm1_A_count_l4 =  delay_data[key];
                    }
                    else if(key === 'wrm1_B_count_l1')
                    {
                        wrm1_B_count_l1 =  delay_data[key];
                    }
                    else if(key === 'wrm1_B_count_l2')
                    {
                        wrm1_B_count_l2 =  delay_data[key];
                    }
                    else if(key === 'wrm1_B_count_l3')
                    {
                        wrm1_B_count_l3 =  delay_data[key];
                    }
                    else if(key === 'wrm1_B_count_l4')
                    {
                        wrm1_B_count_l4 =  delay_data[key];
                    }
                    else if(key === 'wrm1_C_count_l1')
                    {
                        wrm1_C_count_l1 =  delay_data[key];
                    }
                    else if(key === 'wrm1_C_count_l2')
                    {
                        wrm1_C_count_l2 =  delay_data[key];
                    }
                    else if(key === 'wrm1_C_count_l3')
                    {
                        wrm1_C_count_l3 =  delay_data[key];
                    }
                    else if(key === 'wrm1_C_count_l4')
                    {
                        wrm1_C_count_l4 =  delay_data[key];
                    }
                    else if(key === 'wrm2_A_count_l1')
                    {
                        wrm2_A_count_l1 =  delay_data[key];
                    }
                    else if(key === 'wrm2_A_count_l2')
                    {
                        wrm2_A_count_l2 =  delay_data[key];
                    }
                    else if(key === 'wrm2_B_count_l1')
                    {
                        wrm2_B_count_l1 =  delay_data[key];
                    }
                    else if(key === 'wrm2_B_count_l2')
                    {
                        wrm2_B_count_l2 =  delay_data[key];
                    }
                    else if(key === 'wrm2_C_count_l1')
                    {
                        wrm2_C_count_l1 =  delay_data[key];
                    }
                    else if(key === 'wrm2_C_count_l2')
                    {
                        wrm2_C_count_l2 =  delay_data[key];
                    }
                   
                });
                        
                
                
                document.getElementById("delay_lmmm_A_count").innerHTML =  lmmm_A_count ;  
                document.getElementById("delay_lmmm_B_count").innerHTML =  lmmm_B_count ;
                document.getElementById("delay_lmmm_C_count").innerHTML =  lmmm_C_count ;
                
                
                document.getElementById("delay_mmsm_A_count").innerHTML =  mmsm_A_count ;  
                document.getElementById("delay_mmsm_B_count").innerHTML =  mmsm_B_count ;
                document.getElementById("delay_mmsm_C_count").innerHTML =  mmsm_C_count ;
               
                document.getElementById("delay_sbm_A_count").innerHTML =  sbm_A_count ;  
                document.getElementById("delay_sbm_B_count").innerHTML =  sbm_B_count ;
                document.getElementById("delay_sbm_C_count").innerHTML =  sbm_C_count ;
               
                document.getElementById("delay_stm_A_count").innerHTML =  stm_A_count ;  
                document.getElementById("delay_stm_B_count").innerHTML =  stm_B_count ;
                document.getElementById("delay_stm_C_count").innerHTML =  stm_C_count ;
              
                var wrm1_A = wrm1_A_count_l1 + wrm1_A_count_l2 + wrm1_A_count_l3 + wrm1_A_count_l4;
                var wrm1_B = wrm1_B_count_l1 + wrm1_B_count_l2 + wrm1_B_count_l3 + wrm1_B_count_l4;
                var wrm1_C = wrm1_C_count_l1 + wrm1_C_count_l2 + wrm1_C_count_l3 + wrm1_C_count_l4;
           
                var wrm1_A_avg = wrm1_A / 4;
                var wrm1_B_avg = wrm1_B / 4;
                var wrm1_C_avg = wrm1_C / 4;
                
                
                var wrm2_A = wrm2_A_count_l1 + wrm2_A_count_l2 ;
                var wrm2_B = wrm2_B_count_l1 + wrm2_B_count_l2;
                var wrm2_C = wrm2_C_count_l1 + wrm2_C_count_l2 ;
                  
                var wrm2_A_avg = wrm2_A / 2;
                var wrm2_B_avg = wrm2_B / 2;
                var wrm2_C_avg = wrm2_C / 2;
                
                var wrm1_A_count =  wrm1_A_count_l1 + " - " + wrm1_A_count_l2 + " - " + wrm1_A_count_l3 + " - " + wrm1_A_count_l4;
                var wrm1_B_count =  wrm1_B_count_l1 + " - " + wrm1_B_count_l2 + " - " + wrm1_B_count_l3 + " - " + wrm1_B_count_l4;
                var wrm1_C_count =  wrm1_C_count_l1 + " - " + wrm1_C_count_l2 + " - " + wrm1_C_count_l3 + " - " + wrm1_C_count_l4;
               
                var wrm2_A_count =  wrm2_A_count_l1 + " - " + wrm2_A_count_l2 ;
                var wrm2_B_count =  wrm2_B_count_l1 + " - " + wrm2_B_count_l2 ;
                var wrm2_C_count =  wrm2_C_count_l1 + " - " + wrm2_C_count_l2 ;
             
                document.getElementById("delay_wrm1_A_count_l1").innerHTML = wrm1_A_count_l1 ; 
                document.getElementById("delay_wrm1_A_count_l2").innerHTML = wrm1_A_count_l2 ;  
                document.getElementById("delay_wrm1_A_count_l3").innerHTML = wrm1_A_count_l3 ;  
                document.getElementById("delay_wrm1_A_count_l4").innerHTML = wrm1_A_count_l4 ;  
                
                document.getElementById("delay_wrm1_B_count_l1").innerHTML = wrm1_B_count_l1 ; 
                document.getElementById("delay_wrm1_B_count_l2").innerHTML = wrm1_B_count_l2 ;  
                document.getElementById("delay_wrm1_B_count_l3").innerHTML = wrm1_B_count_l3 ;  
                document.getElementById("delay_wrm1_B_count_l4").innerHTML = wrm1_B_count_l4 ;  
               
                document.getElementById("delay_wrm1_C_count_l1").innerHTML = wrm1_C_count_l1 ; 
                document.getElementById("delay_wrm1_C_count_l2").innerHTML = wrm1_C_count_l2 ;  
                document.getElementById("delay_wrm1_C_count_l3").innerHTML = wrm1_C_count_l3 ;  
                document.getElementById("delay_wrm1_C_count_l4").innerHTML = wrm1_C_count_l4 ;  
               
                document.getElementById("delay_wrm1_total_count_l1").innerHTML = wrm1_A_count_l1 + wrm1_B_count_l1 + wrm1_C_count_l1 ; 
                document.getElementById("delay_wrm1_total_count_l2").innerHTML = wrm1_A_count_l2 + wrm1_B_count_l2 + wrm1_C_count_l2 ;  
                document.getElementById("delay_wrm1_total_count_l3").innerHTML = wrm1_A_count_l3 + wrm1_B_count_l3 + wrm1_C_count_l3 ;  
                document.getElementById("delay_wrm1_total_count_l4").innerHTML = wrm1_A_count_l4 + wrm1_B_count_l4 + wrm1_C_count_l4 ;  
               
                //document.getElementById("delay_wrm1_A_count").innerHTML = wrm1_A_count ;  
                //document.getElementById("delay_wrm1_B_count").innerHTML =  wrm1_B_count ;
                //document.getElementById("delay_wrm1_C_count").innerHTML =  wrm1_C_count ;
              
                document.getElementById("delay_wrm2_A_count_l1").innerHTML = wrm2_A_count_l1 ; 
                document.getElementById("delay_wrm2_A_count_l2").innerHTML = wrm2_A_count_l2 ;  
               
                document.getElementById("delay_wrm2_B_count_l1").innerHTML = wrm2_B_count_l1 ; 
                document.getElementById("delay_wrm2_B_count_l2").innerHTML = wrm2_B_count_l2 ;  
              
                document.getElementById("delay_wrm2_C_count_l1").innerHTML = wrm2_C_count_l1 ; 
                document.getElementById("delay_wrm2_C_count_l2").innerHTML = wrm2_C_count_l2 ;  
               
                document.getElementById("delay_wrm2_total_count_l1").innerHTML = wrm2_A_count_l1 + wrm2_B_count_l1 + wrm2_C_count_l1 ; 
                document.getElementById("delay_wrm2_total_count_l2").innerHTML = wrm2_A_count_l2 + wrm2_B_count_l2 + wrm2_C_count_l2 ;  
               
                //document.getElementById("delay_wrm2_A_count").innerHTML = wrm2_A_count ;  
                //document.getElementById("delay_wrm2_B_count").innerHTML =  wrm2_B_count ;
                //document.getElementById("delay_wrm2_C_count").innerHTML =  wrm2_C_count ;
               
                var l = lmmm_A_count + lmmm_B_count + lmmm_C_count ;
                var m = mmsm_A_count + mmsm_B_count + mmsm_C_count ;
                var w11 = wrm1_A + wrm1_B + wrm1_C ;
                var w22 = wrm2_A + wrm2_B + wrm2_C ;
                var w1 = wrm1_A_avg + wrm1_B_avg + wrm1_C_avg ;
                var w2 = wrm2_A_avg + wrm2_B_avg + wrm2_C_avg ;
                var b = sbm_A_count + sbm_B_count + sbm_C_count ;
                var t = stm_A_count + stm_B_count + stm_C_count  ;
               
                document.getElementById("delay_lmmm_total_count").innerHTML =  l ;
                document.getElementById("delay_mmsm_total_count").innerHTML =  m ;
                document.getElementById("delay_sbm_total_count").innerHTML =  b ;
                document.getElementById("delay_stm_total_count").innerHTML =  t ;
                
                document.getElementById("delay_total_A_count").innerHTML =  lmmm_A_count + mmsm_A_count + wrm1_A + wrm2_A + sbm_A_count + stm_A_count; ;
                document.getElementById("delay_total_B_count").innerHTML = lmmm_B_count + mmsm_B_count + wrm1_B + wrm2_B + sbm_B_count + stm_B_count; ;
                document.getElementById("delay_total_C_count").innerHTML = lmmm_C_count + mmsm_C_count + wrm1_C + wrm2_C + sbm_C_count + stm_C_count; ;
                document.getElementById("delay_total_count").innerHTML = l+m+w11+w22+b+ t ;
                //alert(w2);
               
                let max = Math.max(l, m, w1,w2,b,t);
                let stepSize = 100;
                if(max <=500)
                {
                    stepSize = 100;
                    max = 500;
                }
                else if(max>500 && max <=1000)
                {
                    stepSize = 200;
                    max = 1000;
                }
                else if(max>1000 && max <=1500)
                {
                    stepSize = 300;
                    max = 1500;
                }
                else if(max>1500 && max <=2000)
                {
                    stepSize = 400;
                    max = 2000;
                }
                else if(max>2000 && max <=2500)
                {
                    stepSize = 500;
                    max = 2500;
                }
                else if(max>2500 )
                {
                    stepSize = 600;
                    max = 3000;
                }
                
               
                //alert('lmmm  count' + l)    ;
                //var tot  = total_A_count + total_B_count + total_C_count ;
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                var myText = curr_date + " (Data in Minutes)" ;
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                //var yValues = [100, 100, 100, 100, 100, 100];
                var yValues = [l, m, w1, w2, b, t];
                //var barColors = ["red", "green","blue","orange","brown", "#8e44ad"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];

                new Chart("myChart_delay", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  type: "bar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText
                    },
                    textInside: 
                    {
                        text: "Delay",
                        color: 'green',
                        fontSize: 28
                    },
                    scales: {
                                xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: true,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 1000,
                                            //stepValue: 10,
                                            max: max,
                                            stepSize: stepSize
                                            //max: 3500
                                        }
                                    }]
                            },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: {
                                duration: 1,
                                onComplete: function() {
                                  var chartInstance = this.chart;
                                  ctx = chartInstance.ctx;
                                  ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                  ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                  ctx.textAlign = 'left';
                                  ctx.textBaseline = 'bottom';

                                  this.data.datasets.forEach(function(dataset, i) {
                                    var meta = chartInstance.controller.getDatasetMeta(i);
                                    meta.data.forEach(function(bar, index) {
                                          var data = dataset.data[index];
                                          ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                    });
                                  });
                                }
                              }

        
                    
                  }
                });
                
                 //alert('hi');
                 
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_delays').modal();
                });
            }
            
            function show_dispatches1()
            {
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                var yValues = [100, 149, 244, 124, 315, 67];
                var barColors = ["red", "green","blue","orange","brown", "pink"];
                
                //var xValues = ["Min", "Max"];
                //var yValues = [100, 244];
                //var barColors = ["red", "green"];

                new Chart("myChart_dispatch", {
                  //type: "horizontalBar",
                  type: "bar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: curr_date
                    },
                    textInside: 
                    {
                        text: "Delays",
                        color: 'green',
                        fontSize: 28
                    }
                  }
                });
                
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_dispatches').modal();
                });
            
            }    
            
            function show_dispatches()
            {
                //modal_obj["modal_dispatches_d"] = true;
                //localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $.ajax( 
                     
	    	{
		       url : "rest/get_mills_dispatch_data",
		       method : "POST",
                       dataType: "json",
                     //  dataType: "application/json; charset=utf-8",
                       contentType: "application/json",
                       success : displayDispatchUpdatedStatus,
                       error : function()
                       {
                           alert("could not connected to server !");
                       }
	    	}
                );
            }
            
            function displayDispatchUpdatedStatus(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        var dispatch_data = returnedData['dispatch_data'];
                        
                        
                            
                        display_DispatchChart(dispatch_data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function display_DispatchChart(dispatch_data)
            {
                        var lmmm_A_cdy_count = 0;
                        var lmmm_B_cdy_count = 0;
                        var lmmm_C_cdy_count = 0;
                        var lmmm_A_road_count = 0;
                        var lmmm_B_road_count = 0;
                        var lmmm_C_road_count = 0;
                        
                        var mmsm_A_cdy_count = 0;
                        var mmsm_B_cdy_count = 0;
                        var mmsm_C_cdy_count = 0;
                        var mmsm_A_road_count = 0;
                        var mmsm_B_road_count = 0;
                        var mmsm_C_road_count = 0;
                        
                        var wrm1_A_cdy_count = 0;
                        var wrm1_B_cdy_count = 0;
                        var wrm1_C_cdy_count = 0;
                        var wrm1_A_road_count = 0;
                        var wrm1_B_road_count = 0;
                        var wrm1_C_road_count = 0;
                        
                        var wrm2_A_cdy_count = 0;
                        var wrm2_B_cdy_count = 0;
                        var wrm2_C_cdy_count = 0;
                        var wrm2_A_road_count = 0;
                        var wrm2_B_road_count = 0;
                        var wrm2_C_road_count = 0;
                        
                        var sbm_A_cdy_count = 0;
                        var sbm_B_cdy_count = 0;
                        var sbm_C_cdy_count = 0;
                        var sbm_A_road_count = 0;
                        var sbm_B_road_count = 0;
                        var sbm_C_road_count = 0;
                        
                        
                        var stm_A_cdy_count = 0;
                        var stm_B_cdy_count = 0;
                        var stm_C_cdy_count = 0;
                        var stm_A_road_count = 0;
                        var stm_B_road_count = 0;
                        var stm_C_road_count = 0;
                     
                        var total_lmmm_cdy_bundles= 0;
                        var total_mmsm_cdy_bundles= 0;
                        var total_wrm1_cdy_bundles= 0;
                        var total_wrm2_cdy_bundles= 0;
                        var total_sbm_cdy_bundles= 0;
                        var total_stm_cdy_bundles= 0;
                        
                        var total_lmmm_road_bundles= 0;
                        var total_mmsm_road_bundles= 0;
                        var total_wrm1_road_bundles= 0;
                        var total_wrm2_road_bundles= 0;
                        var total_sbm_road_bundles= 0;
                        var total_stm_road_bundles= 0;
                        
                        
                        const bold_values = [];
                        let bold_element = 0;
                        
                        Object.keys(dispatch_data).forEach(key => 
                        {
                            bold_element = 0;
                            bold_element = dispatch_data[key];
                            if(bold_element > 0)
                            {
                                bold_values.push(key);
                            }
                            
                            
                            if(key === 'lmmm_A_cdy_count')
                            {
                                lmmm_A_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_B_cdy_count')
                            {
                                lmmm_B_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_C_cdy_count')
                            {
                                lmmm_C_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_A_road_count')
                            {
                                lmmm_A_road_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'lmmm_B_road_count')
                            {
                                lmmm_B_road_count =  dispatch_data[key];
                            }
                            else if(key === 'lmmm_C_road_count')
                            {
                                lmmm_C_road_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_A_cdy_count')
                            {
                                mmsm_A_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_B_cdy_count')
                            {
                                mmsm_B_cdy_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'mmsm_C_cdy_count')
                            {
                                mmsm_C_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_A_road_count')
                            {
                                mmsm_A_road_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_B_road_count')
                            {
                                mmsm_B_road_count =  dispatch_data[key];
                            }
                            else if(key === 'mmsm_C_road_count')
                            {
                                mmsm_C_road_count =  dispatch_data[key];
                            }
                            
                            else if(key === 'wrm1_A_cdy_count')
                            {
                                wrm1_A_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_B_cdy_count')
                            {
                                wrm1_B_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_C_cdy_count')
                            {
                                wrm1_C_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_A_road_count')
                            {
                                wrm1_A_road_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_B_road_count')
                            {
                                wrm1_B_road_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm1_C_road_count')
                            {
                                wrm1_C_road_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_A_cdy_count')
                            {
                                wrm2_A_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_B_cdy_count')
                            {
                                wrm2_B_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_C_cdy_count')
                            {
                                wrm2_C_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_A_road_count')
                            {
                                wrm2_A_road_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_B_road_count')
                            {
                                wrm2_B_road_count =  dispatch_data[key];
                            }
                            else if(key === 'wrm2_C_road_count')
                            {
                                wrm2_C_road_count =  dispatch_data[key];
                            }
                            else if(key === 'sbm_A_cdy_count')
                            {
                                sbm_A_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'sbm_B_cdy_count')
                            {
                                sbm_B_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'sbm_C_cdy_count')
                            {
                                sbm_C_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'sbm_A_road_count')
                            {
                                sbm_A_road_count =  dispatch_data[key];
                            }
                            else if(key === 'sbm_B_road_count')
                            {
                                sbm_B_road_count =  dispatch_data[key];
                            }
                            else if(key === 'sbm_C_road_count')
                            {
                                sbm_C_road_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_A_cdy_count')
                            {
                                stm_A_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_B_cdy_count')
                            {
                                stm_B_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_C_cdy_count')
                            {
                                stm_C_cdy_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_A_road_count')
                            {
                                stm_A_road_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_B_road_count')
                            {
                                stm_B_road_count =  dispatch_data[key];
                            }
                            else if(key === 'stm_C_road_count')
                            {
                                stm_C_road_count =  dispatch_data[key]; 
                            }
                            else if(key === 'total_lmmm_cdy_bundles')
                            {
                                total_lmmm_cdy_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_mmsm_cdy_bundles')
                            {
                                total_mmsm_cdy_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_wrm1_cdy_bundles')
                            {
                                total_wrm1_cdy_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_wrm2_cdy_bundles')
                            {
                                total_wrm2_cdy_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_sbm_cdy_bundles')
                            {
                                total_sbm_cdy_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_stm_cdy_bundles')
                            {
                                total_stm_cdy_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_lmmm_road_bundles')
                            {
                                total_lmmm_road_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_mmsm_road_bundles')
                            {
                                total_mmsm_road_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_wrm1_road_bundles')
                            {
                                total_wrm1_road_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_wrm2_road_bundles')
                            {
                                total_wrm2_road_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_sbm_road_bundles')
                            {
                                total_sbm_road_bundles =  dispatch_data[key];
                            }
                            else if(key === 'total_stm_road_bundles')
                            {
                                total_stm_road_bundles =  dispatch_data[key];
                            }
                            
                        });
                        
                
                
                document.getElementById("dispatch_lmmm_A_cdy_count").innerHTML =  lmmm_A_cdy_count ;  
                document.getElementById("dispatch_lmmm_B_cdy_count").innerHTML =  lmmm_B_cdy_count ;
                document.getElementById("dispatch_lmmm_C_cdy_count").innerHTML =  lmmm_C_cdy_count ;
                document.getElementById("dispatch_lmmm_A_road_count").innerHTML =  lmmm_A_road_count ;
                document.getElementById("dispatch_lmmm_B_road_count").innerHTML =  lmmm_B_road_count ;
                document.getElementById("dispatch_lmmm_C_road_count").innerHTML =  lmmm_C_road_count ;
               
               
                
                document.getElementById("dispatch_mmsm_A_cdy_count").innerHTML =  mmsm_A_cdy_count ;  
                document.getElementById("dispatch_mmsm_B_cdy_count").innerHTML =  mmsm_B_cdy_count ;
                document.getElementById("dispatch_mmsm_C_cdy_count").innerHTML =  mmsm_C_cdy_count ;
                document.getElementById("dispatch_mmsm_A_road_count").innerHTML =  mmsm_A_road_count ;
                document.getElementById("dispatch_mmsm_B_road_count").innerHTML =  mmsm_B_road_count ;
                document.getElementById("dispatch_mmsm_C_road_count").innerHTML =  mmsm_C_road_count ;
               
               
                document.getElementById("dispatch_wrm1_A_cdy_count").innerHTML =  wrm1_A_cdy_count ;  
                document.getElementById("dispatch_wrm1_B_cdy_count").innerHTML =  wrm1_B_cdy_count ;
                document.getElementById("dispatch_wrm1_C_cdy_count").innerHTML =  wrm1_C_cdy_count ;
                document.getElementById("dispatch_wrm1_A_road_count").innerHTML =  wrm1_A_road_count ;
                document.getElementById("dispatch_wrm1_B_road_count").innerHTML =  wrm1_B_road_count ;
                document.getElementById("dispatch_wrm1_C_road_count").innerHTML =  wrm1_C_road_count ;
               
                
                document.getElementById("dispatch_wrm2_A_cdy_count").innerHTML =  wrm2_A_cdy_count ;  
                document.getElementById("dispatch_wrm2_B_cdy_count").innerHTML =  wrm2_B_cdy_count ;
                document.getElementById("dispatch_wrm2_C_cdy_count").innerHTML =  wrm2_C_cdy_count ;
                document.getElementById("dispatch_wrm2_A_road_count").innerHTML =  wrm2_A_road_count ;
                document.getElementById("dispatch_wrm2_B_road_count").innerHTML =  wrm2_B_road_count ;
                document.getElementById("dispatch_wrm2_C_road_count").innerHTML =  wrm2_C_road_count ;
               
                
                document.getElementById("dispatch_sbm_A_cdy_count").innerHTML =  sbm_A_cdy_count ;  
                document.getElementById("dispatch_sbm_B_cdy_count").innerHTML =  sbm_B_cdy_count ;
                document.getElementById("dispatch_sbm_C_cdy_count").innerHTML =  sbm_C_cdy_count ;
                document.getElementById("dispatch_sbm_A_road_count").innerHTML =  sbm_A_road_count ;
                document.getElementById("dispatch_sbm_B_road_count").innerHTML =  sbm_B_road_count ;
                document.getElementById("dispatch_sbm_C_road_count").innerHTML =  sbm_C_road_count ;
               
                document.getElementById("dispatch_stm_A_cdy_count").innerHTML =  stm_A_cdy_count ;  
                document.getElementById("dispatch_stm_B_cdy_count").innerHTML =  stm_B_cdy_count ;
                document.getElementById("dispatch_stm_C_cdy_count").innerHTML =  stm_C_cdy_count ;
                document.getElementById("dispatch_stm_A_road_count").innerHTML =  stm_A_road_count ;
                document.getElementById("dispatch_stm_B_road_count").innerHTML =  stm_B_road_count ;
                document.getElementById("dispatch_stm_C_road_count").innerHTML =  stm_C_road_count ;
               
                
                document.getElementById("dispatch_lmmm_total_cdy_bundles").innerHTML =  total_lmmm_cdy_bundles ;  
                document.getElementById("dispatch_mmsm_total_cdy_bundles").innerHTML =  total_mmsm_cdy_bundles ;
                document.getElementById("dispatch_wrm1_total_cdy_bundles").innerHTML =  total_wrm1_cdy_bundles ;
                document.getElementById("dispatch_wrm2_total_cdy_bundles").innerHTML =  total_wrm2_cdy_bundles ;
                document.getElementById("dispatch_sbm_total_cdy_bundles").innerHTML =  total_sbm_cdy_bundles ;
                document.getElementById("dispatch_stm_total_cdy_bundles").innerHTML =  total_stm_cdy_bundles ;
                
                
                document.getElementById("dispatch_lmmm_total_road_bundles").innerHTML =  total_lmmm_road_bundles ;  
                document.getElementById("dispatch_mmsm_total_road_bundles").innerHTML =  total_mmsm_road_bundles ;
                document.getElementById("dispatch_wrm1_total_road_bundles").innerHTML =  total_wrm1_road_bundles ;
                document.getElementById("dispatch_wrm2_total_road_bundles").innerHTML =  total_wrm2_road_bundles ;
                document.getElementById("dispatch_sbm_total_road_bundles").innerHTML =  total_sbm_road_bundles ;
                document.getElementById("dispatch_stm_total_road_bundles").innerHTML =  total_stm_road_bundles ;
                 
                var len = bold_values.length;
                let str = "dispatch_";
                for (var i = 0; i < len; i++)
                {
                    let bool_check = bold_values[i].includes("total");
                    if(bool_check == false)
                    {
                        str = "dispatch_";
                        str = str + bold_values[i];
                        document.getElementById(str).style.fontWeight = "bolder";
                    }
                    
                    //Do something
                }
                //alert('hi');
                var total_lmmm_cdy_count = lmmm_A_cdy_count + lmmm_B_cdy_count + lmmm_C_cdy_count ;
                var total_mmsm_cdy_count = mmsm_A_cdy_count + mmsm_B_cdy_count + mmsm_C_cdy_count ;
                var total_wrm1_cdy_count = wrm1_A_cdy_count + wrm1_B_cdy_count + wrm1_C_cdy_count ;
                var total_wrm2_cdy_count = wrm2_A_cdy_count + wrm2_B_cdy_count + wrm2_C_cdy_count ;
                var total_sbm_cdy_count = sbm_A_cdy_count + sbm_B_cdy_count + sbm_C_cdy_count ;
                var total_stm_cdy_count = stm_A_cdy_count + stm_B_cdy_count + stm_C_cdy_count ;
              
                var total_lmmm_road_count = lmmm_A_road_count + lmmm_B_road_count + lmmm_C_road_count ;
                var total_mmsm_road_count = mmsm_A_road_count + mmsm_B_road_count + mmsm_C_road_count ;
                var total_wrm1_road_count = wrm1_A_road_count + wrm1_B_road_count + wrm1_C_road_count ;
                var total_wrm2_road_count = wrm2_A_road_count + wrm2_B_road_count + wrm2_C_road_count ;
                var total_sbm_road_count = sbm_A_road_count + sbm_B_road_count + sbm_C_road_count ;
                var total_stm_road_count = stm_A_road_count + stm_B_road_count + stm_C_road_count ;
              
              
                var total_A_cdy_count = lmmm_A_cdy_count + mmsm_A_cdy_count + wrm1_A_cdy_count + wrm2_A_cdy_count + sbm_A_cdy_count + stm_A_cdy_count;
                var total_B_cdy_count = lmmm_B_cdy_count + mmsm_B_cdy_count + wrm1_B_cdy_count + wrm2_B_cdy_count + sbm_B_cdy_count + stm_B_cdy_count;
                var total_C_cdy_count = lmmm_C_cdy_count + mmsm_C_cdy_count + wrm1_C_cdy_count + wrm2_C_cdy_count + sbm_C_cdy_count + stm_C_cdy_count;
               
                var total_A_road_count = lmmm_A_road_count + mmsm_A_road_count + wrm1_A_road_count + wrm2_A_road_count + sbm_A_road_count + stm_A_road_count;
                var total_B_road_count = lmmm_B_road_count + mmsm_B_road_count + wrm1_B_road_count + wrm2_B_road_count + sbm_B_road_count + stm_B_road_count;
                var total_C_road_count = lmmm_C_road_count + mmsm_C_road_count + wrm1_C_road_count + wrm2_C_road_count + sbm_C_road_count + stm_C_road_count;
             
                var total_A_count =   total_A_cdy_count + total_A_road_count;
                var total_B_count =   total_B_cdy_count + total_B_road_count;
                var total_C_count =   total_C_cdy_count + total_C_road_count;
                
                var total_cdy_tons = total_A_cdy_count + total_B_cdy_count + total_C_cdy_count;
                var total_road_tons = total_A_road_count + total_B_road_count + total_C_road_count;
              
                  
                var total_cdy_bundles = total_lmmm_cdy_bundles + total_mmsm_cdy_bundles + total_wrm1_cdy_bundles + total_wrm2_cdy_bundles + total_sbm_cdy_bundles + total_stm_cdy_bundles;
                var total_road_bundles = total_lmmm_road_bundles + total_mmsm_road_bundles + total_wrm1_road_bundles + total_wrm2_road_bundles + total_sbm_road_bundles + total_stm_road_bundles;
               
               
                var total_tons = total_A_count + total_B_count + total_C_count;
                var total_bundles = total_cdy_bundles + total_road_bundles ;
                
                document.getElementById("dispatch_total_A_cdy_count").innerHTML =  total_A_cdy_count ;  
                document.getElementById("dispatch_total_B_cdy_count").innerHTML =  total_B_cdy_count ;
                document.getElementById("dispatch_total_C_cdy_count").innerHTML =  total_C_cdy_count ;
                document.getElementById("dispatch_total_A_road_count").innerHTML =  total_A_road_count ;
                document.getElementById("dispatch_total_B_road_count").innerHTML =  total_B_road_count ;
                document.getElementById("dispatch_total_C_road_count").innerHTML =  total_C_road_count ;
                document.getElementById("dispatch_total_cdy_tons").innerHTML =  total_cdy_tons ;  
                document.getElementById("dispatch_total_road_tons").innerHTML =  total_road_tons ;
                document.getElementById("dispatch_total_cdy_bundles").innerHTML =  total_cdy_bundles ;
                document.getElementById("dispatch_total_road_bundles").innerHTML =  total_road_bundles ;
                
                document.getElementById("dispatch_lmmm_total_cdy_tons").innerHTML =  total_lmmm_cdy_count ;  
                document.getElementById("dispatch_mmsm_total_cdy_tons").innerHTML =  total_mmsm_cdy_count ;
                document.getElementById("dispatch_wrm1_total_cdy_tons").innerHTML =  total_wrm1_cdy_count ;
                document.getElementById("dispatch_wrm2_total_cdy_tons").innerHTML =  total_wrm2_cdy_count ;
                document.getElementById("dispatch_sbm_total_cdy_tons").innerHTML =  total_sbm_cdy_count ;
                document.getElementById("dispatch_stm_total_cdy_tons").innerHTML =  total_stm_cdy_count ;
               
                document.getElementById("dispatch_lmmm_total_road_tons").innerHTML =  total_lmmm_road_count ;  
                document.getElementById("dispatch_mmsm_total_road_tons").innerHTML =  total_mmsm_road_count ;     
                document.getElementById("dispatch_wrm1_total_road_tons").innerHTML =  total_wrm1_road_count ;
                document.getElementById("dispatch_wrm2_total_road_tons").innerHTML =  total_wrm2_road_count ;
                document.getElementById("dispatch_sbm_total_road_tons").innerHTML =  total_sbm_road_count ;
                document.getElementById("dispatch_stm_total_road_tons").innerHTML =  total_stm_road_count ;
               
                document.getElementById("dispatch_lmmm_total_cdy_tons").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_mmsm_total_cdy_tons").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_wrm1_total_cdy_tons").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_wrm2_total_cdy_tons").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_sbm_total_cdy_tons").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_stm_total_cdy_tons").style.fontWeight =  "bolder" ; 
               
                document.getElementById("dispatch_lmmm_total_road_tons").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_mmsm_total_road_tons").style.fontWeight =  "bolder" ;   
                document.getElementById("dispatch_wrm1_total_road_tons").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_wrm2_total_road_tons").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_sbm_total_road_tons").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_stm_total_road_tons").style.fontWeight =  "bolder" ; 
               
                document.getElementById("dispatch_lmmm_total_cdy_bundles").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_mmsm_total_cdy_bundles").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_wrm1_total_cdy_bundles").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_wrm2_total_cdy_bundles").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_sbm_total_cdy_bundles").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_stm_total_cdy_bundles").style.fontWeight =  "bolder" ; 
               
                document.getElementById("dispatch_lmmm_total_road_bundles").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_mmsm_total_road_bundles").style.fontWeight =  "bolder" ;   
                document.getElementById("dispatch_wrm1_total_road_bundles").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_wrm2_total_road_bundles").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_sbm_total_road_bundles").style.fontWeight =  "bolder" ; 
                document.getElementById("dispatch_stm_total_road_bundles").style.fontWeight =  "bolder" ; 
               
               
                document.getElementById("dispatch_total_A_count").innerHTML =  total_A_count ;  
                document.getElementById("dispatch_total_B_count").innerHTML =  total_B_count ;
                document.getElementById("dispatch_total_C_count").innerHTML =  total_C_count ;
                document.getElementById("dispatch_total_tons").innerHTML =  total_tons ;
                document.getElementById("dispatch_total_bundles").innerHTML =  total_bundles ;
                
                document.getElementById("dispatch_total_A_count").style.textAlign =  "center" ;  
                document.getElementById("dispatch_total_B_count").style.textAlign =  "center" ;  
                document.getElementById("dispatch_total_C_count").style.textAlign =  "center" ;  
                document.getElementById("dispatch_total_tons").style.textAlign =  "center" ;  
                document.getElementById("dispatch_total_bundles").style.textAlign =  "center" ;  
            
                var l = lmmm_A_cdy_count + lmmm_B_cdy_count + lmmm_C_cdy_count + lmmm_A_road_count + lmmm_B_road_count + lmmm_C_road_count;;
                var m = mmsm_A_cdy_count + mmsm_B_cdy_count + mmsm_C_cdy_count + mmsm_A_road_count + mmsm_B_road_count + mmsm_C_road_count;
                var w1 = wrm1_A_cdy_count + wrm1_B_cdy_count + wrm1_C_cdy_count + wrm1_A_road_count + wrm1_B_road_count + wrm1_C_road_count;
                var w2 = wrm2_A_cdy_count + wrm2_B_cdy_count + wrm2_C_cdy_count + wrm2_A_road_count + wrm2_B_road_count + wrm2_C_road_count;
                var b = sbm_A_cdy_count + sbm_B_cdy_count + sbm_C_cdy_count + sbm_A_road_count + sbm_B_road_count + sbm_C_road_count;
                var t = stm_A_cdy_count + stm_B_cdy_count + stm_C_cdy_count + stm_A_road_count + stm_B_road_count + stm_C_road_count;
               
                let max = Math.max(l, m, w1,w2,b,t);
                let stepSize = 100;
                if(max <=500)
                {
                    stepSize = 100;
                    max = 500;
                }
                else if(max>500 && max <=1000)
                {
                    stepSize = 200;
                    max = 1000;
                }
                else if(max>1000 && max <=1500)
                {
                    stepSize = 300;
                    max = 1500;
                }
                else if(max>1500 && max <=2000)
                {
                    stepSize = 400;
                    max = 2000;
                }
                else if(max>2000 && max <=2500)
                {
                    stepSize = 500;
                    max = 2500;
                }
                else if(max>2500 )
                {
                    stepSize = 600;
                    max = 3000;
                }
                //alert('lmmm  count' + l)    ;
                //var tot  = total_A_count + total_B_count + total_C_count ;
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                let my_text = curr_date + "(Data in Tonnage)";
                 
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                //var yValues = [100, 100, 100, 100, 100, 100];
                var yValues = [l, m, w1, w2, b, t];
                //var barColors = ["red", "green","blue","orange","brown", "#8e44ad"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];

                new Chart("myChart_dispatch", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  type: "bar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: my_text
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Dispatch",
                        color: 'green',
                        fontSize: 28
                    },
                    scales: {
                                xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: true,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 1000,
                                            //stepValue: 10,
                                            max: max,
                                            stepSize: stepSize
                                            //max: 3500
                                        }
                                    }]
                            },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: {
                                duration: 1,
                                onComplete: function() {
                                  var chartInstance = this.chart;
                                  ctx = chartInstance.ctx;
                                  ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                  ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                  ctx.textAlign = 'left';
                                  ctx.textBaseline = 'bottom';

                                  this.data.datasets.forEach(function(dataset, i) {
                                    var meta = chartInstance.controller.getDatasetMeta(i);
                                    meta.data.forEach(function(bar, index) {
                                          var data = dataset.data[index];
                                          ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                    });
                                  });
                                }
                              }

        
                    
                  }
                });
                
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_dispatches').modal();
                });
            }
            
            function show_energy_1()
            {
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                var xValues = ["L", "M", "W1", "W2", "B", "T"];
                //var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                var yValues = [100, 149, 244, 124, 315, 67];
                var barColors = ["red", "green","blue","orange","brown", "pink"];

                new Chart("myChart_energy", {
                  //type: "horizontalBar",
                  type: "horizontalBar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: curr_date
                    },
                    textInside: 
                    {
                        text: "Energy Consumption",
                        color: 'green',
                        fontSize: 28
                    }
                  }
                });
                
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_energy').modal();
                });
            
            } 
            
            function show_energy()
            {
                 
                //modal_obj["modal_energy_d"] = true;
                //localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $.ajax( 
                     
	    	{
		       url : "rest/get_mills_energy_data",
		       method : "POST",
                       dataType: "json",
                     //  dataType: "application/json; charset=utf-8",
                       contentType: "application/json",
                       success : displayEnergyUpdatedStatus,
                       error : function()
                       {
                           alert("could not connected to server !");
                       }
	    	}
                );
            }
            
            function displayEnergyUpdatedStatus(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        var energy_data = returnedData['energy_data'];
                        display_EnergyChart(energy_data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function display_EnergyChart(energy_data)
            {
                        var lmmm_A_count = 0;
                        var lmmm_B_count = 0;
                        var lmmm_C_count = 0;
                      
                        var mmsm_A_count = 0;
                        var mmsm_B_count = 0;
                        var mmsm_C_count = 0;
                      
                        var wrm1_A_count = 0;
                        var wrm1_B_count = 0;
                        var wrm1_C_count = 0;
                       
                        var wrm2_A_count = 0;
                        var wrm2_B_count = 0;
                        var wrm2_C_count = 0;
                       
                        var sbm_A_count = 0;
                        var sbm_B_count = 0;
                        var sbm_C_count = 0;
                     
                        var stm_A_count = 0;
                        var stm_B_count = 0;
                        var stm_C_count = 0;
                      
                        var total_A_count  = 0;
                        var total_B_count  = 0;
                        var total_C_count  = 0;
                        
                        var lmmm_total_count = 0;
                        var mmsm_total_count = 0;
                        var wrm1_total_count = 0;
                        var wrm2_total_count = 0;
                        var sbm_total_count = 0;
                        var stm_total_count = 0;
                        
                        Object.keys(energy_data).forEach(key => 
                        {
                           
                            
                            if(key === 'lmmm_A_energy_count')
                            {
                                lmmm_A_count =  energy_data[key];
                            }
                            else if(key === 'lmmm_B_energy_count')
                            {
                                lmmm_B_count =  energy_data[key];
                            }
                            else if(key === 'lmmm_C_energy_count')
                            {
                                lmmm_C_count =  energy_data[key];
                            }
                            else if(key === 'lmmm_total_energy_count')
                            {
                                lmmm_total_count =  energy_data[key];
                            }
                            
                            else if(key === 'mmsm_A_energy_count')
                            {
                                mmsm_A_count =  energy_data[key];
                            }
                            else if(key === 'mmsm_B_energy_count')
                            {
                                mmsm_B_count =  energy_data[key];
                            }
                            else if(key === 'mmsm_C_energy_count')
                            {
                                mmsm_C_count =  energy_data[key];
                            }
                            else if(key === 'mmsm_total_energy_count')
                            {
                                mmsm_total_count =  energy_data[key];
                            }
                            
                            else if(key === 'wrm1_A_energy_count')
                            {
                                wrm1_A_count =  energy_data[key];
                            }
                            else if(key === 'wrm1_B_energy_count')
                            {
                                wrm1_B_count =  energy_data[key];
                            }
                            else if(key === 'wrm1_C_energy_count')
                            {
                                wrm1_C_count =  energy_data[key];
                            }
                            else if(key === 'wrm1_total_energy_count')
                            {
                                wrm1_total_count =  energy_data[key];
                            }
                            
                            else if(key === 'wrm2_A_energy_count')
                            {
                                wrm2_A_count =  energy_data[key];
                            }
                            else if(key === 'wrm2_B_energy_count')
                            {
                                wrm2_B_count =  energy_data[key];
                            }
                            else if(key === 'wrm2_C_energy_count')
                            {
                                wrm2_C_count =  energy_data[key];
                            }
                            else if(key === 'wrm2_total_energy_count')
                            {
                                wrm2_total_count =  energy_data[key];
                            }
                        
                            else if(key === 'sbm_A_energy_count')
                            {
                                sbm_A_count =  energy_data[key];
                            }
                            else if(key === 'sbm_B_energy_count')
                            {
                                sbm_B_count =  energy_data[key];
                            }
                            else if(key === 'sbm_C_energy_count')
                            {
                                sbm_C_count =  energy_data[key];
                            }
                            else if(key === 'sbm_total_energy_count')
                            {
                                sbm_total_count =  energy_data[key];
                            }
                           
                            else if(key === 'stm_A_energy_count')
                            {
                                stm_A_count =  energy_data[key];
                            }
                            else if(key === 'stm_B_energy_count')
                            {
                                stm_B_count =  energy_data[key];
                            }
                            else if(key === 'stm_C_energy_count')
                            {
                                stm_C_count =  energy_data[key];
                            }
                            else if(key === 'stm_total_energy_count')
                            {
                                stm_total_count =  energy_data[key];
                            }
                        
                        });
                        
                
                mmsm_A_count = Math.round(mmsm_A_count * 100) / 100;
                wrm1_A_count = Math.round(wrm1_A_count * 100) / 100;
                wrm2_A_count = Math.round(wrm2_A_count * 100) / 100;
                sbm_A_count = Math.round(sbm_A_count * 100) / 100;
                stm_A_count = Math.round(stm_A_count * 100) / 100;
                
                mmsm_B_count = Math.round(mmsm_B_count * 100) / 100;
                wrm1_B_count = Math.round(wrm1_B_count * 100) / 100;
                wrm2_B_count = Math.round(wrm2_B_count * 100) / 100;
                sbm_B_count = Math.round(sbm_B_count * 100) / 100;
                stm_B_count = Math.round(stm_B_count * 100) / 100;
                
                mmsm_C_count = Math.round(mmsm_C_count * 100) / 100;
                wrm1_C_count = Math.round(wrm1_C_count * 100) / 100;
                wrm2_C_count = Math.round(wrm2_C_count * 100) / 100;
                sbm_C_count = Math.round(sbm_C_count * 100) / 100;
                stm_C_count = Math.round(stm_C_count * 100) / 100;
                
              
                
                document.getElementById("energy_lmmm_A_count").innerHTML =  "---" ;  
                document.getElementById("energy_mmsm_A_count").innerHTML =  mmsm_A_count ;
                document.getElementById("energy_wrm1_A_count").innerHTML =  wrm1_A_count ;
                document.getElementById("energy_wrm2_A_count").innerHTML = wrm2_A_count ;
                document.getElementById("energy_sbm_A_count").innerHTML =  sbm_A_count ;
                document.getElementById("energy_stm_A_count").innerHTML =  stm_A_count ;
               
                document.getElementById("energy_lmmm_B_count").innerHTML =  "---";  
                document.getElementById("energy_mmsm_B_count").innerHTML =  mmsm_B_count ;
                document.getElementById("energy_wrm1_B_count").innerHTML =  wrm1_B_count ;
                document.getElementById("energy_wrm2_B_count").innerHTML = wrm2_B_count ;
                document.getElementById("energy_sbm_B_count").innerHTML =  sbm_B_count ;
                document.getElementById("energy_stm_B_count").innerHTML =  stm_B_count ;
               
                document.getElementById("energy_lmmm_C_count").innerHTML =  "---" ;  
                document.getElementById("energy_mmsm_C_count").innerHTML =  mmsm_C_count ;
                document.getElementById("energy_wrm1_C_count").innerHTML =  wrm1_C_count ;
                document.getElementById("energy_wrm2_C_count").innerHTML = wrm2_C_count ;
                document.getElementById("energy_sbm_C_count").innerHTML =  sbm_C_count ;
                document.getElementById("energy_stm_C_count").innerHTML =  stm_C_count ;
               
                total_A_count = lmmm_A_count + mmsm_A_count + wrm1_A_count + wrm2_A_count + sbm_A_count + stm_A_count;
                total_B_count = lmmm_B_count + mmsm_B_count + wrm1_B_count + wrm2_B_count + sbm_B_count + stm_B_count;
                total_C_count = lmmm_C_count + mmsm_C_count + wrm1_C_count + wrm2_C_count + sbm_C_count + stm_C_count;
             
                lmmm_total_count = lmmm_A_count + lmmm_B_count + lmmm_C_count;
                mmsm_total_count = mmsm_A_count + mmsm_B_count + mmsm_C_count;
                wrm1_total_count = wrm1_A_count + wrm1_B_count + wrm1_C_count;
                wrm2_total_count = wrm2_A_count + wrm2_B_count + wrm2_C_count;
                sbm_total_count = sbm_A_count + sbm_B_count + sbm_C_count;
                stm_total_count = stm_A_count + stm_B_count + stm_C_count;
                
                var total_count = total_A_count + total_B_count + total_C_count ;
                
                mmsm_total_count = Math.round(mmsm_total_count * 100) / 100;
                wrm1_total_count = Math.round(wrm1_total_count * 100) / 100;
                wrm2_total_count = Math.round(wrm2_total_count * 100) / 100;
                sbm_total_count = Math.round(sbm_total_count * 100) / 100;
                stm_total_count = Math.round(stm_total_count * 100) / 100;
                
                
                total_A_count = Math.round(total_A_count * 100) / 100;
                total_B_count = Math.round(total_B_count * 100) / 100;
                total_C_count = Math.round(total_C_count * 100) / 100;
                total_count = Math.round(total_count * 100) / 100;

                document.getElementById("energy_lmmm_total_count").innerHTML =  "---" ;  
                document.getElementById("energy_mmsm_total_count").innerHTML =  mmsm_total_count ;
                document.getElementById("energy_wrm1_total_count").innerHTML =  wrm1_total_count ;
                document.getElementById("energy_wrm2_total_count").innerHTML = wrm2_total_count ;
                document.getElementById("energy_sbm_total_count").innerHTML =  sbm_total_count ;
                document.getElementById("energy_stm_total_count").innerHTML =  stm_total_count ;
               
                document.getElementById("energy_total_A_count").innerHTML =  total_A_count ;  
                document.getElementById("energy_total_B_count").innerHTML =  total_B_count ;
                document.getElementById("energy_total_C_count").innerHTML =  total_C_count ;
                document.getElementById("energy_total_count").innerHTML = total_count ;
              
        
                var l = lmmm_total_count;
                var m =  mmsm_total_count;
                var w1 = wrm1_total_count;
                var w2 = wrm2_total_count;
                var b = sbm_total_count;
                var t =  stm_total_count;
               
                let max = Math.max(l, m, w1,w2,b,t);
                let stepSize = 100;
                
                if(max <= 50)
                {
                    stepSize = 10;
                    max = 50;
                }
                else if(max>50 && max <= 100)
                {
                    stepSize = 20;
                    max = 100;
                }
                else if(max>100 && max <=300)
                {
                    stepSize = 50;
                    max = 300;
                }
                else if(max>300 &&max <=500)
                {
                    stepSize = 100;
                    max = 500;
                }
                else if(max>500 && max <=1000)
                {
                    stepSize = 200;
                    max = 1000;
                }
                else if(max>1000 && max <=1500)
                {
                    stepSize = 300;
                    max = 1500;
                }
                else if(max>1500 && max <=2000)
                {
                    stepSize = 400;
                    max = 2000;
                }
                else if(max>2000 && max <=2500)
                {
                    stepSize = 500;
                    max = 2500;
                }
                else if(max>2500 )
                {
                    stepSize = 600;
                    max = 3000;
                }
                //alert('lmmm  count' + l)    ;
                //var tot  = total_A_count + total_B_count + total_C_count ;
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                let my_text = curr_date + " (Data in MW)" 
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                //var yValues = [100, 100, 100, 100, 100, 100];
                var yValues = [l, m, w1, w2, b, t];
                //var barColors = ["red", "green","blue","orange","brown", "#8e44ad"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];

                new Chart("myChart_energy", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  type: "bar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: my_text
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Energy",
                        color: 'green',
                        fontSize: 28
                    },
                    scales: {
                                xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: true,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 1000,
                                            //stepValue: 10,
                                            max: max,
                                            stepSize: stepSize
                                            //max: 3500
                                        }
                                    }]
                            },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: {
                                duration: 1,
                                onComplete: function() {
                                  var chartInstance = this.chart;
                                  ctx = chartInstance.ctx;
                                  ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                  ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                  ctx.textAlign = 'left';
                                  ctx.textBaseline = 'bottom';

                                  this.data.datasets.forEach(function(dataset, i) {
                                    var meta = chartInstance.controller.getDatasetMeta(i);
                                    meta.data.forEach(function(bar, index) {
                                          var data = dataset.data[index];
                                          ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                    });
                                  });
                                }
                              }

        
                    
                  }
                });
                
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_energy').modal();
                });
            }
            
            function switch_menu()
            {
                //alert('how');
                
                var display_icon = document.getElementById("table_menu_icon").style.display;
                
                if(display_icon === 'block') 
                {
                    document.getElementById("table_menu_text").style.display = 'block';
                    document.getElementById("table_menu_icon").style.display = 'none';
                    
                    
                    document.getElementById("div_main_menu").setAttribute("class","col-md-2");
                    document.getElementById("div_main_data").setAttribute("class","col-md-10");
                }
                else if(display_icon === 'none') 
                {
                    document.getElementById("table_menu_text").style.display = 'none';
                    document.getElementById("table_menu_icon").style.display = 'block';
                    
                    document.getElementById("div_main_menu").setAttribute("class","col-md-1");
                    document.getElementById("div_main_data").setAttribute("class","col-md-11");
                }
                else
                {
                    document.getElementById("table_menu_text").style.display = 'block';
                    document.getElementById("table_menu_icon").style.display = 'none';
                    
                    document.getElementById("div_main_menu").setAttribute("class","col-md-2");
                    document.getElementById("div_main_data").setAttribute("class","col-md-10");
                }
                
                
                
            }
            
            function show_production_summary()
            {
                let ctx = document.getElementById("myChart").getContext("2d");
                let myChart = new Chart(ctx, {
                    type: "line",
                    data: {
                        labels: [
                            "Monday",
                            "Tuesday",
                            "Wednesday",
                            "Thursday",
                            "Friday",
                            "Saturday",
                            "Sunday",
                        ],
                        datasets: [
                            {
                                label: "work load",
                                data: [2, 9, 3, 17, 6, 3, 7],
                                backgroundColor: "rgba(153,205,1,0.6)",
                            },
                            {
                                label: "free hours",
                                data: [2, 2, 5, 5, 2, 1, 10],
                                backgroundColor: "rgba(155,153,10,0.6)",
                            },
                        ],
                    },
                });
            }
            
            function open_lmmm()
            {
                 window.open("https://webserv4.vizagsteel.com/lmmm_web/", "_blank");
            }
            
            function open_mmsm()
            {
                 window.open("https://webserv3.vizagsteel.com/mmsmit/index.html", "_blank");
            }
            
            function open_wrm1()
            {
                 window.open("https://webserv3.vizagsteel.com/wrm1sr/", "_blank");
            }
            
            function open_wrm2()
            {
                 window.open("https://webserv3.vizagsteel.com/wrm2sr/", "_blank");
            }
            
            function open_sbm()
            {
                 window.open("https://webserv3.vizagsteel.com/sbmplan/", "_blank");
            }
            
            function open_stm()
            {
                 window.open("https://webserv5.vizagsteel.com:8443/STMWeb/pages/", "_blank");
            }
            
            function show_monthly_production()
            {
                //modal_obj["modal_production_m"] = true;
                //localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $.ajax( 
                     
	    	{
		       url : "rest/get_mills_monthly_prod_data",
		       method : "POST",
                       dataType: "json",
                     //  dataType: "application/json; charset=utf-8",
                       contentType: "application/json",
                       success : displayMonthlyProductionStatus,
                       error : function()
                       {
                           alert("could not connected to server !");
                       }
	    	}
                );
            }
                    
            function displayMonthlyProductionStatus(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        var prod_data = returnedData['prod_monthly_data'];
                        
                        var lmmm_prod_month_count = 0;
                        var mmsm_prod_month_count = 0;
                        var wrm1_prod_month_count = 0;
                        var wrm2_prod_month_count = 0;
                        var sbm_prod_month_count = 0;
                        var stm_prod_month_count = 0;
                        
                        var lmmm_prod_month_weight = 0;
                        var mmsm_prod_month_weight = 0;
                        var wrm1_prod_month_weight = 0;
                        var wrm2_prod_month_weight = 0;
                        var sbm_prod_month_weight = 0;
                        var stm_prod_month_weight = 0;
                      
                        var total_prod_month_count = 0;
                        var total_prod_month_weight = 0;
                        
                        Object.keys(prod_data).forEach(key => 
                        {
                            if(key === 'lmmm_prod_month_count')
                            {
                                lmmm_prod_month_count =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_month_count')
                            {
                                mmsm_prod_month_count =  prod_data[key];
                            }
                            else if(key === 'wrm1_prod_month_count')
                            {
                                wrm1_prod_month_count =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_month_count')
                            {
                                wrm2_prod_month_count =  prod_data[key];
                            }
                            
                            else if(key === 'sbm_prod_month_count')
                            {
                                sbm_prod_month_count =  prod_data[key];
                            }
                            else if(key === 'stm_prod_month_count')
                            {
                                stm_prod_month_count =  prod_data[key];
                            }
                            else if(key === 'lmmm_prod_month_weight')
                            {
                                lmmm_prod_month_weight =  prod_data[key];
                            }
                            else if(key === 'mmsm_prod_month_weight')
                            {
                                mmsm_prod_month_weight =  prod_data[key];
                            }
                            
                            else if(key === 'wrm1_prod_month_weight')
                            {
                                wrm1_prod_month_weight =  prod_data[key];
                            }
                            else if(key === 'wrm2_prod_month_weight')
                            {
                                wrm2_prod_month_weight =  prod_data[key];
                            }
                            else if(key === 'sbm_prod_month_weight')
                            {
                                sbm_prod_month_weight =  prod_data[key];
                            }
                            else if(key === 'stm_prod_month_weight')
                            {
                                stm_prod_month_weight =  prod_data[key];
                            }
                            
                            else if(key === 'total_prod_month_count')
                            {
                                total_prod_month_count =  prod_data[key];
                            }
                            else if(key === 'total_prod_month_weight')
                            {
                                total_prod_month_weight =  prod_data[key];
                            }
                           
                            
                        });
                            
                        display_MonthlyProdChart(prod_data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function display_MonthlyProdChart_1(prod_data)
            {
                var lmmm_prod_month_count = 0;
                var mmsm_prod_month_count = 0;
                var wrm1_prod_month_count = 0;
                var wrm2_prod_month_count = 0;
                var sbm_prod_month_count = 0;
                var stm_prod_month_count = 0;

                var lmmm_prod_month_weight = 0;
                var mmsm_prod_month_weight = 0;
                var wrm1_prod_month_weight = 0;
                var wrm2_prod_month_weight = 0;
                var sbm_prod_month_weight = 0;
                var stm_prod_month_weight = 0;

                var total_prod_month_count = 0;
                var total_prod_month_weight = 0;
                        
                Object.keys(prod_data).forEach(key => 
                {
                    if(key === 'lmmm_prod_month_count')
                    {
                        lmmm_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'mmsm_prod_month_count')
                    {
                        mmsm_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'wrm1_prod_month_count')
                    {
                        wrm1_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'wrm2_prod_month_count')
                    {
                        wrm2_prod_month_count =  prod_data[key];
                    }

                    else if(key === 'sbm_prod_month_count')
                    {
                        sbm_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'stm_prod_month_count')
                    {
                        stm_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'lmmm_prod_month_weight')
                    {
                        lmmm_prod_month_weight =  prod_data[key];
                    }
                    else if(key === 'mmsm_prod_month_weight')
                    {
                        mmsm_prod_month_weight =  prod_data[key];
                    }

                    else if(key === 'wrm1_prod_month_weight')
                    {
                        wrm1_prod_month_weight =  prod_data[key];
                    }
                    else if(key === 'wrm2_prod_month_weight')
                    {
                        wrm2_prod_month_weight =  prod_data[key];
                    }
                    else if(key === 'sbm_prod_month_weight')
                    {
                        sbm_prod_month_weight =  prod_data[key];
                    }
                    else if(key === 'stm_prod_month_weight')
                    {
                        stm_prod_month_weight =  prod_data[key];
                    }

                    else if(key === 'total_prod_month_count')
                    {
                        total_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'total_prod_month_weight')
                    {
                        total_prod_month_weight =  prod_data[key];
                    }


                });

                 
              
                document.getElementById("prod_lmmm_month_count").innerHTML =  lmmm_prod_month_count ;  
                document.getElementById("prod_mmsm_month_count").innerHTML =  mmsm_prod_month_count ;
                document.getElementById("prod_wrm1_month_count").innerHTML =  wrm1_prod_month_count ;
                document.getElementById("prod_wrm2_month_count").innerHTML =  wrm2_prod_month_count ;
                document.getElementById("prod_sbm_month_count").innerHTML =  sbm_prod_month_count ;
                document.getElementById("prod_stm_month_count").innerHTML =  stm_prod_month_count ;

                document.getElementById("prod_lmmm_month_weight").innerHTML =  lmmm_prod_month_weight ;  
                document.getElementById("prod_mmsm_month_weight").innerHTML =  mmsm_prod_month_weight ;
                document.getElementById("prod_wrm1_month_weight").innerHTML =  wrm1_prod_month_weight ;
                document.getElementById("prod_wrm2_month_weight").innerHTML =  wrm2_prod_month_weight ;
                document.getElementById("prod_sbm_month_weight").innerHTML =  sbm_prod_month_weight ;
                document.getElementById("prod_stm_month_weight").innerHTML =  stm_prod_month_weight ;

                document.getElementById("prod_total_month_count").innerHTML =  total_prod_month_count ;
                document.getElementById("prod_total_month_weight").innerHTML =  total_prod_month_weight ;
       
                //var l = lmmm_prod_month_count;
                //var m = mmsm_prod_month_count;
                //var w1 = wrm1_prod_month_count;
                //var w2  =wrm2_prod_month_count;
                //var b = sbm_prod_month_count;
                //var t =stm_prod_month_count;
                //var tot  = total_prod_month_count;
                
                var l = lmmm_prod_month_weight;
                var m = mmsm_prod_month_weight;
                var w1 = wrm1_prod_month_weight;
                var w2  =wrm2_prod_month_weight;
                var b = sbm_prod_month_weight;
                var t =stm_prod_month_weight;
                
                let max = Math.max(l, m, w1,w2,b,t);
                let stepSize = 1000;
                if(max <=5000)
                {
                    stepSize = 1000;
                    max = 5000;
                }
                else if(max>5000 && max <=10000)
                {
                    stepSize = 2000;
                    max = 10000;
                }
                else if(max>10000 && max <=15000)
                {
                    stepSize = 3000;
                    max = 15000;
                }
                else if(max>15000 && max <=20000)
                {
                    stepSize = 4000;
                    max = 20000;
                }
                else if(max>20000 && max <=25000)
                {
                    stepSize = 5000;
                    max = 25000;
                }
                else if(max>25000 )
                {
                    stepSize = 6000;
                    max = 30000;
                }
                
                
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                var myText = "Data in Tonnage" ;
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                //var yValues = [100, 100, 100, 100, 100, 100];
                var yValues = [l, m, w1, w2, b, t];
                //var barColors = ["red", "green","blue","orange","brown", "#8e44ad"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];
                new Chart("myChart_monthly_production", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  //type: "bar",
                  type: "horizontalBar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
               
                options: 
                {
                    responsive: true,
                    maintainAspectRatio: false,
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Production",
                        color: 'green',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';

                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                              var meta = chartInstance.controller.getDatasetMeta(i);
                                              meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                              });
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: true,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 300,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: max
                                        }
                                    }]
                            }
                    
                  }
                });
                
                
                new Chart("myChart_monthly_production_percentage", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  //type: "bar",
                  type: "pie",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                maintainAspectRatio: false,
                options: 
                {
                    responsive: true,
                    maintainAspectRatio: false,
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Production",
                        color: 'green',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';

                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                              var meta = chartInstance.controller.getDatasetMeta(i);
                                              meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data,  bar._model.x, bar._model.y - 5);
                                              });
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: false,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: false,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 300,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: max
                                        }
                                    }]
                            }
                    
                  }
                });
                
                
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_monthly_production').modal();
                    
        
                    jQuery('#myModal_monthly_production').modal(
                           {
                               backdrop: false,
                               show: true
                           });
                    jQuery('#myModal_monthly_production').draggable(
                           {
                               handle: ".modal-header"
                           });

                     
                                    });
                               
               
            }
            
            function display_MonthlyProdChart(prod_data)
            {
                var lmmm_prod_month_count = 0;
                var mmsm_prod_month_count = 0;
                var wrm1_prod_month_count = 0;
                var wrm2_prod_month_count = 0;
                var sbm_prod_month_count = 0;
                var stm_prod_month_count = 0;

                var lmmm_prod_month_weight = 0;
                var mmsm_prod_month_weight = 0;
                var wrm1_prod_month_weight = 0;
                var wrm2_prod_month_weight = 0;
                var sbm_prod_month_weight = 0;
                var stm_prod_month_weight = 0;

                var total_prod_month_count = 0;
                var total_prod_month_weight = 0;
                        
                Object.keys(prod_data).forEach(key => 
                {
                    if(key === 'lmmm_prod_month_count')
                    {
                        lmmm_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'mmsm_prod_month_count')
                    {
                        mmsm_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'wrm1_prod_month_count')
                    {
                        wrm1_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'wrm2_prod_month_count')
                    {
                        wrm2_prod_month_count =  prod_data[key];
                    }

                    else if(key === 'sbm_prod_month_count')
                    {
                        sbm_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'stm_prod_month_count')
                    {
                        stm_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'lmmm_prod_month_weight')
                    {
                        lmmm_prod_month_weight =  prod_data[key];
                    }
                    else if(key === 'mmsm_prod_month_weight')
                    {
                        mmsm_prod_month_weight =  prod_data[key];
                    }

                    else if(key === 'wrm1_prod_month_weight')
                    {
                        wrm1_prod_month_weight =  prod_data[key];
                    }
                    else if(key === 'wrm2_prod_month_weight')
                    {
                        wrm2_prod_month_weight =  prod_data[key];
                    }
                    else if(key === 'sbm_prod_month_weight')
                    {
                        sbm_prod_month_weight =  prod_data[key];
                    }
                    else if(key === 'stm_prod_month_weight')
                    {
                        stm_prod_month_weight =  prod_data[key];
                    }

                    else if(key === 'total_prod_month_count')
                    {
                        total_prod_month_count =  prod_data[key];
                    }
                    else if(key === 'total_prod_month_weight')
                    {
                        total_prod_month_weight =  prod_data[key];
                    }


                });

                 
              
                document.getElementById("prod_lmmm_month_count").innerHTML =  lmmm_prod_month_count ;  
                document.getElementById("prod_mmsm_month_count").innerHTML =  mmsm_prod_month_count ;
                document.getElementById("prod_wrm1_month_count").innerHTML =  wrm1_prod_month_count ;
                document.getElementById("prod_wrm2_month_count").innerHTML =  wrm2_prod_month_count ;
                document.getElementById("prod_sbm_month_count").innerHTML =  sbm_prod_month_count ;
                document.getElementById("prod_stm_month_count").innerHTML =  stm_prod_month_count ;

                document.getElementById("prod_lmmm_month_weight").innerHTML =  lmmm_prod_month_weight ;  
                document.getElementById("prod_mmsm_month_weight").innerHTML =  mmsm_prod_month_weight ;
                document.getElementById("prod_wrm1_month_weight").innerHTML =  wrm1_prod_month_weight ;
                document.getElementById("prod_wrm2_month_weight").innerHTML =  wrm2_prod_month_weight ;
                document.getElementById("prod_sbm_month_weight").innerHTML =  sbm_prod_month_weight ;
                document.getElementById("prod_stm_month_weight").innerHTML =  stm_prod_month_weight ;

                document.getElementById("prod_total_month_count").innerHTML =  total_prod_month_count ;
                document.getElementById("prod_total_month_weight").innerHTML =  total_prod_month_weight ;
       
                //var l = lmmm_prod_month_count;
                //var m = mmsm_prod_month_count;
                //var w1 = wrm1_prod_month_count;
                //var w2  =wrm2_prod_month_count;
                //var b = sbm_prod_month_count;
                //var t =stm_prod_month_count;
                //var tot  = total_prod_month_count;
                
                var l = lmmm_prod_month_weight;
                var m = mmsm_prod_month_weight;
                var w1 = wrm1_prod_month_weight;
                var w2  =wrm2_prod_month_weight;
                var b = sbm_prod_month_weight;
                var t =stm_prod_month_weight;
                
                var tot = l + m + w1 + w2 +b+ t;
                // rounding to 2 decimals
               /* var l_per =  Math.floor((l/tot)*100) ;
                var m_per =  Math.ceil((m/tot)*100) ;
                var w1_per =  Math.floor((w1/tot)*100) ;
                var w2_per = Math.ceil((w2/tot)*100) ;
                var b_per = Math.floor((b/tot)*100) ;
                var t_per =  Math.ceil((t/tot)*100) ;*/
                var l_percent = ((l/tot)*100);
                var m_percent = ((m/tot)*100);
                var w1_percent = ((w1/tot)*100);
                var w2_percent = ((w2/tot)*100);
                var b_percent = ((b/tot)*100);
                var t_percent = ((t/tot)*100);
                
                var l_per = l_percent.toFixed(2)  ;
                var m_per =  m_percent.toFixed(2)  ;
                var w1_per =  w1_percent.toFixed(2)  ;
                var w2_per = w2_percent.toFixed(2)  ;
                var b_per = b_percent.toFixed(2)  ;
                var t_per =  t_percent.toFixed(2)  ;
                
                document.getElementById("prod_lmmm_month_percent").innerHTML =  l_per + " %";  
                document.getElementById("prod_mmsm_month_percent").innerHTML =  m_per + " %";
                document.getElementById("prod_wrm1_month_percent").innerHTML =  w1_per + " %";
                document.getElementById("prod_wrm2_month_percent").innerHTML =  w2_per + " %";
                document.getElementById("prod_sbm_month_percent").innerHTML =  b_per + " %";
                document.getElementById("prod_stm_month_percent").innerHTML =  t_per + " %";
                document.getElementById("prod_total_month_percent").innerHTML =   "100 %";


                let max = Math.max(l, m, w1,w2,b,t);
                let min = Math.min(l, m, w1,w2,b,t);
                
                //alert('max:' + max);
                let maximum = max;
                let minimum = min;
                let no_of_steps = 5;
                
                if(min != 0)
                {
                    no_of_steps = max / min ;
                }
                
                no_of_steps = Math.ceil(no_of_steps);
                //no_of_steps = no_of_steps + 1;
                
                let stepSize = 1000;
                if(max <=5000)
                {
                    stepSize = 1000;
                    maximum = 5000;
                    minimum = 0;
                }
                else if(max>5000 && max <=10000)
                {
                    stepSize = 2000;
                    maximum = 10000;
                    minimum = 2000;
                }
                else if(max>10000 && max <=15000)
                {
                    stepSize = 3000;
                    maximum = 15000;
                    minimum = 3000;
                }
                else if(max>15000 && max <=20000)
                {
                    stepSize = 4000;
                    maximum = 20000;
                    minimum = 4000;
                }
                else if(max>20000 && max <=25000)
                {
                    stepSize = 5000;
                    maximum = 25000;
                    minimum = 5000;
                }
                else if(max>25000 && max <=30000)
                {
                    stepSize = 6000;
                    maximum = 30000;
                    minimum = 6000;
                }
                else if(max>30000 && max <=50000)
                {
                    stepSize = 10000;
                    maximum = 50000;
                    minimum = 5000;
                }
                else
                {
                    stepSize = 10000;
                    minimum = 5000;
                    maximum = no_of_steps * stepSize;
                    
                    let diff = maximum - minimum ;
                    if(diff > max)
                    {
                        maximum = diff ;
                    } 
                  
                    
                }
                
                
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                var myText = "Data in Tonnage" ;
                var myText1 = "Mill-wise Production %" ;
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                //var yValues = [100, 100, 100, 100, 100, 100];
                var yValues = [l, m, w1, w2, b, t];
                var yValues_percent = [l_per, m_per, w1_per, w2_per, b_per, t_per];
                //var barColors = ["red", "green","blue","orange","brown", "#8e44ad"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];
                new Chart("myChart_monthly_production", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  //type: "bar",
                  type: "horizontalBar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
               
                options: 
                {
                    responsive: true,
                    maintainAspectRatio: false,
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Production",
                        color: 'green',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';

                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                              var meta = chartInstance.controller.getDatasetMeta(i);
                                              meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                              });
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true
                                        },
                                        ticks: {
                                            min: minimum,
                                            beginAtZero: false,
                                            //steps: 6,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: maximum
                                        }
                                    }],
                                yAxes: [{
                                        display: true,
                                       
                                        ticks: {
                                            min: 5000,
                                            beginAtZero: false,
                                            //steps: 6,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: maximum
                                        }
                                    }]
                            }
                    
                  }
                });
                
                
                new Chart("myChart_monthly_production_percentage", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  //type: "bar",
                  type: "pie",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues_percent
                  }]
                },
                responsive: true,
                maintainAspectRatio: false,
                options: 
                {
                    responsive: true,
                    maintainAspectRatio: false,
                    pieceLabel:
                    {
                        render: 'value' //show values
                    },
                    legend: {
                        display: false,
                        labels: {
                            fontColor: 'white' //set your desired color
                         }
                    },
                    
                    title:
                    {
                      display: true,
                      text: myText1
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Production",
                        color: 'white',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        //ctx.fillStyle = 'white';
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';
                                        //alert('hello');
                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                            var meta = chartInstance.controller.getDatasetMeta(i);
                                            var total = meta.total;
                                            var value = meta.data[i];
                                            let percentage = (value * 100 / total).toFixed(2) + "%";
                                            ctx.fillText(percentage);
                                             /* meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data,  bar._model.x, bar._model.y - 5);
                                              });*/
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: false,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: false,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 300,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: max
                                        }
                                    }]
                            }
                    
                  }
                });
                
                
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_monthly_production').modal();
                    
        
                    jQuery('#myModal_monthly_production').modal(
                           {
                               backdrop: false,
                               show: true
                           });
                    jQuery('#myModal_monthly_production').draggable(
                           {
                               handle: ".modal-header"
                           });

                     
                                    });
                               
               
            }
            
            function show_monthly_dispatches()
            {
                //modal_obj["modal_dispatches_m"] = true;
                //localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $.ajax( 
                     
	    	{
		       url : "rest/get_mills_monthly_dispatch_data",
		       method : "POST",
                       dataType: "json",
                     //  dataType: "application/json; charset=utf-8",
                       contentType: "application/json",
                       success : displayMonthlyDispatchStatus,
                       error : function()
                       {
                           alert("could not connected to server !");
                       }
	    	}
                );
            }
            
            function displayMonthlyDispatchStatus(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        var data = returnedData['dispatch_monthly_data'];
                        
                        var lmmm_dispatch_cdy_month_count = 0;
                        var mmsm_dispatch_cdy_month_count = 0;
                        var wrm1_dispatch_cdy_month_count = 0;
                        var wrm2_dispatch_cdy_month_count = 0;
                        var sbm_dispatch_cdy_month_count = 0;
                        var stm_dispatch_cdy_month_count = 0;
                        
                        var lmmm_dispatch_road_month_count = 0;
                        var mmsm_dispatch_road_month_count = 0;
                        var wrm1_dispatch_road_month_count = 0;
                        var wrm2_dispatch_road_month_count = 0;
                        var sbm_dispatch_road_month_count = 0;
                        var stm_dispatch_road_month_count = 0;
                        
                        var lmmm_dispatch_cdy_month_weight = 0;
                        var mmsm_dispatch_cdy_month_weight = 0;
                        var wrm1_dispatch_cdy_month_weight = 0;
                        var wrm2_dispatch_cdy_month_weight = 0;
                        var sbm_dispatch_cdy_month_weight = 0;
                        var stm_dispatch_cdy_month_weight = 0;
                        
                        var lmmm_dispatch_road_month_weight = 0;
                        var mmsm_dispatch_road_month_weight = 0;
                        var wrm1_dispatch_road_month_weight = 0;
                        var wrm2_dispatch_road_month_weight = 0;
                        var sbm_dispatch_road_month_weight = 0;
                        var stm_dispatch_road_month_weight = 0;
                        
                        var lmmm_dispatch_month_count = 0;
                        var mmsm_dispatch_month_count = 0;
                        var wrm1_dispatch_month_count = 0;
                        var wrm2_dispatch_month_count = 0;
                        var sbm_dispatch_month_count = 0;
                        var stm_dispatch_month_count = 0;
                        
                        var lmmm_dispatch_month_weight = 0;
                        var mmsm_dispatch_month_weight = 0;
                        var wrm1_dispatch_month_weight = 0;
                        var wrm2_dispatch_month_weight = 0;
                        var sbm_dispatch_month_weight = 0;
                        var stm_dispatch_month_weight = 0;
                      
                        var total_dispatch_cdy_month_count = 0;
                        var total_dispatch_cdy_month_weight = 0;

                        var total_dispatch_road_month_count = 0;
                        var total_dispatch_road_month_weight = 0;

                        var total_dispatch_month_count = 0;
                        var total_dispatch_month_weight = 0;
                        
                        Object.keys(data).forEach(key => 
                        {
                            if(key === 'lmmm_dispatch_cdy_month_count')
                            {
                                lmmm_dispatch_cdy_month_count =  data[key];
                            }
                            else if(key === 'mmsm_dispatch_cdy_month_count')
                            {
                                mmsm_dispatch_cdy_month_count =  data[key];
                            }
                            else if(key === 'wrm1_dispatch_cdy_month_count')
                            {
                                wrm1_dispatch_cdy_month_count =  data[key];
                            }
                            else if(key === 'wrm2_dispatch_cdy_month_count')
                            {
                                wrm2_dispatch_cdy_month_count =  data[key];
                            }
                            
                            else if(key === 'sbm_dispatch_cdy_month_count')
                            {
                                sbm_dispatch_cdy_month_count =  data[key];
                            }
                            else if(key === 'stm_dispatch_cdy_month_count')
                            {
                                stm_dispatch_cdy_month_count =  data[key];
                            }
                            else if(key === 'lmmm_dispatch_road_month_count')
                            {
                                lmmm_dispatch_road_month_count =  data[key];
                            }
                            else if(key === 'mmsm_dispatch_road_month_count')
                            {
                                mmsm_dispatch_road_month_count =  data[key];
                            }
                            
                            else if(key === 'wrm1_dispatch_road_month_count')
                            {
                                wrm1_dispatch_road_month_count =  data[key];
                            }
                            else if(key === 'wrm2_dispatch_road_month_count')
                            {
                                wrm2_dispatch_road_month_count =  data[key];
                            }
                            else if(key === 'sbm_dispatch_road_month_count')
                            {
                                sbm_dispatch_road_month_count =  data[key];
                            }
                            else if(key === 'stm_dispatch_road_month_count')
                            {
                                stm_dispatch_road_month_count =  data[key];
                            }
                            
                            else if(key === 'lmmm_dispatch_cdy_month_weight')
                            {
                                lmmm_dispatch_cdy_month_weight =  data[key];
                            }
                            else if(key === 'mmsm_dispatch_cdy_month_weight')
                            {
                                mmsm_dispatch_cdy_month_weight =  data[key];
                            }
                            else if(key === 'wrm1_dispatch_cdy_month_weight')
                            {
                                wrm1_dispatch_cdy_month_weight =  data[key];
                            }
                            else if(key === 'wrm2_dispatch_cdy_month_weight')
                            {
                                wrm2_dispatch_cdy_month_weight =  data[key];
                            }
                            else if(key === 'sbm_dispatch_cdy_month_weight')
                            {
                                sbm_dispatch_cdy_month_weight =  data[key];
                            }
                            else if(key === 'stm_dispatch_cdy_month_weight')
                            {
                                stm_dispatch_cdy_month_weight =  data[key];
                            }
                            
                            else if(key === 'lmmm_dispatch_road_month_weight')
                            {
                                lmmm_dispatch_road_month_weight =  data[key];
                            }
                            else if(key === 'mmsm_dispatch_road_month_weight')
                            {
                                mmsm_dispatch_road_month_weight =  data[key];
                            }
                            else if(key === 'wrm1_dispatch_road_month_weight')
                            {
                                wrm1_dispatch_road_month_weight =  data[key];
                            }
                            else if(key === 'wrm2_dispatch_road_month_weight')
                            {
                                wrm2_dispatch_road_month_weight =  data[key];
                            }
                            else if(key === 'sbm_dispatch_road_month_weight')
                            {
                                sbm_dispatch_road_month_weight =  data[key];
                            }
                            else if(key === 'stm_dispatch_road_month_weight')
                            {
                                stm_dispatch_road_month_weight =  data[key];
                            }
                            
                            else if(key === 'total_dispatch_cdy_month_count')
                            {
                                total_dispatch_cdy_month_count =  data[key];
                            }
                            else if(key === 'total_dispatch_cdy_month_weight')
                            {
                                total_dispatch_cdy_month_weight =  data[key];
                            }
                            else if(key === 'total_dispatch_road_month_count')
                            {
                                total_dispatch_road_month_count =  data[key];
                            }
                            else if(key === 'total_dispatch_road_month_weight')
                            {
                                total_dispatch_road_month_weight =  data[key];
                            }
                            else if(key === 'total_dispatch_month_count')
                            {
                                total_dispatch_month_count =  data[key];
                            }
                            else if(key === 'total_dispatch_month_weight')
                            {
                                total_dispatch_month_weight =  data[key];
                            }
                           
                            
                        });
                            
                        display_MonthlyDispatchChart(data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function display_MonthlyDispatchChart(data)
            {
                var lmmm_dispatch_cdy_month_count = 0;
                var mmsm_dispatch_cdy_month_count = 0;
                var wrm1_dispatch_cdy_month_count = 0;
                var wrm2_dispatch_cdy_month_count = 0;
                var sbm_dispatch_cdy_month_count = 0;
                var stm_dispatch_cdy_month_count = 0;

                var lmmm_dispatch_road_month_count = 0;
                var mmsm_dispatch_road_month_count = 0;
                var wrm1_dispatch_road_month_count = 0;
                var wrm2_dispatch_road_month_count = 0;
                var sbm_dispatch_road_month_count = 0;
                var stm_dispatch_road_month_count = 0;

                var lmmm_dispatch_cdy_month_weight = 0;
                var mmsm_dispatch_cdy_month_weight = 0;
                var wrm1_dispatch_cdy_month_weight = 0;
                var wrm2_dispatch_cdy_month_weight = 0;
                var sbm_dispatch_cdy_month_weight = 0;
                var stm_dispatch_cdy_month_weight = 0;

                var lmmm_dispatch_road_month_weight = 0;
                var mmsm_dispatch_road_month_weight = 0;
                var wrm1_dispatch_road_month_weight = 0;
                var wrm2_dispatch_road_month_weight = 0;
                var sbm_dispatch_road_month_weight = 0;
                var stm_dispatch_road_month_weight = 0;

                var lmmm_dispatch_month_count = 0;
                var mmsm_dispatch_month_count = 0;
                var wrm1_dispatch_month_count = 0;
                var wrm2_dispatch_month_count = 0;
                var sbm_dispatch_month_count = 0;
                var stm_dispatch_month_count = 0;

                var lmmm_dispatch_month_weight = 0;
                var mmsm_dispatch_month_weight = 0;
                var wrm1_dispatch_month_weight = 0;
                var wrm2_dispatch_month_weight = 0;
                var sbm_dispatch_month_weight = 0;
                var stm_dispatch_month_weight = 0;

                var total_dispatch_cdy_month_count = 0;
                var total_dispatch_cdy_month_weight = 0;

                var total_dispatch_road_month_count = 0;
                var total_dispatch_road_month_weight = 0;

                var total_dispatch_month_count = 0;
                var total_dispatch_month_weight = 0;
                        
                Object.keys(data).forEach(key => 
                {
                    if(key === 'lmmm_dispatch_cdy_month_count')
                    {
                        lmmm_dispatch_cdy_month_count =  data[key];
                    }
                    else if(key === 'mmsm_dispatch_cdy_month_count')
                    {
                        mmsm_dispatch_cdy_month_count =  data[key];
                    }
                    else if(key === 'wrm1_dispatch_cdy_month_count')
                    {
                        wrm1_dispatch_cdy_month_count =  data[key];
                    }
                    else if(key === 'wrm2_dispatch_cdy_month_count')
                    {
                        wrm2_dispatch_cdy_month_count =  data[key];
                    }

                    else if(key === 'sbm_dispatch_cdy_month_count')
                    {
                        sbm_dispatch_cdy_month_count =  data[key];
                    }
                    else if(key === 'stm_dispatch_cdy_month_count')
                    {
                        stm_dispatch_cdy_month_count =  data[key];
                    }
                    else if(key === 'lmmm_dispatch_road_month_count')
                    {
                        lmmm_dispatch_road_month_count =  data[key];
                    }
                    else if(key === 'mmsm_dispatch_road_month_count')
                    {
                        mmsm_dispatch_road_month_count =  data[key];
                    }

                    else if(key === 'wrm1_dispatch_road_month_count')
                    {
                        wrm1_dispatch_road_month_count =  data[key];
                    }
                    else if(key === 'wrm2_dispatch_road_month_count')
                    {
                        wrm2_dispatch_road_month_count =  data[key];
                    }
                    else if(key === 'sbm_dispatch_road_month_count')
                    {
                        sbm_dispatch_road_month_count =  data[key];
                    }
                    else if(key === 'stm_dispatch_road_month_count')
                    {
                        stm_dispatch_road_month_count =  data[key];
                    }

                    else if(key === 'lmmm_dispatch_cdy_month_weight')
                    {
                        lmmm_dispatch_cdy_month_weight =  data[key];
                    }
                    else if(key === 'mmsm_dispatch_cdy_month_weight')
                    {
                        mmsm_dispatch_cdy_month_weight =  data[key];
                    }
                    else if(key === 'wrm1_dispatch_cdy_month_weight')
                    {
                        wrm1_dispatch_cdy_month_weight =  data[key];
                    }
                    else if(key === 'wrm2_dispatch_cdy_month_weight')
                    {
                        wrm2_dispatch_cdy_month_weight =  data[key];
                    }
                    else if(key === 'sbm_dispatch_cdy_month_weight')
                    {
                        sbm_dispatch_cdy_month_weight =  data[key];
                    }
                    else if(key === 'stm_dispatch_cdy_month_weight')
                    {
                        stm_dispatch_cdy_month_weight =  data[key];
                    }

                    else if(key === 'lmmm_dispatch_road_month_weight')
                    {
                        lmmm_dispatch_road_month_weight =  data[key];
                    }
                    else if(key === 'mmsm_dispatch_road_month_weight')
                    {
                        mmsm_dispatch_road_month_weight =  data[key];
                    }
                    else if(key === 'wrm1_dispatch_road_month_weight')
                    {
                        wrm1_dispatch_road_month_weight =  data[key];
                    }
                    else if(key === 'wrm2_dispatch_road_month_weight')
                    {
                        wrm2_dispatch_road_month_weight =  data[key];
                    }
                    else if(key === 'sbm_dispatch_road_month_weight')
                    {
                        sbm_dispatch_road_month_weight =  data[key];
                    }
                    else if(key === 'stm_dispatch_road_month_weight')
                    {
                        stm_dispatch_road_month_weight =  data[key];
                    }

                    else if(key === 'total_dispatch_cdy_month_count')
                    {
                        total_dispatch_cdy_month_count =  data[key];
                    }
                    else if(key === 'total_dispatch_cdy_month_weight')
                    {
                        total_dispatch_cdy_month_weight =  data[key];
                    }
                    else if(key === 'total_dispatch_road_month_count')
                    {
                        total_dispatch_road_month_count =  data[key];
                    }
                    else if(key === 'total_dispatch_road_month_weight')
                    {
                        total_dispatch_road_month_weight =  data[key];
                    }
                    else if(key === 'total_dispatch_month_count')
                    {
                        total_dispatch_month_count =  data[key];
                    }
                    else if(key === 'total_dispatch_month_weight')
                    {
                        total_dispatch_month_weight =  data[key];
                    }


                });

              
                document.getElementById("dispatch_lmmm_cdy_month_weight").innerHTML =  lmmm_dispatch_cdy_month_weight ;  
                document.getElementById("dispatch_mmsm_cdy_month_weight").innerHTML =  mmsm_dispatch_cdy_month_weight ;
                document.getElementById("dispatch_wrm1_cdy_month_weight").innerHTML =  wrm1_dispatch_cdy_month_weight ;
                document.getElementById("dispatch_wrm2_cdy_month_weight").innerHTML =  wrm2_dispatch_cdy_month_weight ;
                document.getElementById("dispatch_sbm_cdy_month_weight").innerHTML =  sbm_dispatch_cdy_month_weight ;
                document.getElementById("dispatch_stm_cdy_month_weight").innerHTML =  stm_dispatch_cdy_month_weight ;

                document.getElementById("dispatch_lmmm_road_month_weight").innerHTML =  lmmm_dispatch_road_month_weight ;  
                document.getElementById("dispatch_mmsm_road_month_weight").innerHTML =  mmsm_dispatch_road_month_weight ;
                document.getElementById("dispatch_wrm1_road_month_weight").innerHTML =  wrm1_dispatch_road_month_weight ;
                document.getElementById("dispatch_wrm2_road_month_weight").innerHTML =  wrm2_dispatch_road_month_weight ;
                document.getElementById("dispatch_sbm_road_month_weight").innerHTML =  sbm_dispatch_road_month_weight ;
                document.getElementById("dispatch_stm_road_month_weight").innerHTML =  stm_dispatch_road_month_weight ;

                document.getElementById("dispatch_lmmm_total_month_weight").innerHTML =  lmmm_dispatch_cdy_month_weight + lmmm_dispatch_road_month_weight ;  
                document.getElementById("dispatch_mmsm_total_month_weight").innerHTML =  mmsm_dispatch_cdy_month_weight + mmsm_dispatch_road_month_weight ;
                document.getElementById("dispatch_wrm1_total_month_weight").innerHTML =  wrm1_dispatch_cdy_month_weight + wrm1_dispatch_road_month_weight ;
                document.getElementById("dispatch_wrm2_total_month_weight").innerHTML =  wrm2_dispatch_cdy_month_weight + wrm2_dispatch_road_month_weight ;
                document.getElementById("dispatch_sbm_total_month_weight").innerHTML =  sbm_dispatch_cdy_month_weight + sbm_dispatch_road_month_weight ;
                document.getElementById("dispatch_stm_total_month_weight").innerHTML =  stm_dispatch_cdy_month_weight + stm_dispatch_road_month_weight ;

                document.getElementById("dispatch_lmmm_total_month_weight").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_mmsm_total_month_weight").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_wrm1_total_month_weight").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_wrm2_total_month_weight").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_sbm_total_month_weight").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_stm_total_month_weight").style.fontWeight =  "bolder" ;  

             
                var total_cdy_weight =  lmmm_dispatch_cdy_month_weight  + mmsm_dispatch_cdy_month_weight  + wrm1_dispatch_cdy_month_weight + wrm2_dispatch_cdy_month_weight + sbm_dispatch_cdy_month_weight + stm_dispatch_cdy_month_weight;
                var total_road_weight = lmmm_dispatch_road_month_weight + mmsm_dispatch_road_month_weight + wrm1_dispatch_road_month_weight + wrm2_dispatch_road_month_weight + sbm_dispatch_road_month_weight + stm_dispatch_road_month_weight;
                var total_weight =  total_cdy_weight + total_road_weight;
                
                document.getElementById("dispatch_total_cdy_month_weight").innerHTML =  total_cdy_weight ;  
                document.getElementById("dispatch_total_road_month_weight").innerHTML =  total_road_weight ;
                document.getElementById("dispatch_total_month_weight").innerHTML =  total_weight ;
              
                
                var l  = lmmm_dispatch_cdy_month_weight + lmmm_dispatch_road_month_weight;
                var m  = mmsm_dispatch_cdy_month_weight + mmsm_dispatch_road_month_weight;
                var w1 = wrm1_dispatch_cdy_month_weight + wrm1_dispatch_road_month_weight;
                var w2 = wrm2_dispatch_cdy_month_weight + wrm2_dispatch_road_month_weight;
                var b  = sbm_dispatch_cdy_month_weight  + sbm_dispatch_road_month_weight;
                var t  = stm_dispatch_cdy_month_weight  + stm_dispatch_road_month_weight;
                
                var tot = l + m + w1 + w2 + b + t;
                
                //alert(tot);
                
               /* var l_per =  Math.floor((l/tot)*100) ;
                var m_per =  Math.floor((m/tot)*100) ;
                var w1_per =  Math.floor((w1/tot)*100) ;
                var w2_per = Math.ceil((w2/tot)*100) ;
                var b_per = Math.ceil((b/tot)*100) ;
                var t_per =  Math.ceil((t/tot)*100) ;*/
                
                var l_percent = ((l/tot)*100);
                var m_percent = ((m/tot)*100);
                var w1_percent = ((w1/tot)*100);
                var w2_percent = ((w2/tot)*100);
                var b_percent = ((b/tot)*100);
                var t_percent = ((t/tot)*100);
                
                var l_per = l_percent.toFixed(2)  ;
                var m_per =  m_percent.toFixed(2)  ;
                var w1_per =  w1_percent.toFixed(2)  ;
                var w2_per = w2_percent.toFixed(2)  ;
                var b_per = b_percent.toFixed(2)  ;
                var t_per =  t_percent.toFixed(2)  ;
                
                document.getElementById("dispatch_lmmm_total_month_percent").innerHTML =  l_per + " %" ;  
                document.getElementById("dispatch_mmsm_total_month_percent").innerHTML =   m_per + " %" ;
                document.getElementById("dispatch_wrm1_total_month_percent").innerHTML =  w1_per + " %" ;
                document.getElementById("dispatch_wrm2_total_month_percent").innerHTML =  w2_per + " %" ;
                document.getElementById("dispatch_sbm_total_month_percent").innerHTML =  b_per + " %" ;
                document.getElementById("dispatch_stm_total_month_percent").innerHTML =  t_per + " %" ;
                document.getElementById("dispatch_total_month_percent").innerHTML =   "100 %" ;

                document.getElementById("dispatch_lmmm_total_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_mmsm_total_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_wrm1_total_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_wrm2_total_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_sbm_total_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_stm_total_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("dispatch_total_month_percent").style.fontWeight =  "bolder" ;  

                //alert(l_per);
                
                let max = Math.max(l, m, w1,w2,b,t);
                let min = Math.min(l, m, w1,w2,b,t);
                let stepSize = 1000;
                let no_of_steps = 5;
               
                if(min != 0)
                {
                    no_of_steps = max / min ;
                }
               
                no_of_steps = Math.ceil(no_of_steps);
                
                let minimum = min;
                let maximum = max;
                //alert(max);
                
                if(max <=5000)
                {
                    stepSize = 1000;
                    max = 5000;
                    
                    minimum = 0;
                    maximum = 5000;
                }
                else if(max>5000 && max <=10000)
                {
                    stepSize = 2000;
                    max = 10000;
                    
                    //minimum = 2000;
                    //maximum = 10000;
                    
                    minimum = min;
                    maximum = max;
                   
                }
                else if(max>10000 && max <=15000)
                {
                    stepSize = 3000;
                    max = 15000;
                    
                    minimum = 3000;
                    maximum = 15000;
                }
                else if(max>15000 && max <=20000)
                {
                    stepSize = 4000;
                    max = 20000;
                    
                    minimum = 4000;
                    maximum = 20000;
                }
                else if(max>20000 && max <=25000)
                {
                    stepSize = 5000;
                    max = 25000;
                    
                    minimum = 5000;
                    maximum = 25000;
                }
                else if(max>25000 && max <=50000)
                {
                    stepSize = 10000;
                    max = 50000;
                    
                    minimum = 10000;
                    maximum = 50000;
                }
                else
                {
                    stepSize = 10000;
                    
                    minimum = 10000;
                    no_of_steps = no_of_steps + 1;
                    maximum = no_of_steps * stepSize;
                }
                
                
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                var myText1 = "Data in Tonnage" ;
                var myText2 = "Mill-wise Dispatch %" ;
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                //var yValues = [100, 100, 100, 100, 100, 100];
                var yValues = [l, m, w1, w2, b, t];
                var yValues_percent = [l_per, m_per, w1_per, w2_per, b_per, t_per];
                //var barColors = ["red", "green","blue","orange","brown", "#8e44ad"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];
                
                new Chart("myChart_monthly_dispatch", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  //type: "bar",
                  type: "horizontalBar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText1
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Dispatch",
                        color: 'green',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';

                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                              var meta = chartInstance.controller.getDatasetMeta(i);
                                              meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                              });
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true
                                        },
                                        ticks: {
                                            min: minimum,
                                            beginAtZero: false,
                                            //steps: 6,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: maximum
                                        }
                                    }],
                                yAxes: [{
                                        display: true,
                                        suggestedMin: 0,
                                        suggestedMax: max,
                                        ticks: {
                                            beginAtZero: false,
                                            steps: 5,
                                            stepValue: 5,
                                            stepSize: 5,
                                            max: max,
                                            min: 10000
                                        }
                                    }]
                            }
                    
                  }
                });
                
                new Chart("myChart_monthly_dispatch_percentage", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  type: "pie",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues_percent
                  }]
                },
                responsive: true,
                options: 
                {
                    responsive: true,
                    maintainAspectRatio: false,
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText2
                      //text: curr_date
                    },
                    textInside: 
                    {
                        //text: "Dispatch",
                        color: 'green',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';

                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                              var meta = chartInstance.controller.getDatasetMeta(i);
                                             /* meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                              });*/
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: false,
                                        scaleLabel: {
                                            display: false
                                        }
                                    }],
                                yAxes: [{
                                        display: false,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 300,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: max 
                                            
                                        }
                                    }]
                            }
                    
                  }
                });
                
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_monthly_dispatches').modal();
                    
        
                   /* jQuery('#myModal_monthly_dispatch').modal(
                           {
                               backdrop: false,
                               show: true
                           });
                    jQuery('#myModal_monthly_dispatch').draggable(
                           {
                               handle: ".modal-header"
                           });

                     
                                    }); */
                        });              
               
            }
            
            function show_monthly_delays()
            {
                //modal_obj["modal_delays_m"] = true;
                //localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $.ajax( 
                     
	    	{
		       url : "rest/get_mills_monthly_delay_data",
		       method : "POST",
                       dataType: "json",
                     //  dataType: "application/json; charset=utf-8",
                       contentType: "application/json",
                       success : displayMonthlyDelayStatus,
                       error : function()
                       {
                           alert("could not connected to server !");
                       }
	    	}
                );
            }
            
            function displayMonthlyDelayStatus(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        var data = returnedData['delay_monthly_data'];
                       
                        //alert('hi')      ;
                        
                        display_MonthlyDelayChart(data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function display_MonthlyDelayChart(data)
            {
                
                var lmmm_delay_month_count = 0;
                var mmsm_delay_month_count = 0;
                var wrm1_delay_month_count = 0;
                var wrm2_delay_month_count = 0;
                var sbm_delay_month_count = 0;
                var stm_delay_month_count = 0;
                
                var wrm1_delay_month_count_l1 = 0;
                var wrm1_delay_month_count_l2 = 0;
                var wrm1_delay_month_count_l3 = 0;
                var wrm1_delay_month_count_l4 = 0;
                
                var wrm2_delay_month_count_l1 = 0;
                var wrm2_delay_month_count_l2 = 0;
                        
                Object.keys(data).forEach(key => 
                {
                    if(key === 'lmmm_delay_month_count')
                    {
                        lmmm_delay_month_count =  data[key];
                    }
                    else if(key === 'mmsm_delay_month_count')
                    {
                        mmsm_delay_month_count =  data[key];
                    }
                    else if(key === 'sbm_delay_month_count')
                    {
                        sbm_delay_month_count =  data[key];
                    }
                    else if(key === 'stm_delay_month_count')
                    {
                        stm_delay_month_count =  data[key];
                    }

                    else if(key === 'wrm1_delay_month_count_l1')
                    {
                        wrm1_delay_month_count_l1 =  data[key];
                    }
                    else if(key === 'wrm1_delay_month_count_l2')
                    {
                        wrm1_delay_month_count_l2 =  data[key];
                    }
                    else if(key === 'wrm1_delay_month_count_l3')
                    {
                        wrm1_delay_month_count_l3 =  data[key];
                    }
                    else if(key === 'wrm1_delay_month_count_l4')
                    {
                        wrm1_delay_month_count_l4 =  data[key];
                    }

                    else if(key === 'wrm2_delay_month_count_l1')
                    {
                        wrm2_delay_month_count_l1 =  data[key];
                    }
                    else if(key === 'wrm2_delay_month_count_l2')
                    {
                        wrm2_delay_month_count_l2 =  data[key];
                    }

                });
              
               
                wrm1_delay_month_count = wrm1_delay_month_count_l1 + wrm1_delay_month_count_l2 + wrm1_delay_month_count_l3 + wrm1_delay_month_count_l4;
                wrm2_delay_month_count = wrm2_delay_month_count_l1 + wrm2_delay_month_count_l2 ;
               
                   
                var l  = lmmm_delay_month_count;
                var m  = mmsm_delay_month_count;
                var w1 = wrm1_delay_month_count;
                var w2 = wrm2_delay_month_count;
                var w11 = Math.ceil(wrm1_delay_month_count/4);
                var w22 = Math.ceil(wrm2_delay_month_count/2);
                var b  = sbm_delay_month_count;
                var t  = stm_delay_month_count;
                
                var tot = l + m + w1 +  w2 + b + t;
                
                const date = new Date();
                var no_of_days = date.getDate();
                var no_of_hours = 1440;
                
                var lmmm_total_hours = no_of_days * no_of_hours;
                var mmsm_total_hours = no_of_days * no_of_hours;
                var wrm1_total_hours = no_of_days * no_of_hours * 4;
                var wrm2_total_hours = no_of_days * no_of_hours * 2;
                var sbm_total_hours = no_of_days * no_of_hours;
                var stm_total_hours = no_of_days * no_of_hours;
                var total_hours = lmmm_total_hours + mmsm_total_hours + wrm1_total_hours + wrm2_total_hours + sbm_total_hours + stm_total_hours;
                
                
                var lmmm_rolling_hours = lmmm_total_hours - lmmm_delay_month_count;
                var mmsm_rolling_hours = mmsm_total_hours - mmsm_delay_month_count;
                var wrm1_rolling_hours = wrm1_total_hours - wrm1_delay_month_count;
                var wrm2_rolling_hours = wrm2_total_hours - wrm2_delay_month_count;
                var sbm_rolling_hours = sbm_total_hours - sbm_delay_month_count;
                var stm_rolling_hours = stm_total_hours - stm_delay_month_count;
                var total_rolling_hours = total_hours - tot;
                
                /*
                var lmmm_rolling_percent = Math.ceil((lmmm_rolling_hours/lmmm_total_hours)*100);
                var mmsm_rolling_percent = Math.ceil((mmsm_rolling_hours/mmsm_total_hours)*100);
                var wrm1_rolling_percent = Math.ceil((wrm1_rolling_hours/wrm1_total_hours)*100);
                var wrm2_rolling_percent = Math.floor((wrm2_rolling_hours/wrm2_total_hours)*100);
                var sbm_rolling_percent = Math.floor((sbm_rolling_hours/sbm_total_hours)*100);
                var stm_rolling_percent = Math.floor((stm_rolling_hours/stm_total_hours)*100);
                var total_rolling_percent = Math.floor((total_rolling_hours/total_hours)*100);*/
               
                var l_percent = ((lmmm_rolling_hours/lmmm_total_hours)*100);
                var m_percent = ((mmsm_rolling_hours/mmsm_total_hours)*100);
                var w1_percent = ((wrm1_rolling_hours/wrm1_total_hours)*100);
                var w2_percent = ((wrm2_rolling_hours/wrm2_total_hours)*100);
                var b_percent = ((sbm_rolling_hours/sbm_total_hours)*100);
                var t_percent = ((stm_rolling_hours/stm_total_hours)*100);
                
                var lmmm_rolling_per = l_percent.toFixed(2)  ;
                var mmsm_rolling_per =  m_percent.toFixed(2)  ;
                var wrm1_rolling_per =  w1_percent.toFixed(2)  ;
                var wrm2_rolling_per = w2_percent.toFixed(2)  ;
                var sbm_rolling_per = b_percent.toFixed(2)  ;
                var stm_rolling_per =  t_percent.toFixed(2)  ;
                
                var lmmm_rolling_percent = Math.round(lmmm_rolling_per)  ;
                var mmsm_rolling_percent = Math.round(mmsm_rolling_per) ;
                var wrm1_rolling_percent =  Math.round(wrm1_rolling_per)  ;
                var wrm2_rolling_percent = Math.round(wrm2_rolling_per)  ;
                var sbm_rolling_percent = Math.round(sbm_rolling_per)  ;
                var stm_rolling_percent =  Math.round(stm_rolling_per)  ;
                
                var lp = 0;
                var mp = mmsm_rolling_percent;
                var w1p = wrm1_rolling_percent;
                var w2p = wrm2_rolling_percent;
                var bp = sbm_rolling_percent;
                var tp = stm_rolling_percent;
                var tot_p = lp + mp + w1p + w2p + bp + tp ;
                
                /*
                var lmmm_per = Math.ceil((lp/tot_p)*100);
                var mmsm_per = Math.ceil((mp/tot_p)*100);
                var wrm1_per = Math.ceil((w1p/tot_p)*100);
                var wrm2_per = Math.floor((w2p/tot_p)*100);
                var sbm_per = Math.floor((bp/tot_p)*100);
                var stm_per = Math.floor((tp/tot_p)*100);
               
                var lmmm_per = Math.round((lp/tot_p)*100);
                var mmsm_per = Math.round((mp/tot_p)*100);
                var wrm1_per = Math.round((w1p/tot_p)*100);
                var wrm2_per = Math.round((w2p/tot_p)*100);
                var sbm_per = Math.round((bp/tot_p)*100);
                var stm_per = Math.round((tp/tot_p)*100);*/
               
                var calc_hours = mmsm_total_hours + wrm1_total_hours + wrm2_total_hours + sbm_total_hours + stm_total_hours;
                var lmmm_per = Math.round((0/calc_hours)*100);
                var mmsm_per = Math.round((mmsm_rolling_hours/calc_hours)*100);
                var wrm1_per = Math.round((wrm1_rolling_hours/calc_hours)*100);
                var wrm2_per = Math.round((wrm2_rolling_hours/calc_hours)*100);
                var sbm_per = Math.round((sbm_rolling_hours/calc_hours)*100);
                var stm_per = Math.round((stm_rolling_hours/calc_hours)*100);
                
                
                //document.getElementById("delay_lmmm_month_count").innerHTML =  lmmm_delay_month_count ;  
                document.getElementById("delay_lmmm_month_count").innerHTML =  "---" ;  
                document.getElementById("delay_mmsm_month_count").innerHTML =  mmsm_delay_month_count ;
                document.getElementById("delay_sbm_month_count").innerHTML =  sbm_delay_month_count ;
                document.getElementById("delay_stm_month_count").innerHTML =  stm_delay_month_count ;
                document.getElementById("delay_wrm1_month_count").innerHTML =  wrm1_delay_month_count ;
                document.getElementById("delay_wrm2_month_count").innerHTML =  wrm2_delay_month_count ;
                document.getElementById("delay_total_month_count").innerHTML =  tot ;
              
                document.getElementById("delay_lmmm_month_total").innerHTML =  lmmm_total_hours ;  
                document.getElementById("delay_mmsm_month_total").innerHTML =  mmsm_total_hours ;
                document.getElementById("delay_wrm1_month_total").innerHTML =  wrm1_total_hours ;
                document.getElementById("delay_wrm2_month_total").innerHTML =  wrm2_total_hours ;
                document.getElementById("delay_sbm_month_total").innerHTML =  sbm_total_hours ;
                document.getElementById("delay_stm_month_total").innerHTML =  stm_total_hours ;
                document.getElementById("delay_total_month_total").innerHTML =  total_hours ;
              
                //document.getElementById("delay_lmmm_month_percent").innerHTML =  lmmm_rolling_percent ;  
                document.getElementById("delay_lmmm_month_percent").innerHTML =  "---" ;  
                document.getElementById("delay_mmsm_month_percent").innerHTML =  mmsm_rolling_per + " %";
                document.getElementById("delay_wrm1_month_percent").innerHTML =  wrm1_rolling_per + " %";
                document.getElementById("delay_wrm2_month_percent").innerHTML =  wrm2_rolling_per + " %";
                document.getElementById("delay_sbm_month_percent").innerHTML =  sbm_rolling_per + " %";
                document.getElementById("delay_stm_month_percent").innerHTML =  stm_rolling_per + " %";
                document.getElementById("delay_total_month_percent").innerHTML =  "" ;
                //document.getElementById("delay_total_month_percent").innerHTML =  total_rolling_percent ;
              
                //document.getElementById("delay_wrm1_month_count_l1").innerHTML =  wrm1_delay_month_count_l1 ;
                //document.getElementById("delay_wrm1_month_count_l2").innerHTML =  wrm1_delay_month_count_l2 ;
                //document.getElementById("delay_wrm1_month_count_l3").innerHTML =  wrm1_delay_month_count_l3 ;
                //document.getElementById("delay_wrm1_month_count_l4").innerHTML =  wrm1_delay_month_count_l4 ;
                //document.getElementById("delay_wrm2_month_count_l1").innerHTML =  wrm2_delay_month_count_l1 ;
                //document.getElementById("delay_wrm2_month_count_l2").innerHTML =  wrm2_delay_month_count_l1 ;
              
              
                document.getElementById("delay_lmmm_month_count").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_mmsm_month_count").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_wrm1_month_count").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_wrm2_month_count").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_sbm_month_count").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_stm_month_count").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_total_month_count").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_total_month_total").style.fontWeight =  "bolder" ;  
            
                document.getElementById("delay_lmmm_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_mmsm_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_wrm1_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_wrm2_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_sbm_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_stm_month_percent").style.fontWeight =  "bolder" ;  
                document.getElementById("delay_total_month_percent").style.fontWeight =  "bolder" ;  
            
             
                
                //let max = Math.max(l, m, w1,w2,b,t);
                let max = Math.max(l, m, w11,w22,b,t);
                let stepSize = 1000;
                if(max <=5000)
                {
                    stepSize = 1000;
                    max = 5000;
                }
                else if(max>5000 && max <=10000)
                {
                    stepSize = 2000;
                    max = 10000;
                }
                else if(max>10000 && max <=15000)
                {
                    stepSize = 3000;
                    max = 15000;
                }
                else if(max>15000 && max <=20000)
                {
                    stepSize = 4000;
                    max = 20000;
                }
                else if(max>20000 && max <=25000)
                {
                    stepSize = 5000;
                    max = 25000;
                }
                else if(max>25000 )
                {
                    stepSize = 6000;
                    max = 30000;
                }
                
                
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                var myText = "Data in Minutes" ;
                var myText1 = "Mill-wise Rolling Comparision %" ;
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                var xValues_pie = ["L", "M", "W1", "W2", "B", "T"];
                //var yValues = [100, 100, 100, 100, 100, 100];
                var yValues = [l, m, w11, w22, b, t];
                var yValues_percent = [lmmm_per, mmsm_per, wrm1_per, wrm2_per, sbm_per, stm_per];
                //var yValues_percent = [lp, mp, w1p, w2p, bp, tp];
                //var barColors = ["red", "green","blue","orange","brown", "#8e44ad"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];
                new Chart("myChart_monthly_delay", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  type: "horizontalBar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Delay",
                        color: 'green',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';

                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                              var meta = chartInstance.controller.getDatasetMeta(i);
                                              meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                              });
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: true,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 300,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: max
                                        }
                                    }]
                            }
                    
                  }
                });
                
                new Chart("myChart_monthly_delay_percentage", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  type: "pie",
                  data: {
                  labels: xValues,
                  //labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues_percent
                  }]
                },
                responsive: true,
                maintainAspectRatio: false,
                options: 
                {
                    responsive: true,
                    maintainAspectRatio: false,
                    pieceLabel:
                    {
                        render: 'value' //show values
                    },
                    legend: 
                    {
                        display: false,
                        labels: 
                        {
                            fontColor: 'white' //set your desired color
                        }
                    },
                    title:
                    {
                      display: true,
                      text: myText1
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Delay",
                        color: 'green',
                        fontSize: 28
                    },
                    tooltips: 
                    {
                        enabled: true,
                        callbacks: 
                        {
                          // To change label in tooltip
                          label:(data, i) => 
                          {
                                //alert(i);
                                //let test = 'help';
                                let result = '';
                                //test = JSON.stringify(xValues);
                                //test = xValues[i.index];
                               
                                //test = JSON.stringify(data);
                                let myIndex = data.index;
                                result = xValues[myIndex];
                               //result = xValues[myIndex] + "-" + yValues_percent[myIndex];
                               // let test3 = JSON.stringify(test2);
                                //alert(test1);
                             
                                return result;
                                
                          }
                        }
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';
                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                            var meta = chartInstance.controller.getDatasetMeta(i);
                                            var total = meta.total;
                                            var value = meta.data[i];
                                            let percentage = (value * 100 / total).toFixed(2) + "%";
                                            ctx.fillText(percentage);
                                            
                                        }
                                        );
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: false,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: false,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 300,
                                            //stepValue: 5,
                                            stepSize: 20,
                                            max: 100
                                        }
                                    }]
                            }
                    
                  }
                });
              
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_monthly_delays').modal();
                    
                });              
               
            }
            
            function show_monthly_energy()
            {
                //modal_obj["modal_energy_m"] = true;
                //localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("loader").style.display ="block";
                //document.getElementById("spinner").style.display ="block";
                $.ajax( 
                     
	    	{
		       url : "rest/get_mills_monthly_energy_data",
		       method : "POST",
                       dataType: "json",
                     //  dataType: "application/json; charset=utf-8",
                       contentType: "application/json",
                       success : displayMonthlyEnergyStatus,
                       error : function()
                       {
                           alert("could not connected to server !");
                       }
	    	}
                );
            }
            
            function displayMonthlyEnergyStatus(response)
            {

                    var returnedData = JSON.parse(JSON.stringify(response));

                 //   var myData = JSON.parse((returnedData['responseText']));
                    var status = returnedData['status'];
                    //alert("status: " + status);
                    document.getElementById("loader").style.display ="none";
                    //document.getElementById("spinner").style.display ="none";
                    if(status === "SUCCESS")
                    {
                        //alert('hi');
                        var power_data = returnedData['power_monthly_data'];
                        var prod_data = returnedData['prod_monthly_data'];


                        //display_MonthlyEnergyChart(data);
                        display_MonthlyEnergyChart(power_data, prod_data);
                     
                    }
                    else if(status === "Failure")
                    {
                        var error_msg = returnedData['error_msg'];
                        alert("Exception - " +  error_msg);
                    }



            }
            
            function display_MonthlyEnergyChart(power_data, prod_data)
            {
                
                var lmmm_month_power = 0;
                var mmsm_month_power = 0;
                var wrm1_month_power = 0;
                var wrm2_month_power = 0;
                var sbm_month_power = 0;
                var stm_month_power = 0;
                var total_month_power = 0;
             
                var lmmm_month_production = 0;
                var mmsm_month_production = 0;
                var wrm1_month_production = 0;
                var wrm2_month_production = 0;
                var sbm_month_production = 0;
                var stm_month_production = 0;
                var total_month_production = 0;
                        
                
                 
                Object.keys(power_data).forEach(key => 
                {
                    if(key === 'lmmm_month_power')
                    {
                        lmmm_month_power =  power_data[key];
                    }
                    else if(key === 'mmsm_month_power')
                    {
                        mmsm_month_power =  power_data[key];
                    }
                    else if(key === 'wrm1_month_power')
                    {
                        wrm1_month_power =  power_data[key];
                    }
                    else if(key === 'wrm2_month_power')
                    {
                        wrm2_month_power =  power_data[key];
                    }

                    else if(key === 'sbm_month_power')
                    {
                        sbm_month_power =  power_data[key];
                    }
                    else if(key === 'stm_month_power')
                    {
                        stm_month_power =  power_data[key];
                    }
                    else if(key === 'total_month_power')
                    {
                        total_month_power =  power_data[key];
                    }

                });
              
             
               
                Object.keys(prod_data).forEach(key => 
                {
                    //   alert('hi');
                    if(key === 'lmmm_prod_month_weight')
                    {
                        lmmm_month_production =  prod_data[key];
                    }
                    else if(key === 'mmsm_prod_month_weight')
                    {
                        mmsm_month_production =  prod_data[key];
                    }
                    else if(key === 'wrm1_prod_month_weight')
                    {
                        wrm1_month_production =  prod_data[key];
                    }
                    else if(key === 'wrm2_prod_month_weight')
                    {
                        wrm2_month_production =  prod_data[key];
                    }

                    else if(key === 'sbm_prod_month_weight')
                    {
                        sbm_month_production =  prod_data[key];
                    }
                    else if(key === 'stm_prod_month_weight')
                    {
                        stm_month_production =  prod_data[key];
                    }
                    else if(key === 'total_prod_month_weight')
                    {
                        total_month_production =  prod_data[key];
                    }

                });
                   
                mmsm_month_power = Math.round(mmsm_month_power * 100) / 100;
                wrm1_month_power = Math.round(wrm1_month_power * 100) / 100;
                sbm_month_power = Math.round(sbm_month_power * 100) / 100;
                stm_month_power = Math.round(stm_month_power * 100) / 100;
                
                var l  = lmmm_month_power;
                var m  = mmsm_month_power;
                var w1 = wrm1_month_power;
                var w2 = wrm2_month_power;
                var b  = sbm_month_power;
                var t  = stm_month_power;
                
                var tot = l + m + w1 +  w2 + b + t;
                
              
                
                
                document.getElementById("energy_lmmm_month_power").innerHTML =  "---" ;  
                document.getElementById("energy_mmsm_month_power").innerHTML =  mmsm_month_power ;
                document.getElementById("energy_wrm1_month_power").innerHTML =  wrm1_month_power ;
                document.getElementById("energy_wrm2_month_power").innerHTML =  "---" ;
                document.getElementById("energy_sbm_month_power").innerHTML =  sbm_month_power ;
                document.getElementById("energy_stm_month_power").innerHTML =  stm_month_power;
                document.getElementById("energy_total_month_power").innerHTML =  total_month_power ;
               
                var mmsm_per_ton = "---";
                var wrm1_per_ton = "---";
                var sbm_per_ton = "---";
                var stm_per_ton = "---";
                
                if(mmsm_month_production != 0)
                {
                    mmsm_per_ton = ((mmsm_month_power) * 1000 / (mmsm_month_production * 60)) * 100;
                    mmsm_per_ton = Math.round(mmsm_per_ton * 100) / 100;
                }
                
                if(wrm1_month_production != 0)
                {
                    wrm1_per_ton = ((wrm1_month_power) * 1000 / (wrm1_month_production * 60)) * 100;
                    wrm1_per_ton = Math.round(wrm1_per_ton * 100) / 100;
                }
                
                if(sbm_month_production != 0)
                {
                    sbm_per_ton = ((sbm_month_power) * 1000 / (sbm_month_production * 60)) * 100;
                    sbm_per_ton = Math.round(sbm_per_ton * 100) / 100;
                }
                
                if(stm_month_production != 0)
                {
                    stm_per_ton = ((stm_month_power) * 1000 / (stm_month_production * 60)) * 100;
                    stm_per_ton = Math.round(stm_per_ton * 100) / 100;
                }
               
                /*var mmsm_per_ton = ((mmsm_month_power) * 1000 / (mmsm_month_production * 60)) * 100;
                var wrm1_per_ton = ((wrm1_month_power) * 1000 / (wrm1_month_production * 60)) * 100;
                //var wrm2_per_ton = (mmsm_month_power / (mmsm_month_production * 60)) * 1000;
                var sbm_per_ton = ((sbm_month_power) * 1000 / (sbm_month_production * 60)) * 100;
                var stm_per_ton = ((stm_month_power) * 1000 / (stm_month_production * 60)) * 100;
                */
                
                
                
                
                
                

                document.getElementById("energy_lmmm_month_production").innerHTML =  lmmm_month_production ;  
                document.getElementById("energy_mmsm_month_production").innerHTML =  mmsm_month_production ;
                document.getElementById("energy_wrm1_month_production").innerHTML =  wrm1_month_production ;
                document.getElementById("energy_wrm2_month_production").innerHTML =  wrm2_month_production ;
                document.getElementById("energy_sbm_month_production").innerHTML =  sbm_month_production ;
                document.getElementById("energy_stm_month_production").innerHTML =  stm_month_production ;
                document.getElementById("energy_total_month_production").innerHTML =  total_month_production ;
               
                document.getElementById("energy_lmmm_month_per_ton").innerHTML =  "---" ;  
                document.getElementById("energy_mmsm_month_per_ton").innerHTML =  mmsm_per_ton ;
                document.getElementById("energy_wrm1_month_per_ton").innerHTML =  wrm1_per_ton ;
                document.getElementById("energy_wrm2_month_per_ton").innerHTML =  "---" ;
                document.getElementById("energy_sbm_month_per_ton").innerHTML =  sbm_per_ton ;
                document.getElementById("energy_stm_month_per_ton").innerHTML =  stm_per_ton ;
                document.getElementById("energy_total_month_per_ton").innerHTML =  "" ;
             
             
                document.getElementById("energy_total_month_production").style.fontWeight =  "bolder" ;
                document.getElementById("energy_total_month_production").style.fontSize =  "larger" ;
                
                var l_per  = Math.ceil((l/tot)*100);
                var m_per  = Math.ceil((m/tot)*100);
                var w1_per = Math.ceil((w1/tot)*100);
                var w2_per = Math.ceil((w2/tot)*100);
                var b_per  = Math.ceil((b/tot)*100);
                var t_per  = Math.ceil((t/tot)*100);
                
                let max = Math.max(l, m, w1,w2,b,t);
                let stepSize = 500;
                if(max <=2000)
                {
                    stepSize = 500;
                    max = 2000;
                }
                else if(max>2000 && max <=5000)
                {
                    stepSize = 1000;
                    max = 5000;
                }
                else if(max>5000 && max <=10000)
                {
                    stepSize = 2000;
                    max = 10000;
                }
                else if(max>10000 && max <=15000)
                {
                    stepSize = 3000;
                    max = 15000;
                }
                else if(max>15000 && max <=20000)
                {
                    stepSize = 4000;
                    max = 20000;
                }
                else if(max>20000 )
                {
                    stepSize = 5000;
                    max = 25000;
                }
                
                
                const d = new Date();
                //alert(d);

                let text = d.toString();
                const myArray = text.split("GMT");
                let curr_date = myArray[0];
                
                var myText = "Data in MW" ;
                var myText1 = "Mill-wise Energy consumption %" ;
                
                var xValues = ["LMMM", "MMSM", "WRM1", "WRM2", "SBM", "STM"];
                //var yValues = [100, 100, 100, 100, 100, 100];
                var yValues = [l, m, w1, w2, b, t];
                //var barColors = ["red", "green","blue","orange","brown", "#8e44ad"];
                var barColors = ["#1c2b63 ", "#555104","blue","orange","brown", "#8e44ad"];
                new Chart("myChart_monthly_energy", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  type: "horizontalBar",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Energy",
                        color: 'green',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';

                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                              var meta = chartInstance.controller.getDatasetMeta(i);
                                              meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                              });
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: true,
                                        scaleLabel: {
                                            display: true
                                        }
                                    }],
                                yAxes: [{
                                        display: true,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 300,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: max
                                        }
                                    }]
                            }
                    
                  }
                });
                
                new Chart("myChart_monthly_energy_percentage", {
                  //type: "horizontalBar",
                  //type: "doughnut",
                  type: "pie",
                  data: {
                  labels: xValues,
                  datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                  }]
                },
                responsive: true,
                options: 
                {
                    responsive: true,
                    maintainAspectRatio: false,
                    legend: {display: false},
                    title:
                    {
                      display: true,
                      text: myText1
                      //text: curr_date
                    },
                    textInside: 
                    {
                        text: "Energy",
                        color: 'green',
                        fontSize: 28
                    },
                    hover:  {
                                animationDuration: 0
                            },
                                animation: 
                                {
                                    duration: 1,
                                    onComplete: function() 
                                    {
                                        var chartInstance = this.chart;
                                        ctx = chartInstance.ctx;
                                        ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, Chart.defaults.global.defaultFontStyle, Chart.defaults.global.defaultFontFamily);
                                        ctx.fillStyle = this.chart.config.options.defaultFontColor;
                                        ctx.textAlign = 'left';
                                        ctx.textBaseline = 'bottom';

                                        this.data.datasets.forEach(function(dataset, i) 
                                        {
                                              var meta = chartInstance.controller.getDatasetMeta(i);
                                             /* meta.data.forEach(function(bar, index) 
                                              {
                                                    var data = dataset.data[index];
                                                    ctx.fillText(data, bar._model.x, bar._model.y - 5);
                                              });*/
                                        });
                                    }
                                },
                    scales: {
                                xAxes: [{
                                        display: false,
                                        scaleLabel: {
                                            display: false
                                        }
                                    }],
                                yAxes: [{
                                        display: false,
                                        ticks: {
                                            beginAtZero: true,
                                            //steps: 300,
                                            //stepValue: 5,
                                            stepSize: stepSize,
                                            max: max
                                        }
                                    }]
                            }
                    
                  }
                });
               
               
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_monthly_energy').modal();
                    
                });              
               
            }
            
            function sendMessage_1()
            {
                document.getElementById("tb_sms").value= "";
                document.getElementById("tb_notification").value= "";
                
                
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_SMS').modal();
                    
                });     
            }
            
            function sendMessage()
            {
                $("#img_message").click(function (event)
                {
                    event.stopPropagation();
                });
                
                modal_obj["modal_sms"] = true;
                localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("tb_subject").value= "";
                document.getElementById("tb_sms").value= "";
                document.getElementById("tb_notification").value= "";
                
                document.getElementById("cb_sms").checked = false;
                document.getElementById("cb_mail").checked = false;
                
                document.getElementById("table_mail").style.display = 'none';
                
                var table_users = document.getElementById("table_users");                
                table_users.style.display = "table";


                var rowCount = table_users.rows.length;
                for (var x=rowCount-1; x>=0; x--) 
                {
                    table_users.deleteRow(x);
                }
                
                var row;
                var cell0, cell1, cell2, cell3, cell4, cell5;
                var i = 1;


                var size = Object.keys(users_obj).length;
                //alert(size);

                var x = document.createElement("input");
                x.setAttribute("type", "checkbox");
                x.setAttribute("name", "cb_users");
                x.setAttribute("value", "999999");
                x.setAttribute("id", "cb_" +999999);
                x.onclick = function () {
                    select_all(this);
                };

                row = table_users.insertRow(0);
                row.style.backgroundColor = '#003F87';                

                cell0 = row.insertCell(0);                 
                cell0.appendChild(x);
                //cell0.style.backgroundColor = "#abcabc";

                cell1 = row.insertCell(1);                 
                cell1.innerHTML = "Sl No";
                cell1.style.color = "#ffffff";

                cell2 = row.insertCell(2);
                cell2.innerHTML = "Emp No";
                cell2.style.color = "#ffffff";

                cell3 = row.insertCell(3);
                cell3.innerHTML = "Emp name";
                cell3.style.color = "#ffffff";

                cell4 = row.insertCell(4);
                cell4.innerHTML = "Mobile No";
                cell4.style.color = "#ffffff";

                cell5 = row.insertCell(5);
                cell5.innerHTML = "eMail ID";
                cell5.style.color = "#ffffff";

                var emp_no = '';
                var emp_name = '';
                var mobile_no  = '';
                var email = '';
                
                for (var key1 in users_obj) 
                {
                    if (users_obj.hasOwnProperty(key1))
                    {
                        var val = users_obj[key1];
                        var response_value = val;
                        
                        for (var key in response_value)
                        {
                            if (response_value.hasOwnProperty(key))
                            {
                                if(key === 'emp_no')
                                {
                                    emp_no = response_value[key];
                                }
                                else if(key === 'emp_name')
                                {
                                    emp_name = response_value[key];
                                }
                                else if(key === 'mobile_no')
                                {
                                    mobile_no = response_value[key];
                                }
                                else if(key === 'email_id')
                                {
                                    email = response_value[key];
                                }
                            }
                        }
                        
                        row = table_users.insertRow(i);
                        
                        var xx = document.createElement("INPUT");
                        xx.setAttribute("type", "checkbox");
                        xx.setAttribute("name", "cb_users");
                        xx.setAttribute("value", emp_no);
                        xx.setAttribute("id", "cb_" + emp_no);
                        xx.onclick = function () {
                            select_user(this);
                        };
                
                        cell1 = row.insertCell(0);
                        cell1.appendChild(xx);
                        
                        cell1 = row.insertCell(1);
                        cell1.innerHTML = i;

                        cell2 = row.insertCell(2);
                        cell2.innerHTML = emp_no;

                        cell3 = row.insertCell(3);
                        cell3.innerHTML = emp_name;

                        cell4 = row.insertCell(4);
                        cell4.innerHTML = mobile_no;

                        cell5 = row.insertCell(5);
                        cell5.innerHTML = email;

                        i = i + 1;
                    }
                }

        
                while(users_list.length)
                {
                    users_list.pop();
                }
                
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_SMS').modal();
                    
                   
                });     
            }
            
            function select_all(cb)
            {
                if(cb.checked === true)
                {
                    //alert('true');
                    var table = document.getElementById("table_users"); 
                    
                    for (var i = 0; i < table.rows.length; i++) 
                    {
                        table.rows[i].cells[0].firstChild.checked = true; 
                        let user = table.rows[i].cells[0].firstChild.id;
                        //alert(user);
                        
                        users_list.push(user);
                        //alert(table.rows[i].cells[0].firstChild.id);
                    }
                    
                    //alert("size: " + users_list.length);
                }
                else if(cb.checked === false)
                {
                    var table = document.getElementById("table_users"); 
                    
                    for (var i = 0; i < table.rows.length; i++) 
                    {
                        table.rows[i].cells[0].firstChild.checked = false; 
                    }
                    
                    var index = 0;
                    var value = '';
                    while(users_list.length)
                    {
                        users_list.pop();
                        /*value = users_list[i];
                        alert(value);
                        if(users_list[index] === value) 
                        {
                            users_list.splice(index, 1);
                        } 
                        else 
                        {
                          ++index;
                        }*/
                    }
                    
                    //alert("size: " + users_list.length);
                }
                else
                {
                    //alert('hi');
                }
                
            }
            
            function select_user(cb)
            {
                 
                if(cb.checked === true)
                {
                    let user = cb.id;
                    //alert(user);
                    if(users_list.includes(user))
                    {
                        //alert('value already added ');
                    }
                    else
                    {
                        users_list.push(user);
                    }
                }
                else 
                {
                    let user = cb.id;
                    //alert(user);
                    if(users_list.includes(user))
                    {
                        var index = users_list.indexOf(user);
                        if (index > -1) 
                        {
                          users_list.splice(index, 1);
                        }
                    }
                    else
                    {
                        //alert('nothing to be removed ');
                    }
                }
            }
            
            function submitMessage_1()
            {
                //let notice = document.getElementById("tb_notification").value;
                //document.getElementById("marquee_message").innerText = notice ;
                //document.getElementById("marquee_message").style.display ='block'
                jQuery(document).ready(function(e)
                {
                    var message = document.getElementById("tb_sms").value;
                    message = message.trim();

                    if(message === 'undefined' || message === '' || message.length === 0)
                    {
                        
                        alert('Message cannot be empty!');
                        $("#tb_sms").focus();
                    }
                    else
                    {
                       
                        var cb_sms = document.getElementById("cb_sms");
                        var cb_mail = document.getElementById("cb_mail");
 
                        if(cb_sms.checked)
                        {
                            if(message.length >= 150)
                            {
                                alert('Message content cannot be more than 150 chars !!');
                                return;
                            }
                            else
                            {
                                if(cb_mail.checked)
                                {
                                    var subject = document.getElementById("tb_subject").value;
                                    subject = subject.trim();
                                    
                                    if(subject === 'undefined' || subject === '' || subject.length === 0)
                                    {
                                        $("#tb_subject").focus();
                                        alert('Mail Subject cannot be empty!');
                                        return;
                                    }
                                    else
                                    {
                                        if(subject.length >= 120)
                                        {
                                            alert('Mail Subject cannot be more than 120 chars!');
                                            return;
                                        }
                                        else
                                        {
                                            if(users_list.length === 0)
                                            {
                                                alert('Please select the list of users for this message !');
                                                return;
                                            }
                                            else
                                            {
                                                modal_obj["modal_sms"] = false;
                                                modal_obj["modal_login"] = true;
                                                localStorage.setItem("modal_obj", JSON.stringify(modal_obj));

                                                jQuery('#myModal_SMS').modal('hide');
                        
                                                document.getElementById("tb_uid").value = "";
                                                document.getElementById("tb_pwd").value = "";
                                                jQuery('#myModal_Login').modal();
                                            }
                                            
                                        }
                                    }
                                    
                                }
                                else
                                {
                                    if(users_list.length === 0)
                                    {
                                        alert('Please select the list of users for this message !');
                                        return;
                                    }
                                    else
                                    {
                                        modal_obj["modal_sms"] = false;
                                        modal_obj["modal_login"] = true;
                                        localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                                        jQuery('#myModal_SMS').modal('hide');

                                        document.getElementById("tb_uid").value = "";
                                        document.getElementById("tb_pwd").value = "";
                                        jQuery('#myModal_Login').modal();
                                    }
                                }
                            }
                            
                        }
                        else if(cb_mail.checked)
                        {
                            
                            var subject = document.getElementById("tb_subject").value;
                            subject = subject.trim();
                    
                            if(message.length >= 1000)
                            {
                                alert('Message content cannot be more than 1000 chars !!');
                                return;
                            }
                            else
                            {
                                if(subject === 'undefined' || subject === '' || subject.length === 0)
                                {
                                    $("#tb_subject").focus();
                                    alert('Mail Subject cannot be empty!');
                                    return;
                                }
                    
                                if(subject.length >= 120)
                                {
                                    alert('Mail Subject cannot be more than 120 chars!');
                                    return;
                                }
                                
                                if(users_list.length === 0)
                                {
                                    alert('Please select the list of users for this message !');
                                    return;
                                }
                                  
                                modal_obj["modal_sms"] = false;
                                modal_obj["modal_login"] = true;
                                localStorage.setItem("modal_obj", JSON.stringify(modal_obj));

                
                                jQuery('#myModal_SMS').modal('hide');
                        
                                document.getElementById("tb_uid").value = "";
                                document.getElementById("tb_pwd").value = "";
                                jQuery('#myModal_Login').modal();
                            }
                            
                        }
                        else
                        {
                            alert('please select any message type - sms / mail');
                        }
                        
                       
                    }
                   
                    
                }); 

            }
            
            function submitMessage()
            {
                //let notice = document.getElementById("tb_notification").value;
                //document.getElementById("marquee_message").innerText = notice ;
                //document.getElementById("marquee_message").style.display ='block'
                jQuery(document).ready(function(e)
                {
                    var message = document.getElementById("tb_sms").value;
                    message = message.trim();

                    if(message === 'undefined' || message === '' || message.length === 0)
                    {
                        
                        alert('Message cannot be empty!');
                        $("#tb_sms").focus();
                    }
                    else
                    {
                       
                        var cb_sms = document.getElementById("cb_sms");
                        var cb_mail = document.getElementById("cb_mail");
 
                        if(cb_sms.checked)
                        {
                            if(message.length >= 150)
                            {
                                alert('Message content cannot be more than 150 chars !!');
                                return;
                            }
                            else
                            {
                                const myArray = message.split(" ");
                                const len = myArray.length;
                                const lastWord = myArray[len-1];
                                
                                var curr_content = "";
                                var prev_content = "";
                                var list = [];
                                
                                for(let i=0; i< len ; )
                                {
                                    prev_content = curr_content ;
                                    curr_content = curr_content + myArray[i] + " ";

                                    //if(curr_content.length() > 30)
                                    if(curr_content.length > 30)
                                    {
                                        list.push(prev_content);
                                        curr_content = "";
                                    }
                                    else
                                    {
                                        i = i + 1;
                                    }
                                }
                                list.push(curr_content);
            
                                if(list.length > 5)
                                {
                                    let str1 = list[4];
                                    if(str1.length >= 30)
                                    {
                                        str1 = list[4].substring(30);
                                    }
                                    else
                                    {
                                        str1 = "";
                                    }
                                    let str2 = list[5];
                                    alert("Your message will be truncated with SMS limitation, the following content cannot be included\n\n" + str1 + "\n" + str2);
                                    return;
                                }
                                else if(list.length === 5)
                                {
                                    let st = list[4];
                                    let str1 = list[4].substring(0,30);
                                    let str2 = list[4].substring(30);
                                    if(st.length >= 30)
                                    {
                                        alert("Your message will be truncated with SMS limitation, the following content cannot be included\n\n" + str2);
                                        return;
                                        
                                    }
                                   
                                }
                                //return;
                                
                                if(cb_mail.checked)
                                {
                                    var subject = document.getElementById("tb_subject").value;
                                    subject = subject.trim();
                                    
                                    if(subject === 'undefined' || subject === '' || subject.length === 0)
                                    {
                                        $("#tb_subject").focus();
                                        alert('Mail Subject cannot be empty!');
                                        return;
                                    }
                                    else
                                    {
                                        if(subject.length >= 120)
                                        {
                                            alert('Mail Subject cannot be more than 120 chars!');
                                            return;
                                        }
                                        else
                                        {
                                            if(users_list.length === 0)
                                            {
                                                alert('Please select the list of users for this message !');
                                                return;
                                            }
                                            else
                                            {
                                                modal_obj["modal_sms"] = false;
                                                modal_obj["modal_login"] = true;
                                                localStorage.setItem("modal_obj", JSON.stringify(modal_obj));

                                                jQuery('#myModal_SMS').modal('hide');
                        
                                                document.getElementById("tb_uid").value = "";
                                                document.getElementById("tb_pwd").value = "";
                                                jQuery('#myModal_Login').modal();
                                            }
                                            
                                        }
                                    }
                                    
                                }
                                else
                                {
                                    if(users_list.length === 0)
                                    {
                                        alert('Please select the list of users for this message !');
                                        return;
                                    }
                                    else
                                    {
                                        modal_obj["modal_sms"] = false;
                                        modal_obj["modal_login"] = true;
                                        localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                                        jQuery('#myModal_SMS').modal('hide');

                                        document.getElementById("tb_uid").value = "";
                                        document.getElementById("tb_pwd").value = "";
                                        jQuery('#myModal_Login').modal();
                                    }
                                }
                            }
                            
                        }
                        else if(cb_mail.checked)
                        {
                            
                            var subject = document.getElementById("tb_subject").value;
                            subject = subject.trim();
                    
                            if(message.length >= 1000)
                            {
                                alert('Message content cannot be more than 1000 chars !!');
                                return;
                            }
                            else
                            {
                                if(subject === 'undefined' || subject === '' || subject.length === 0)
                                {
                                    $("#tb_subject").focus();
                                    alert('Mail Subject cannot be empty!');
                                    return;
                                }
                    
                                if(subject.length >= 120)
                                {
                                    alert('Mail Subject cannot be more than 120 chars!');
                                    return;
                                }
                                
                                if(users_list.length === 0)
                                {
                                    alert('Please select the list of users for this message !');
                                    return;
                                }
                                  
                                modal_obj["modal_sms"] = false;
                                modal_obj["modal_login"] = true;
                                localStorage.setItem("modal_obj", JSON.stringify(modal_obj));

                
                                jQuery('#myModal_SMS').modal('hide');
                        
                                document.getElementById("tb_uid").value = "";
                                document.getElementById("tb_pwd").value = "";
                                jQuery('#myModal_Login').modal();
                            }
                            
                        }
                        else
                        {
                            alert('please select any message type - sms / mail');
                        }
                        
                       
                    }
                   
                    
                }); 

            }
            
            function sendNotification()
            {
                $("#img_notification").click(function (event)
                {
                    event.stopPropagation();
                });

                modal_obj["modal_notification"] = true;
                localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                document.getElementById("tb_notification").value = '';
                document.getElementById("tb_sms").value= "";
                jQuery(document).ready(function(e)
                {
                    jQuery('#myModal_Notification').modal();
                    
                }); 
            }
            
            function submitNotification()
            {
                //let notice = document.getElementById("tb_notification").value;
                //document.getElementById("marquee_message").innerText = notice ;
                //document.getElementById("marquee_message").style.display ='block'
                jQuery(document).ready(function(e)
                {
                    var notice = document.getElementById("tb_notification").value;
                    notice = notice.trim();

                    if(notice === 'undefined' || notice === '' || notice.length === 0)
                    {
                        alert('Notification cannot be empty !!');
                        $("#tb_notification").focus();
                    }
                    else
                    {
                        modal_obj["modal_notification"] = false;
                        modal_obj["modal_login"] = true;
                        localStorage.setItem("modal_obj", JSON.stringify(modal_obj));

                        jQuery('#myModal_Notification').modal('hide');
                        
                        document.getElementById("tb_uid").value = "";
                        document.getElementById("tb_pwd").value = "";
                        jQuery('#myModal_Login').modal();
                    }
                   
                    
                }); 

            }

            function move_cursor()
            {
                //document.getElementById("tb_sms").focus();
                
                var sms_data = document.getElementById("tb_sms").value;
                sms_data = sms_data.trim();
                
                if(sms_data === 'undefined' || sms_data.length == 0)
                {
                    $("#tb_sms").focus();
                    $("#tb_sms").get(0).setSelectionRange(0,0);
                }
                
              
            }
            
            function move_cursor_subject()
            {
                //document.getElementById("tb_sms").focus();
                
                var subject = document.getElementById("tb_subject").value;
                subject = subject.trim();
                
                if(subject === 'undefined' || subject.length == 0)
                {
                    $("#tb_subject").focus();
                    $("#tb_subject").get(0).setSelectionRange(0,0);
                }
              
            }
            
            function move_notification_cursor()
            {
                //document.getElementById("tb_sms").focus();
               
                var notification_data = document.getElementById("tb_notification").value;
                notification_data = notification_data.trim();
                
                if(notification_data === 'undefined' || notification_data.length == 0)
                {
                    $("#tb_notification").focus();
                    $("#tb_notification").get(0).setSelectionRange(0,0);
                }
              
            }
            
            function show_password()
            {
               
                
                var type = document.getElementById("tb_pwd").type;
                //alert(type);
                
                if(type === 'undefined' || type === 'password')
                {
                    document.getElementById("tb_pwd").type = "text";
                    document.getElementById("img_eye").src = "images/eye_open.png";
                }
                else
                {
                    document.getElementById("tb_pwd").type = "password";
                    document.getElementById("img_eye").src = "images/eye_close.png";

                }
                
            }
            
            function validate_EIS()
            {
                //alert('hi');
                //modal_obj["modal_login"] = true;
                //localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                
                var uid = document.getElementById("tb_uid").value ;
                var pwd = document.getElementById("tb_pwd").value ;
                
                uid = uid.trim();
                pwd = pwd.trim();
    
                let pwd_with_salt = pwd+uid;
                //document.getElementById("pwd").value = CryptoJS.SHA256(pwd_with_salt);
                let pwd_hashed = CryptoJS.SHA256(pwd_with_salt);
                //let pwd_hashed = "check";
                //
                //
                //alert(uid);
                const reg = new RegExp('^[0-9]+$');
                var patterns = '/^\d+$/';
                if(!reg.test(uid))
                {
                    alert("Invalid emp no! (Allowed input:0-9)")
                }
                else
                {
                    if(uid.length != 6)
                    {
                        alert('Emp No should be of 6 digits!');
                    }
                    else
                    {
                        let ch = uid.charAt(0);
                        
                        if(ch!='1')
                        {
                            alert('Emp No should start with digit-1 !');
                        }
                        else
                        {
                            if(pwd.length == 0)
                            {
                                alert('Password cannot be empty!');
                            }
                            else
                            {
                                var size = Object.keys(users_obj).length;
                                //alert(size);
                                if(size > 0)
                                {
                                    var emp_no = '';
                                    var emp_role = '';

                                    var owners = [];
                                    for (var key1 in users_obj) 
                                    {
                                        if (users_obj.hasOwnProperty(key1))
                                        {
                                            var val = users_obj[key1];
                                            var response_value = val;

                                            emp_no = '';
                                            emp_role = '';
                                            
                                            for (var key in response_value)
                                            {
                                                
                                                if (response_value.hasOwnProperty(key))
                                                {
                                                    if(key === 'emp_no')
                                                    {
                                                        emp_no = response_value[key];
                                                    }
                                                    else if(key === 'emp_role')
                                                    {
                                                        emp_role = response_value[key];
                                                    }
                                                    
                                                    

                                                }
                                                
                                                
                                            }

                                            if(emp_role === 'M' && emp_no!=='')
                                            {
                                                owners.push(emp_no.trim());
                                            }
                                        }
                                    }
                                }
                                

                                if(size > 0)
                                {
                                    //alert('size: ' + size);
                                    
                                    let len =  owners.length;
                                    
                                    //alert('owners: ' + len);
                                    
                                    if(len === 0)
                                    {
                                        alert('Emp No is not authorized to send a mail / notification');
                                        return false;
                                    }
                                    else
                                    {
                                        let bool_check = owners.includes(uid);
                                        
                                        //alert(uid + ":" + bool_check);
                                        //alert(owners[0]);
                                        
                                        
                                        if(bool_check === false)
                                        {
                                            alert('Emp No is not authorized to send a mail / notification');
                                            return false;
                                        }
                                    }
                                }

                                let subject = document.getElementById("tb_subject").value;
                                let notice = document.getElementById("tb_notification").value;
                                let message = document.getElementById("tb_sms").value;
                                
                                //alert('notice: ' + notice);
                                //alert('message: ' + message);
                                //return false;
                                
                                var message_subject = '';
                                var message_content = '';
                                var message_type = '';
                                
                                  
                                var rand = randomNumber(3,6);
                                var r_count = rand.toString();

                                var hashed_uid = uid;
                                var hashed_rand = randomNumber(3,6);
                                var hashed_pwd = pwd_hashed;
                                
                                if(message === 'undefined' || message === '' || message.length ===0)
                                {
                                    //alert('message: ' + message + 'notice: ' + notice);
                                    
                                    
                                    if(notice === 'undefined' || notice === '' || notice.length ===0)
                                    {
                                        message_content =  "EMPTY" ;
                                        message_type = 'N';
                                        
                                        alert('SMS or Notification message to be entered !!');
                                        return false;
                                    }
                                    else
                                    {
                                        message_content =  notice ;
                                        message_type = 'N';
                                        
                                        //alert(message_type + ":" + message_content); 
                                        //return false;
                                        
                                        var qrdata = 
                                        {
                                            //uid : uid, 
                                            //pwd : pwd
                                            //uid : e_uid, 
                                            //pwd : e_pwd,
                                            //count: r_count

                                            uid : hashed_uid, 
                                            pwd : hashed_pwd.toString(CryptoJS.enc.Hex),
                                            count: r_count,
                                            message_content: message_content,
                                            message_type: message_type
                                        };

                                        jQuery('#myModal_Login').modal('hide');
                                        modal_obj["modal_login"] = false;
                                        localStorage.setItem("modal_obj", JSON.stringify(modal_obj));


                                        document.getElementById("loader").style.display ="block";
                                        $.ajax( 
                                        {
                                                //url : "rest/validate_login",
                                                //url : "rest/validate_login_encoded",
                                                //url : "rest/validate_login_hashed",
                                                url : "rest/send_notification",
                                                data :JSON.stringify(qrdata),
                                                //data :(qrdata),
                                                method : "POST",
                                                dataType: 'application/json; charset=utf-8',
                                                contentType: "application/json",
                                                success : function(response){

                                                },
                                                timeout: 10000,
                                                error: function(XMLHttpRequest, textStatus, errorThrown) 
                                                {
                                                        document.getElementById("loader").style.display = "none";
                                                        if (XMLHttpRequest.readyState == 4) 
                                                        {
                                                            // HTTP error (can be checked by XMLHttpRequest.status and XMLHttpRequest.statusText)
                                                            //alert('HHTP error: ' + XMLHttpRequest.statusText);
                                                            //alert('could not connect to server! ' );
                                                        }
                                                        else if (XMLHttpRequest.readyState == 0) 
                                                        {
                                                            // Network error (i.e. connection refused, access denied due to CORS, etc.)
                                                            alert('Network error, could not connect to server! ' );
                                                        }
                                                        else 
                                                        {
                                                            // something weird is happening
                                                            alert('Unknown error, could not connect to server! ' );
                                                        }
                                                },
                                                complete : display_Notification_Result
                                                //complete : display_Validate_Login
                                        }
                                        );
                                    }
                                }
                                else
                                {
                                    //alert('i should not be here');
                                    
                                    message_subject = subject;
                                    message_content =  message ;
                                    message_type = 'M';
                                    
                                    var cb_sms = document.getElementById("cb_sms");
                                    var cb_mail = document.getElementById("cb_mail");

                                    //var message_type = '';

                                    if(cb_sms.checked)
                                    {
                                        message_type = 'S';
                                        if(cb_mail.checked)
                                        {
                                           message_type = 'B';
                                        } 
                                    } 
                                    else 
                                    { 
                                        if(cb_mail.checked)
                                        {
                                           message_type = 'M';
                                        } 
                                        else
                                        {
                                            alert("Select any message type -- mail / sms.");
                                            return false;
                                        }

                                    }
                                    
                                                  
                                    for(let i = 0; i < users_list.length ; i++)
                                    {
                                        //alert(users_list[i]);
                                    }
                                    
                                    if(users_list.length == 0)
                                    {
                                        alert('Please select the list of users, for this message');
                                        return false;
                                    }
                                    
                                    //alert('message type: ' + message_type);
                                    
                                    if(message_type === 'M' || message_type === 'B')
                                    {
                                        if(subject === 'undefined' || subject === '' || subject.length ===0)
                                        {
                                            alert("Mail Subject cannot be empty !!");
                                            return false;
                                        }
                                        else
                                        {
                                            var qrdata = 
                                            {
                                                //uid : uid, 
                                                //pwd : pwd
                                                //uid : e_uid, 
                                                //pwd : e_pwd,
                                                //count: r_count

                                                uid : hashed_uid, 
                                                pwd : hashed_pwd.toString(CryptoJS.enc.Hex),
                                                count: r_count,
                                                message_content: message_content,
                                                message_type: message_type,
                                                message_subject : message_subject,
                                                users_list : users_list
                                            };
                                            
                                            jQuery('#myModal_Login').modal('hide');
                                            modal_obj["modal_login"] = false;
                                            localStorage.setItem("modal_obj", JSON.stringify(modal_obj));


                                            document.getElementById("loader").style.display ="block";
                                            $.ajax( 
                                            {
                                                    //url : "rest/validate_login",
                                                    //url : "rest/validate_login_encoded",
                                                    //url : "rest/validate_login_hashed",
                                                    url : "rest/send_mail",
                                                    data :JSON.stringify(qrdata),
                                                    //data :(qrdata),
                                                    method : "POST",
                                                    dataType: 'application/json; charset=utf-8',
                                                    contentType: "application/json",
                                                    success : function(response){

                                                    },
                                                    timeout: 10000,
                                                    error: function(XMLHttpRequest, textStatus, errorThrown) 
                                                    {
                                                            document.getElementById("loader").style.display = "none";
                                                            if (XMLHttpRequest.readyState == 4) 
                                                            {
                                                                // HTTP error (can be checked by XMLHttpRequest.status and XMLHttpRequest.statusText)
                                                                //alert('HHTP error: ' + XMLHttpRequest.statusText);
                                                                //alert('could not connect to server! ' );
                                                            }
                                                            else if (XMLHttpRequest.readyState == 0) 
                                                            {
                                                                // Network error (i.e. connection refused, access denied due to CORS, etc.)
                                                                alert('Network error, could not connect to server! ' );
                                                            }
                                                            else 
                                                            {
                                                                // something weird is happening
                                                                alert('Unknown error, could not connect to server! ' );
                                                            }
                                                    },
                                                    complete : display_Message_Result
                                                    //complete : display_Validate_Login
                                            }
                                            );
                                        }
                                    }
                                    else if(message_type === 'S')
                                    {
                                        message_subject = '';
                                        var qrdata = 
                                        {
                                            //uid : uid, 
                                            //pwd : pwd
                                            //uid : e_uid, 
                                            //pwd : e_pwd,
                                            //count: r_count

                                            uid : hashed_uid, 
                                            pwd : hashed_pwd.toString(CryptoJS.enc.Hex),
                                            count: r_count,
                                            message_content: message_content,
                                            message_type: message_type,
                                            message_subject : message_subject,
                                            users_list : users_list
                                        };
                                        
                                        
                                        jQuery('#myModal_Login').modal('hide');
                                        modal_obj["modal_login"] = false;
                                        localStorage.setItem("modal_obj", JSON.stringify(modal_obj));

                                        document.getElementById("loader").style.display ="block";
                                        $.ajax( 
                                        {
                                                //url : "rest/validate_login",
                                                //url : "rest/validate_login_encoded",
                                                //url : "rest/validate_login_hashed",
                                                url : "rest/send_mail",
                                                data :JSON.stringify(qrdata),
                                                //data :(qrdata),
                                                method : "POST",
                                                dataType: 'application/json; charset=utf-8',
                                                contentType: "application/json",
                                                success : function(response){

                                                },
                                                timeout: 10000,
                                                error: function(XMLHttpRequest, textStatus, errorThrown) 
                                                {
                                                        document.getElementById("loader").style.display = "none";
                                                        if (XMLHttpRequest.readyState == 4) 
                                                        {
                                                            // HTTP error (can be checked by XMLHttpRequest.status and XMLHttpRequest.statusText)
                                                            //alert('HHTP error: ' + XMLHttpRequest.statusText);
                                                            //alert('could not connect to server! ' );
                                                        }
                                                        else if (XMLHttpRequest.readyState == 0) 
                                                        {
                                                            // Network error (i.e. connection refused, access denied due to CORS, etc.)
                                                            alert('Network error, could not connect to server! ' );
                                                        }
                                                        else 
                                                        {
                                                            // something weird is happening
                                                            alert('Unknown error, could not connect to server! ' );
                                                        }
                                                },
                                                complete : display_Message_Result
                                                //complete : display_Validate_Login
                                        }
                                        );
                                    }
                                    else
                                    {
                                        
                                    }
                                    
                                    
                                    

                                        
                                }
                                
                              
                                
                                
                            }
                           
                        }
                       
                    }
                    
                }
            }
            
            function display_Validate_Login(response)
            {

                var returnedData = JSON.parse(JSON.stringify(response));
                var myData = JSON.parse((returnedData['responseText']));
                var status = myData['status'];

                document.getElementById("loader").style.display ="none";
                
                if(status == "EXCEPTION")
                {
                    document.getElementById("tb_sms").value= "";
                    document.getElementById("tb_notification").value= "";
                    
                    var error_msg = myData['error_msg'];

                    $(document).ready(function()
                    {
                        $('#loader').hide({done: function() 
                            { 
                                setTimeout(function()
                                {
                                    alert("Failed to validate login details !! \n" + "Exception: " + error_msg) 
                                },50) 
                            }
                        });
                    });
                    
                    
                }
                else if(status == "Success")
                {
                    var result = myData['result'];
                    
                    if(result =='1')
                    {
                        var message_type = myData['message_type'];
                        //alert(message_type);
                        
                        if(message_type == 'N')
                        {
                            let notice = document.getElementById("tb_notification").value;
                            document.getElementById("marquee_message").innerText = notice ;
                            document.getElementById("marquee_message").style.display ='block';
                            
                            document.getElementById("tb_sms").value= "";
                            document.getElementById("tb_notification").value= "";
                        }
                        else
                        {
                            if(message_type == 'M' || message_type == 'B')
                            {
                                var mail_status = myData['mail_status'];
                                if(mail_status == 'Success')
                                {
                                    alert('Mail Sent Successfully !!!');
                                }
                                else if(mail_status == 'Failure')
                                {
                                    alert('Failed to send Mail - contact System Admin !!!');
                                }
                                else if(mail_status == 'no_mail')
                                {
                                    
                                }
                                else
                                {
                                    
                                }

                            }
                            else  if(message_type == 'S' || message_type == 'B')
                            {
                                var sms_status = myData['sms_status'];
                                if(sms_status == 'Success')
                                {
                                    alert('SMS Sent Successfully !!!');
                                }
                                else if(sms_status == 'Failure')
                                {
                                    alert('Failed to send SMS - contact System Admin !!!');
                                }
                                else
                                {
                                    alert('Failed to send SMS - contact System Admin !!!');
                                }
                            }
                            document.getElementById("tb_sms").value= "";
                            document.getElementById("tb_notification").value= "";
                        }
                    }
                    else
                    {
                        alert('EIS login failed !');
                        
                        document.getElementById("tb_sms").value= "";
                        document.getElementById("tb_notification").value= "";
                    }
                   

                }
            }
            
            function display_Message_Result(response)
            {

                var returnedData = JSON.parse(JSON.stringify(response));
                var myData = JSON.parse((returnedData['responseText']));
                var status = myData['status'];

                document.getElementById("loader").style.display ="none";
                
                if(status == "EXCEPTION")
                {
                    document.getElementById("tb_subject").value= "";
                    document.getElementById("tb_sms").value= "";
                    document.getElementById("tb_notification").value= "";
                    
                    var error_msg = myData['error_msg'];

                    $(document).ready(function()
                    {
                        $('#loader').hide({done: function() 
                            { 
                                setTimeout(function()
                                {
                                    alert("Failed to validate login details !! \n" + "Exception: " + error_msg) 
                                },50) 
                            }
                        });
                    });
                    
                    
                }
                else if(status == "Success")
                {
                    var result = myData['result'];
                    
                    if(result =='1')
                    {
                        var message_type = myData['message_type'];
                        //alert(message_type);
                        
                        if(message_type == 'N')
                        {
                            let notice = document.getElementById("tb_notification").value;
                            document.getElementById("marquee_message").innerText = notice ;
                            document.getElementById("marquee_message").style.display ='block';
                            
                            document.getElementById("tb_subject").value= "";
                            document.getElementById("tb_sms").value= "";
                            document.getElementById("tb_notification").value= "";
                        }
                        else
                        {
                            if(message_type == 'M' || message_type == 'B')
                            {
                                var mail_status = myData['mail_status'];
                                if(mail_status == 'Success')
                                {
                                    alert('Mail Sent Successfully !!!');
                                }
                                else if(mail_status == 'Failure')
                                {
                                    alert('Failed to send Mail - contact System Admin !!!');
                                }
                                else if(mail_status == 'no_mail')
                                {
                                    
                                }
                                else
                                {
                                    
                                }

                            }
                            else  if(message_type == 'S' )
                            {
                                var sms_status = myData['sms_status'];
                                if(sms_status == 'Success')
                                {
                                    alert('SMS Sent Successfully !!!');
                                }
                                else if(sms_status == 'Failure')
                                {
                                    alert('Failed to send SMS - contact System Admin !!!');
                                }
                                else
                                {
                                    alert('Failed to send SMS - contact System Admin !!!');
                                }
                            }
                            document.getElementById("tb_subject").value= "";
                            document.getElementById("tb_sms").value= "";
                            document.getElementById("tb_notification").value= "";
                        }
                    }
                    else
                    {
                        alert('EIS login failed !');
                        
                        document.getElementById("tb_subject").value= "";
                        document.getElementById("tb_sms").value= "";
                        document.getElementById("tb_notification").value= "";
                    }
                   

                }
            }
            
            function display_Notification_Result(response)
            {

                var returnedData = JSON.parse(JSON.stringify(response));
                var myData = JSON.parse((returnedData['responseText']));
                var status = myData['status'];

                document.getElementById("loader").style.display ="none";
                
                if(status == "EXCEPTION")
                {
                    document.getElementById("tb_sms").value= "";
                    document.getElementById("tb_notification").value= "";
                    document.getElementById("tb_subject").value= "";
                    
                    var error_msg = myData['error_msg'];

                    $(document).ready(function()
                    {
                        $('#loader').hide({done: function() 
                            { 
                                setTimeout(function()
                                {
                                    alert("Failed to validate login details !! \n" + "Exception: " + error_msg) 
                                },50) 
                            }
                        });
                    });
                    
                    
                }
                else if(status == "Success")
                {
                    var result = myData['result'];
                    
                    if(result =='1')
                    {
                        
                        let notice = document.getElementById("tb_notification").value;
                        document.getElementById("marquee_message").innerText = notice ;
                        document.getElementById("marquee_message").style.display ='block';

                        document.getElementById("tb_subject").value= "";
                        document.getElementById("tb_sms").value= "";
                        document.getElementById("tb_notification").value= "";
                            
                        var message_type = myData['message_type'];
                        //alert(message_type);
                        
                    }
                    else
                    {
                        alert('EIS login failed !');
                        
                        document.getElementById("tb_subject").value= "";
                        document.getElementById("tb_sms").value= "";
                        document.getElementById("tb_notification").value= "";
                    }
                   

                }
            }
            
            function randomNumber(min, max) 
            {
              return Math.floor(Math.random() * (max - min) + min);
            }
            
            function check_Length()
            {
               // alert('hello');
                var sms = document.getElementById("tb_sms").value ;
                var len = sms.length ;
                
                var bool_sms = document.getElementById("cb_sms").checked;
                var bool_mail = document.getElementById("cb_mail").checked;
                
                var max_limit = 1000;
                
                if(bool_sms === true)
                {
                    max_limit = 150;
                }
                else
                {
                    max_limit = 1000;
                }
                
                if (len >= max_limit)
                {
                    alert('Limit exceeded !!');
                    session_obj["sms_data"] = sms;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                    return;
                }
                else
                {
                    session_obj["sms_data"] = sms;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                }
              
            }
            
            function check_Subject_Length()
            {
               // alert('hello');
                var subject = document.getElementById("tb_subject").value ;
                var len = subject.length ;
                
                var max_limit = 120;
                if (len >= max_limit)
                {
                    alert('Limit exceeded - 120 chars only !!');
                    session_obj["subject_data"] = subject;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                    return;
                }
                else
                {
                    session_obj["subject_data"] = subject;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                }
                
            }
            
            function check_Notification_Length()
            {
               // alert('hello');
                var notification = document.getElementById("tb_notification").value ;
                var len = notification.length ;
                
                var max_limit = 1000;
                if (len >= max_limit)
                {
                    alert('Limit exceeded - 1000 chars only !!');
                    session_obj["notification_data"] = notification;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                    return;
                }
                else
                {
                    session_obj["notification_data"] = notification;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                }
                
            }
            
            function handleMailClick(cb)
            {
                if(cb.checked === true)
                {
                    document.getElementById("table_mail").style.display = 'table';
                    session_obj["mail_selected"] = true;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                }
                else if(cb.checked === false)
                {
                    document.getElementById("table_mail").style.display = 'none';
                    session_obj["mail_selected"] = false;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                }
                else
                {
                    document.getElementById("table_mail").style.display = 'none';
                    session_obj["mail_selected"] = false;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                }
                
            }
            
            function handleSMSClick(cb)
            {
                if(cb.checked === true)
                {
                    session_obj["sms_selected"] = true;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                }
                else if(cb.checked === false)
                {
                    session_obj["sms_selected"] = false;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                }
                else
                {
                    session_obj["sms_selected"] = false;
                    localStorage.setItem("session_obj", JSON.stringify(session_obj));
                }
                
            }
            
            function close_Modal_SMS()
            {
                //alert('hi');
                
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_SMS').modal('hide');
                    modal_obj["modal_sms"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Notification()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_Notification').modal('hide');
                    modal_obj["modal_notification"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Login()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_Login').modal('hide');
                    modal_obj["modal_login"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Production_D()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_production').modal('hide');
                    modal_obj["modal_production_D"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Dispatches_D()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_dispatches').modal('hide');
                    modal_obj["modal_dispatches_D"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Delays_D()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_delays').modal('hide');
                    modal_obj["modal_delays_D"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Energy_D()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_energy').modal('hide');
                    modal_obj["modal_energy_D"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Production_M()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_monthly_production').modal('hide');
                    modal_obj["modal_production_M"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Delays_M()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_monthly_delays').modal('hide');
                    modal_obj["modal_delays_M"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Dispatches_M()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_monthly_dispatches').modal('hide');
                    modal_obj["modal_dispatches_M"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function close_Modal_Energy_M()
            {
                jQuery(document).ready(function(e)
                {
                    //jQuery('#myModal_SMS').modal();
                    jQuery('#myModal_monthly_energy').modal('hide');
                    modal_obj["modal_energy_M"] = false;
                    localStorage.setItem("modal_obj", JSON.stringify(modal_obj));
                });  
            }
            
            function modal_check()
            {
                alert('hi');
            }
        </script>    
        
        
        <script>
            $('.modal-dialog').draggable({
                handle:".modal-header"
              });

        </script>    
      

    </head>
    <body onload = "get_Mills_Data()" >
        
       
     
        <div   id="div_main" style="width:98%;pointer-events:auto;cursor:pointer" class="container-fluid" >  
            
            <div style='width:100%;margin:0px;pointer-events:auto;' class="row"> 
               
                

                <div id='div_main_data'  style='width:100%;height:100%;margin:0px;overflow:auto;pointer-events:auto;'  class="col-md-12"  > 
                    
                    <div style="height:auto;cursor:pointer;pointer-events:auto;" onclick="level_1()" id="div_jumbo"  class="jumbotron">  
                        <h1>Rolling Mills Dashboard</h1>   
                           
                        <span >

                            <h4 style="float: left; font-family: cursive; margin:20px;color: red" id="label_power"> </h4>

                            <h4 style="float: right; font-family: cursive; margin:20px;color: navy" id="label_date"> </h4>

                        </span>
                    </div>  

                    <div style="pointer-events:auto;" class="container">
                        <marquee  >
                            <span id="marquee_message" style="color: #004085; font-size:medium">
                                
                            </span>
                        </marquee >
                        
                        <img id="img_notification" data-toggle="tooltip" title="send any notification" onclick="sendNotification()"  src="images/notice_1.jpg" style='width:50px;height:50px;float:right;padding:5px;cursor: pointer;' alt="message">
                   
                        <img id="img_message" data-toggle="tooltip" title="send any sms" onclick="sendMessage()" src="images/mail_1.png" style='width:50px;height:50px;float:right;padding:5px;cursor: pointer' alt="message">
                    </div>

                    <div  style="margin:0px;pointer-events:auto;" id="div_mills"  class="container-fluid">



                        <div style='width:100%;margin:auto;pointer-events:auto;' id="div_dashboard" class="row"> 


                            <div id="div_dashboard_summary" style='overflow:auto;margin:0px;pointer-events:auto;'  class="col-md-8"  > 
                                <table style='display:table;height: 95%;border:none;width:auto;overflow:auto;margin:10px;' >  

                                    <tr >
                                        <th style='border-radius:5px;text-align: center;width:10%;'>
                                            <h5 style="color:white"> Shift</h5>
                                        </th>
                                        <th style='background-color: #9fcdff; border-radius:5px;width:40%;'>
                                            <div onclick='show_production()' id="div_production"  style='width:auto;border-radius:10px; margin:10px; padding:1px;cursor: pointer;pointer-eventsauto;' >  
                                                <span style=' border-radius:10px;margin:auto;' >

                                                    <img  style='width:30px;height:30px;pointer-events: none;' src="images/production.svg" alt="no image" >
                                                    </img> 
                                                    Production 
                                                    <br> <span id='label_total_production' style='margin: 50px;font-size: xx-large;color: #004085;'> 0T</span>

                                                </span>    
                                            </div> 
                                            
                                        </th>
                                        <th style='background-image:linear-gradient(#c0392b, #f5b7b1) ; border-radius:5px;width:20%;'>
                                            <div onclick="show_delays()"  style='width:auto;border-radius:10px; margin:10px; padding:1px;cursor: pointer' >  
                                                    <span style=' border-radius:10px;margin:auto' >
                                                        <img  style='width:30px;height:30px;' src="images/clock1.svg" alt="no image" >

                                                        </img>
                                                        Delays
                                                        <br> <span id='label_total_delay' style='margin: 50px;font-size: xx-large;color: #004085'> </span>

                                                    </span>
                                            </div> 
                                        </th>
                                        <th style='background-color:#1abc9c; border-radius:5px;width:20%;cursor: pointer'>
                                            <div  onclick="show_dispatches()" style='width:auto;border-radius:10px; margin:10px; padding:1px;cursor: pointer' >  
                                                    <span style=' border-radius:10px;margin:auto' >
                                                        <img  style='width:30px;height:30px;' src="images/dispatch1.svg" alt="no image" >

                                                        </img>
                                                        Dispatches 
                                                        <br> <span id='label_total_dispatch' style='margin: 50px;font-size: xx-large;color: #0b2e13 '> 0T</span>

                                                    </span>
                                            </div>
                                        </th>
                                        <th style='background-color: #f1c40f ; border-radius:5px;width:10%;'>
                                            <div onclick="show_energy()" style='width:auto;border-radius:10px; margin:10px; padding:1px;cursor: pointer' >  
                                                    <span style=' border-radius:10px;margin:auto' >
                                                        <img  style='width:30px;height:30px;' src="images/energy1.svg" alt="no image" >

                                                        </img>
                                                        Energy
                                                        <br> <span id='label_total_energy' style='margin: 50px;font-size: xx-large;color: #004085'> </span>

                                                    </span>
                                            </div>
                                        </th>
                                    </tr>  
                                    
                                    <tr >

                                        <td  style='text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb '>
                                            <span id="label_shift" style="color:yellow;font-size:large"> - </span>
                                        </td>
                                        <td style='background-image:linear-gradient(#d6eaf8 , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb '>
                                                <table class="table-bordered" style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%;' >  
                                                   
                                                    <tr >
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5  style='text-align:center;margin:auto;font-weight:bold;color: #0069d9 '> Profile</h5>
                                                        </td>

                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5  style='text-align:center;margin:auto;font-weight:bold;color:#0069d9'> Billets</h5>
                                                        </td>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5  style='text-align:center;margin:auto;font-weight:bold;color:#0069d9'> Tons</h5>
                                                        </td>
                                                        
                                                    </tr>    
                                                </table>   
                                        </td>
                                        <td style='background-image:linear-gradient( #fadbd8, #fefefe);border-bottom: 1px solid #ebf5fb  '>

                                                <table style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                   
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 style='margin:0px;font-weight:bold;color: #cd6155'> Minutes </h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient( #a3e4d7 , #fefefe);margin:0px; padding:0px;border-bottom: 1px solid #ebf5fb '>

                                                <table class="table-bordered" style='table-layout:fixed;table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                   
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5  style='margin:0px;font-weight:bold;color: #16a085'> Coils/<br/>Bundles </h5>
                                                        </td>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5  style='margin:0px;font-weight:bold;color:#16a085'> Tons </h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient(#f7dc6f, #fefefe); border-bottom: 1px solid #ebf5fb '>

                                                <table style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 style='margin:0px;font-weight:bold;color: #b9770e'> MW </h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>

                                    </tr>     
                                    
                                    <tr  >

                                        <td id="tb_cell_lmmm" onclick="open_lmmm()" style='text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb;cursor: pointer '>
                                                <span id="span_lmmm" style="font-size:small;font-family: cursive; font-style: normal" data-toggle="tooltip" data-placement="right" title='LMMM'  class="badge">LMMM</span>
                                        </td>
                                        <td style='background-image:linear-gradient(#d6eaf8 , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb '>
                                                <table class="table-bordered" style='table-layout:fixed;table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%;' >  
                                                    <tr >
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_lmmm_profile" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color: blue '></h5>
                                                        </td>

                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_lmmm_production" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_lmmm_tons" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:green'></h5>
                                                        </td>
                                                        
                                                    </tr>    
                                                </table>   
                                        </td>
                                        <td style='background-image:linear-gradient( #fadbd8, #fefefe);border-bottom: 1px solid #ebf5fb  '>

                                                <table style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_lmmm_delay" style='font-size: medium;margin:0px;font-weight:bold;'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient( #a3e4d7 , #fefefe);margin:0px; padding:0px;border-bottom: 1px solid #ebf5fb '>

                                                <table class="table-bordered" style='table-layout:fixed;table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_lmmm_dispatch_bundles" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_lmmm_dispatch_tons" style='font-size: large;margin:0px;font-weight:bold;color:black'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient(#f7dc6f, #fefefe); border-bottom: 1px solid #ebf5fb '>

                                                <table style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_lmmm_energy" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>

                                    </tr>                             

                                    <tr >
                                        <td id="tb_cell_mmsm" onclick="open_mmsm()" style='text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb;cursor:pointer '>
                                                <span id="span_mmsm" style="font-size:small;font-family: cursive; " data-toggle="tooltip" data-placement="right" title='MMSM' class="badge">MMSM</span>
                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb '>

                                                <table class="table-bordered" style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_mmsm_profile" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:blue'></h5>
                                                        </td>

                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_mmsm_production" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_mmsm_tons" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:green'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>   
                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe, #fefefe);  border-bottom: 1px solid #ebf5fb '>

                                                <table style='width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_mmsm_delay" style='font-size: medium;margin:0px;font-weight:bold;'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe , #fefefe);margin:0px;padding:0px;border-bottom: 1px solid #ebf5fb '>

                                                <table class="table-bordered" style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_mmsm_dispatch_bundles" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_mmsm_dispatch_tons" style='font-size: large;margin:0px;font-weight:bold;color:black'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe, #fefefe);border-bottom: 1px solid #ebf5fb'>
                                            <table style='width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_mmsm_energy" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>

                                                    </tr>    
                                            </table> 
                                        </td>
                                    </tr>  

                                    <tr >
                                        <td id="tb_cell_wrm1" onclick="open_wrm1()" style='text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb;cursor: pointer '>
                                                <span id="span_wrm1" style="font-size:small;font-family: cursive; " data-toggle="tooltip" data-placement="right" title='WRM1' class="badge">WRM1</span>
                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb  '>

                                                <table class="table-bordered" style='table-layout:fixed;border-radius:10px;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm1_profile" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:blue'></h5>
                                                        </td>

                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm1_production" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm1_tons" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:green'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>   
                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe, #fefefe);  border-bottom: 1px solid #ebf5fb '>

                                                <table style='width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm1_delay" style='font-size:medium;margin:0px;font-weight:bold;'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe , #fefefe);margin:0px; padding:00px;border-bottom: 1px solid #ebf5fb '>

                                                <table class="table-bordered" style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm1_dispatch_bundles" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm1_dispatch_tons" style='font-size: large;margin:0px;font-weight:bold;color:black'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe, #fefefe);border-bottom: 1px solid #ebf5fb'>
                                            <table style='border-radius:10px;;width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm1_energy" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>

                                                    </tr>    
                                            </table> 
                                        </td>

                                    </tr>  

                                    <tr >
                                        <td id="tb_cell_wrm2" onclick="open_wrm2()" style='text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb;cursor:pointer '>
                                                <span id="span_wrm2" style="font-size:small;font-family: cursive; " data-toggle="tooltip" data-placement="right" title='WRM2' class="badge">WRM2</span>
                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb  '>

                                                <table class="table-bordered" style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm2_profile" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:blue'></h5>
                                                        </td>

                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm2_production" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm2_tons" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:green'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>   
                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe, #fefefe);  border-bottom: 1px solid #ebf5fb '>

                                                <table style='width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm2_delay" style='font-size:medium;margin:0px;font-weight:bold;'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe , #fefefe);margin:0px; padding:0px;border-bottom: 1px solid #ebf5fb '>

                                                <table class="table-bordered" style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                       
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm2_dispatch_bundles" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm2_dispatch_tons" style='font-size: large;margin:0px;font-weight:bold;color:black'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe, #fefefe);border-bottom: 1px solid #ebf5fb'>
                                            <table style='border-radius:10px;;width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_wrm2_energy" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>

                                                    </tr>    
                                                </table> 
                                        </td>

                                    </tr>  

                                    <tr >
                                        <td id="tb_cell_sbm" onclick="open_sbm()" style='text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb;cursor:pointer '>
                                                <span id="span_sbm" style="font-size:small;font-family: cursive; " data-toggle="tooltip" data-placement="right" title='SBM' class="badge">SBM</span>
                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb  '>

                                                <table class="table-bordered" style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_sbm_profile" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:blue'></h5>
                                                        </td>

                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_sbm_production" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_sbm_tons" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:green'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>   
                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe, #fefefe);  border-bottom: 1px solid #ebf5fb '>

                                                <table style='width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_sbm_delay" style='font-size:medium;margin:0px;font-weight:bold;'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe , #fefefe);margin:0px; padding:0px; border-bottom: 1px solid #ebf5fb'>

                                                <table class="table-bordered" style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_sbm_dispatch_bundles" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_sbm_dispatch_tons" style='font-size: large;margin:0px;font-weight:bold;color:black'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe, #fefefe);border-bottom: 1px solid #ebf5fb'>
                                            <table style='border-radius:10px;;width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_sbm_energy" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>

                                                    </tr>    
                                                </table> 
                                        </td>

                                    </tr>  

                                    <tr >
                                        <td id="tb_cell_stm" onclick="open_stm()" style='text-align:center;vertical-align: middle;margin:auto; padding:1px;border-bottom: 1px solid #ebf5fb; cursor:pointer '>
                                                <span id="span_stm" style="font-size:small;font-family: cursive; " data-toggle="tooltip" data-placement="right" title='STM' class="badge">STM</span>
                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe , #d6eaf8);text-align:center;vertical-align: middle;margin:auto; padding:1px;'>

                                                <table class="table-bordered" style='table-layout:fixed;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr >
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_stm_profile" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:blue'></h5>
                                                        </td>

                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_stm_production" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_stm_tons" style='font-size: large;text-align:center;margin:auto;font-weight:bold;color:green'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>   
                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe, #fadbd8); border-bottom: 1px solid #ebf5fb  '>

                                                <table style='width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_stm_delay" style='font-size:medium;margin:0px;font-weight:bold;'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient( #fefefe , #a3e4d7); '>

                                                <table class="table-bordered" style='table-layout:fixed;border-radius:10px;;width:100%;overflow:auto;margin:0px;padding:0px;height:100%' >  
                                                    <tr>
                                                        
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_stm_dispatch_bundles" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_stm_dispatch_tons" style='font-size: large;margin:0px;font-weight:bold;color:black'></h5>
                                                        </td>

                                                    </tr>    
                                                </table>      

                                        </td>
                                        <td style='background-image:linear-gradient(#fefefe, #f7dc6f)'>
                                            <table style='border-radius:10px;;width:100%;overflow:auto;margin:0px;padding:0px;' >  
                                                    <tr>
                                                        <td style='text-align:center; vertical-align:middle;'>
                                                            <h5 id="td_stm_energy" style='font-size: large;margin:0px;font-weight:bold;color:gray'></h5>
                                                        </td>

                                                    </tr>    
                                            </table> 
                                        </td>

                                    </tr>  

                                </table>
                            </div>    

                            <div style='width:auto;margin:auto;'  class="col-md-4"  > 

                                <div style='width:100%;margin:0px;'  class="row"  > 

                                    <div onclick="show_monthly_production()" style='width:100%;margin:10px;padding:0px;border-radius:10px;border: 1px solid #21618c;cursor: pointer'  class="col-md-5"  >

                                        <table style='width:95%;overflow:auto;margin:5px;text-align:center;' >  

                                                <tr>

                                                    <th style='background-color:#d6eaf8; border-radius:5px;'>
                                                        <div  style='width:100%;border-radius:10px; margin:10px; padding:1px;' >  
                                                            <span style=' margin:auto' >

                                                                Production
                                                                <br>
                                                                <h6 style='color:#7b7d7d; margin:auto;'>Current Month</h6>
                                                            </span>
                                                        </div>
                                                    </th>

                                                </tr>  

                                                <tr>


                                                    <td style='background-image:linear-gradient(#d6eaf8 , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px; '>
                                                            <table style='width:auto;overflow:auto;margin:0px;padding:50px;' >  
                                                                <tr>
                                                                    <td  style='text-align:center; vertical-align:middle;padding:20px;'>
                                                                        <h3 id="total_production" style='text-align:center;margin:auto;font-weight:bold;color: #004085'> 0 / 0t</h3>
                                                                    </td>

                                                                </tr>    
                                                                <tr>
                                                                    <td style="width:auto">
                                                                        <div id="div_prod_chart" style="width:100%;">
                                                                            <canvas style="width:100%;" id="myChart_prod_summary"></canvas>
                                                                        </div>
                                                                    </td>
                                                                    
                                                                </tr>
                                                            </table>  
                                                    </td>

                                                </tr>                             


                                        </table>

                                    </div>

                                    <div onclick="show_monthly_delays()" style='width:100%;margin:10px;padding:0px;border-radius:10px;border: 1px solid #843534;cursor: pointer'  class="col-md-5"  >

                                        <table style='width:95%;overflow:auto;margin:5px;text-align:center;' >  

                                                <tr>

                                                    <th style='background-color:  #fdedec ; border-radius:5px;'>
                                                        <div style='width:100%;border-radius:10px; margin:10px; padding:1px;cursor: pointer' >  
                                                            <span style=' margin:auto' >

                                                                Delays
                                                                <br>
                                                                <h6 style='color: #7b7d7d ; margin:auto;'>Current Month</h6>
                                                            </span>
                                                        </div>
                                                    </th>

                                                </tr>  

                                                <tr>


                                                    <td style='background-image:linear-gradient( #fdedec , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px; '>
                                                            <table style='width:auto;overflow:auto;margin:0px;padding:50px;' >  
                                                                <tr>
                                                                    <td style='text-align:center; vertical-align:middle;padding:20px;'>
                                                                        <h3 id="total_delay"  style='text-align:center;margin:auto;font-weight:bold;color:  #cd6155'> 0 Min</h3>
                                                                    </td>

                                                                </tr>    
                                                                
                                                                <tr>
                                                                    <td style="width:100%">
                                                                        <div  style="width:100%">
                                                                            <canvas style="width:100%;" id="myChart_delay_summary"></canvas>
                                                                        </div>
                                                                    </td>
                                                                    
                                                                </tr>
                                                            </table>   
                                                    </td>

                                                </tr>                             


                                        </table>

                                    </div>
                                    
                                </div>    


                                <div style='width:100%;margin:auto;'  class="row"  > 

                                    <div onclick="show_monthly_dispatches()" style='width:100%;margin:10px;padding:0px;border-radius:10px;border: 1px solid  #16a085 ;cursor: pointer'  class="col-md-5"  >

                                        <table style='width:95%;overflow:auto;margin:5px;text-align:center;' >  

                                                <tr>

                                                    <th style='background-color: #d1f2eb; border-radius:5px;'>
                                                        <div  style='width:100%;border-radius:10px; margin:10px; padding:1px;' >  
                                                            <span style=' margin:auto' >

                                                                Dispatches
                                                                <br>
                                                                <h6 style='color: #7b7d7d; margin:auto;'>Current Month</h6>
                                                            </span>
                                                        </div>
                                                    </th>

                                                </tr>  

                                                <tr>


                                                    <td style='background-image:linear-gradient(#d1f2eb , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px; '>
                                                            <table style='width:100%;overflow:auto;margin:0px;padding:50px;' >  
                                                                <tr>
                                                                    <td style='text-align:center; vertical-align:middle;padding:20px;'>
                                                                        <h3 id="total_dispatch" style='text-align:center;margin:auto;font-weight:bold;color:#117a65'> 0 / 0t</h3>
                                                                    </td>

                                                                </tr>    
                                                            </table>   
                                                    </td>

                                                </tr>                             


                                        </table>

                                    </div>

                                    <div onclick="show_monthly_energy()" style='width:100%;margin:10px;padding:0px;border-radius:10px;border: 1px solid  #b9770e  ;cursor: pointer'  class="col-md-5"  >

                                        <table style='width:95%;overflow:auto;margin:5px;text-align:center;' >  

                                                <tr>

                                                    <th style='background-color:#fef9e7; border-radius:5px;'>
                                                        <div  style='width:100%;border-radius:10px; margin:10px; padding:1px;cursor: pointer' >  
                                                            <span style=' margin:auto' >

                                                                Energy 
                                                                <br>
                                                                <h6 style='color: #7b7d7d ; margin:auto;'>Current Month</h6>
                                                            </span>
                                                        </div>
                                                    </th>

                                                </tr>  

                                                <tr>


                                                    <td style='background-image:linear-gradient(  #fef9e7  , #fefefe);text-align:center;vertical-align: middle;margin:auto; padding:1px; '>
                                                            <table style='width:100%;overflow:auto;margin:0px;padding:50px;' >  
                                                                <tr>
                                                                    <td style='text-align:center; vertical-align:middle;padding:20px;'>
                                                                        <h3 id="total_energy" style='text-align:center;margin:auto;font-weight:bold;color:#a04000'> 0 MW</h3>
                                                                    </td>

                                                                </tr>    
                                                            </table>   
                                                    </td>

                                                </tr>                             


                                        </table>

                                    </div>
                                </div>   
                            </div>


                        </div>



                        <!-- Modal Daily production -->  
                        <div class="modal" id="myModal_production" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div class="modal-dialog">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;z-index: 9999; position:absolute; width:100%;">  
                                    <div class="modal-header">  
                                      <h4 class="modal-title">Today's Mills Production Data</h4>  

                                    </div>  
                                    <div class="modal-body">  
                                        <div  style='width:100%;' class="row"> 
                                            <div class="col-md-12"  >
                                                <canvas id="myChart_production" style="width:100%;max-width:600px"></canvas>
                                            </div>
                                        </div>    

                                    </div>  
                                    <div class="modal-footer">  
                                        <table style="background-color: #d6eaf8; text-align: center" class="table table-bordered">
                                           
                                            <tr>
                                                <th>

                                                </th>
                                                <th style="text-align: center">
                                                    A
                                                </th>
                                                <th style="text-align: center">
                                                    B
                                                </th>
                                                <th style="text-align: center">
                                                    C
                                                </th>
                                                <th style="text-align: center">
                                                    Total Billets
                                                </th>
                                                <th style="text-align: center">
                                                    Total Tonnage
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color:#1c2b63; color:white">
                                                    LMMM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_lmmm_A_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_lmmm_B_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_lmmm_C_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_lmmm_total_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_lmmm_total_weight" style='font-weight: bold;'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color:#555104; color:white">
                                                    MMSM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_mmsm_A_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_mmsm_B_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_mmsm_C_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_mmsm_total_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_mmsm_total_weight" style='font-weight: bold;'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: blue; color:white">
                                                    WRM1
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm1_A_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm1_B_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm1_C_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm1_total_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm1_total_weight" style='font-weight: bold;'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: orange; color:white">
                                                    WRM2
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm2_A_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm2_B_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm2_C_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm2_total_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm2_total_weight" style='font-weight: bold;'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: brown; color:white">
                                                    SBM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_sbm_A_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_sbm_B_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_sbm_C_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_sbm_total_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_sbm_total_weight" style='font-weight: bold;'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: purple; color:white">
                                                    STM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_stm_A_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_stm_B_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_stm_C_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_stm_total_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_stm_total_weight" style='font-weight: bold;'> </h6>
                                                </th>

                                            </tr>
                                            <tr style="background-color: pink; font-weight: bold">
                                                <th style="background-color: pink; color:black;vertical-align: middle">
                                                    Total
                                                </th>
                                                <th style="text-align: center;vertical-align: middle">
                                                    <h6 id="prod_total_A_count" style='font-weight: bold;'> </h6>
                                                </th>
                                                <th style="text-align: center;vertical-align: middle">
                                                    <h6 id="prod_total_B_count" style='font-weight: bold;'> </h6>
                                                </th>
                                                <th style="text-align: center;vertical-align: middle">
                                                    <h6 id="prod_total_C_count" style='font-weight: bold;'> </h6>
                                                </th>
                                                <th style="text-align: center;vertical-align: middle">
                                                    <h6 id="prod_total_count" style='font-weight: bold;'> </h6>
                                                </th>
                                                <th style="text-align: center;vertical-align: middle">
                                                    <h6 id="prod_total_weight" style='font-size: large; font-weight: bold;'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th colspan="6" style="text-align:right" >
                                                    <button type="button" class="btn btn-default" onclick="close_Modal_Production_D()">Close</button>  
                                                </th>


                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 

                        <!-- Modal Daily delays -->  
                        <div class="modal"  id="myModal_delays" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div class="modal-dialog">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;z-index: 9999; position:absolute; width:150%;">  
                                    <div class="modal-header">  
                                      <h4 class="modal-title">Today's Mills Delays</h4>  
                                    </div>  
                                    <div class="modal-body">  
                                        <div  style='width:100%;' class="row"> 
                                            <div class="col-md-12"  >
                                                <canvas id="myChart_delay" style="width:150%;max-width:600px"></canvas>
                                            </div>
                                        </div>    

                                    </div>  
                                    <div class="modal-footer">  
                                        <table style="background-color: #d6eaf8" class="table table-bordered">
                                           
                                            <tr>
                                                <th>

                                                </th>
                                                <th style="text-align:center">
                                                    A
                                                </th>
                                                <th style="text-align:center">
                                                    B
                                                </th>
                                                <th style="text-align:center">
                                                    C
                                                </th>
                                                <th style="text-align:center">
                                                    Total 
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color:#1c2b63; color:white">
                                                    LMMM
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_lmmm_A_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_lmmm_B_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_lmmm_C_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_lmmm_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                              

                                            </tr>
                                            <tr >
                                                <th style="background-color:#555104; color:white">
                                                    MMSM
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_mmsm_A_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_mmsm_B_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_mmsm_C_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_mmsm_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                                

                                            </tr>
                                            <tr>
                                                <th style="background-color: blue; color:white">
                                                    WRM1
                                                </th>
                                                <th>
                                                    <table style="width:100%;">
                                                       
                                                        <tr>
                                                            <td><h6 id="delay_wrm1_A_count_l1"> </h6></td>
                                                            <td><h6 id="delay_wrm1_A_count_l2"> </h6></td>
                                                            <td><h6 id="delay_wrm1_A_count_l3"> </h6></td>
                                                            <td><h6 id="delay_wrm1_A_count_l4"> </h6></td>
                                                        </tr>
                                                    </table>
                                                    
                                                </th>
                                                <th>
                                                    <table style="width:100%;">
                                                        
                                                        <tr>
                                                            <td><h6 id="delay_wrm1_B_count_l1"> </h6></td>
                                                            <td><h6 id="delay_wrm1_B_count_l2"> </h6></td>
                                                            <td><h6 id="delay_wrm1_B_count_l3"> </h6></td>
                                                            <td><h6 id="delay_wrm1_B_count_l4"> </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="width:100%;">
                                                        <tr>
                                                            <td><h6 id="delay_wrm1_C_count_l1"> </h6></td>
                                                            <td><h6 id="delay_wrm1_C_count_l2"> </h6></td>
                                                            <td><h6 id="delay_wrm1_C_count_l3"> </h6></td>
                                                            <td><h6 id="delay_wrm1_C_count_l4"> </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="width:100%;">
                                                        <tr>
                                                            <td><h6 id="delay_wrm1_total_count_l1" style='font-weight:bold'> </h6></td>
                                                            <td><h6 id="delay_wrm1_total_count_l2" style='font-weight:bold'> </h6></td>
                                                            <td><h6 id="delay_wrm1_total_count_l3" style='font-weight:bold'> </h6></td>
                                                            <td><h6 id="delay_wrm1_total_count_l4" style='font-weight:bold'> </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                
                                            </tr>
                                            <tr>
                                                <th style="background-color: orange; color:white">
                                                    WRM2
                                                </th>
                                                <th>
                                                    <table style="width:100%;">
                                                       
                                                        <tr>
                                                            <td style="text-align:center">
                                                                <h6 id="delay_wrm2_A_count_l1"> </h6>
                                                            </td>
                                                            <td style="text-align:center">
                                                                <h6 id="delay_wrm2_A_count_l2"> </h6>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="width:100%;">
                                                       
                                                        <tr>
                                                            <td style="text-align:center">
                                                                <h6 id="delay_wrm2_B_count_l1"> </h6>
                                                            </td>
                                                            <td style="text-align:center">
                                                                <h6 id="delay_wrm2_B_count_l2"> </h6>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="width:100%;">
                                                       
                                                        <tr>
                                                            <td>
                                                                <h6 id="delay_wrm2_C_count_l1"> </h6>
                                                            </td>
                                                            <td style="text-align:center">
                                                                <h6 id="delay_wrm2_C_count_l2"> </h6>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="width:100%;">
                                                       
                                                        <tr>
                                                            <td style="text-align:center">
                                                                <h6 id="delay_wrm2_total_count_l1" style='font-weight:bold'> </h6>
                                                            </td>
                                                            <td style="text-align:center">
                                                                <h6 id="delay_wrm2_total_count_l2" style='font-weight:bold'> </h6>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color: brown; color:white">
                                                    SBM
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_sbm_A_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_sbm_B_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_sbm_C_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_sbm_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                                

                                            </tr>
                                            <tr>
                                                <th style="background-color: purple; color:white">
                                                    STM
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_stm_A_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_stm_B_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_stm_C_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_stm_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                              

                                            </tr>
                                            <tr style="background-color: pink; font-weight: bold">
                                                <th style="background-color: pink; text-align:center;color:black;vertical-align: middle">
                                                    Total
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_total_A_count" style='font-size:large;font-weight:bold'> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_total_B_count" style='font-size:large;font-weight:bold'> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_total_C_count" style='font-size:large;font-weight:bold'> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_total_count" style='font-size:large;font-weight:bold'> </h6>
                                                </th>
                                                

                                            </tr>
                                            <tr>
                                                <th colspan="6" style="text-align:right" >
                                                    <button type="button" class="btn btn-default" onclick="close_Modal_Delays_D()">Close</button>  
                                                </th>


                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 

                        <!-- Modal Daily dispatches -->  
                        <div  class="modal" id="myModal_dispatches" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div  class="modal-dialog" style="width:200%;">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="z-index: 9999; position:absolute; width:150%;">  
                                    <div class="modal-header">  
                                      <h4 class="modal-title">Today's Mills Dispatches</h4>  
                                    </div>  
                                    <div class="modal-body">  
                                        <div  style='width:150%;' class="row"> 
                                            <div class="col-md-12"  >
                                                <canvas id="myChart_dispatch" style="width:100%;max-width:600px"></canvas>
                                            </div>
                                        </div>    

                                    </div>  
                                    <div style="width:100%;" class="modal-footer">  
                                        <table style="width:100%; padding:10px;" class="table table-striped table-bordered" >
                                           
                                            <tr>
                                                <th>
                                                    
                                                </th>
                                                <th>
                                                    <table style="margin:0px;border:1px solid black;width:100%">
                                                        <tr>
                                                        <td style="text-align: center" colspan="2"> A 
                                                        </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="text-align: center"> <h6> CDY </h6> </td>
                                                            <td style="text-align: center"> <h6> ROAD </h6> </td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;border:1px solid black; width:100%;">
                                                        <tr>
                                                        <td style="text-align: center" colspan="2"> B
                                                        </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="text-align: center"> <h6> CDY </h6></td>
                                                            <td style="text-align: center"> <h6> ROAD </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;border:1px solid black; width:100%">
                                                        <tr>
                                                        <td style="text-align: center" colspan="2"> C
                                                        </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="text-align: center"> <h6> CDY </h6></td>
                                                            <td style="text-align: center"> <h6> ROAD </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;border:1px solid black; width:100%;">
                                                        <tr>
                                                        <td style="text-align: center" colspan="2"> Total Tonnage
                                                        </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="text-align: center"> <h6> CDY </h6></td>
                                                            <td style="text-align: center"> <h6> ROAD </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;border:1px solid black; width:100%;">
                                                        <tr>
                                                        <td style="text-align: center" colspan="2"> Total Bundles
                                                        </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="text-align: center"> <h6> CDY </h6></td>
                                                            <td style="text-align: center"> <h6> ROAD </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>

                                            </tr>
                                            
                                            <tr style="background-color: mistyrose;">
                                                <th style="background-color:#1c2b63; color:white;vertical-align: middle">
                                                    LMMM
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%;">
                                                        
                                                        <tr>
                                                            <td style="text-align: center; font-weight: bolder"> <h6 id="dispatch_lmmm_A_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_lmmm_A_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_lmmm_B_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_lmmm_B_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_lmmm_C_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_lmmm_C_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_lmmm_total_cdy_tons">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_lmmm_total_road_tons">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_lmmm_total_cdy_bundles">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_lmmm_total_road_bundles">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>

                                            </tr>
                                            
                                            <tr style="background-color:  #eafce9 ">
                                                <th style="background-color:#555104; color:white;vertical-align: middle">
                                                    MMSM
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_A_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_A_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_B_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_B_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_C_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_C_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_total_cdy_tons">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_total_road_tons">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_total_cdy_bundles">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_mmsm_total_road_bundles">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>

                                            </tr>
                                            
                                            <tr style="background-color: #e9f6fc  ">
                                                <th style="background-color: blue; color:white;vertical-align: middle">
                                                    WRM1
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_A_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_A_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_B_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_B_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_C_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_C_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_total_cdy_tons">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_total_road_tons">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_total_cdy_bundles">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm1_total_road_bundles">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>

                                            </tr>
                                            
                                            <tr style="background-color: #fef5e1">
                                                <th style="background-color: orange; color:white;vertical-align: middle">
                                                    WRM2
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center;"> <h6 id="dispatch_wrm2_A_cdy_count">  </h6></td>
                                                            <td style="text-align: center;"> <h6 id="dispatch_wrm2_A_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm2_B_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm2_B_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm2_C_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm2_C_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm2_total_cdy_tons">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm2_total_road_tons">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm2_total_cdy_bundles">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_wrm2_total_road_bundles">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>

                                            </tr>
                                            
                                            <tr style="background-color: #e7d4c8">
                                                <th style="background-color: brown; color:white;vertical-align: middle">
                                                    SBM
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_A_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_A_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_B_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_B_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_C_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_C_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_total_cdy_tons">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_total_road_tons">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_total_cdy_bundles">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_sbm_total_road_bundles">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>

                                            </tr>
                                            
                                            <tr style="background-color: #fce4fd ">
                                                <th style="background-color: purple; color:white;vertical-align: middle">
                                                    STM
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_A_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_A_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_B_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_B_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_C_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_C_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_total_cdy_tons"> </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_total_road_tons">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_total_cdy_bundles">  </h6></td>
                                                            <td style="text-align: center"> <h6 id="dispatch_stm_total_road_bundles">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>

                                            </tr>
                                            
                                            <tr style="background-color: #fff4fd  ">
                                                <th style="background-color: pink; color:black; vertical-align: middle">
                                                    Sub-Total
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_A_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_A_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_B_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_B_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_C_cdy_count">  </h6></td>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_C_road_count">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_cdy_tons"> </h6></td>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_road_tons">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>
                                                <th>
                                                    <table style="margin:0px;width:100%">
                                                        
                                                        <tr>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_cdy_bundles">  </h6></td>
                                                            <td style="text-align: center"> <h6 style="font-weight: bolder" id="dispatch_total_road_bundles">  </h6></td>
                                                        </tr>
                                                    </table>
                                                </th>

                                            </tr>
                                            
                                            <tr style="background-color: #e5fef8  ">
                                                <th style="background-color: #d1f2eb; color:black; vertical-align: middle">
                                                    Total
                                                </th>
                                                <th>
                                                    <h6 style="font-weight: bolder" id="dispatch_total_A_count">  </h6>
                                                </th>
                                                <th>
                                                    <h6 style="font-weight: bolder" id="dispatch_total_B_count">  </h6>
                                                </th>
                                                <th>
                                                    <h6 style="font-weight: bolder" id="dispatch_total_C_count">  </h6>
                                                </th>
                                                <th>
                                                    <h6 style="font-weight: bolder" id="dispatch_total_tons">  </h6>
                                                </th>
                                                <th>
                                                    <h6 style="font-weight: bolder" id="dispatch_total_bundles">  </h6>
                                                </th>

                                            </tr>
                                            
                                            <tr>
                                                <th colspan="6" style="text-align:right" >
                                                    <button type="button" class="btn btn-default" onclick="close_Modal_Dispatches_D()" >Close</button>  
                                                </th>


                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 

                        <!-- Modal Daily energy -->  
                        <div class="modal" id="myModal_energy" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div class="modal-dialog">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;z-index: 9999; position:absolute; width:100%;">  
                                    <div class="modal-header">  
                                      <h4 class="modal-title">Today's Mills Energy Consumption</h4>  
                                    </div>  
                                    <div class="modal-body">  
                                        <div  style='width:100%;' class="row"> 
                                            <div class="col-md-12"  >
                                                <canvas id="myChart_energy" style="width:100%;max-width:600px"></canvas>
                                            </div>
                                        </div>    

                                    </div>  
                                    <div class="modal-footer">  
                                        <table style="background-color: #d6eaf8" class="table table-bordered">
                                           
                                            <tr>
                                                <th>

                                                </th>
                                                <th style='text-align:center'>
                                                    A
                                                </th>
                                                <th  style='text-align:center'>
                                                    B
                                                </th>
                                                <th  style='text-align:center'>
                                                    C
                                                </th>
                                                <th  style='text-align:center'>
                                                    Total 
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color:#1c2b63; color:white">
                                                    LMMM
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_lmmm_A_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_lmmm_B_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_lmmm_C_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_lmmm_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color:#555104; color:white">
                                                    MMSM
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_mmsm_A_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_mmsm_B_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_mmsm_C_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_mmsm_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color: blue; color:white">
                                                    WRM1
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_wrm1_A_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_wrm1_B_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_wrm1_C_count"> </h6>
                                                </th>
                                                <th  style='text-align:center;font-weight:bold'>
                                                    <h6 id="energy_wrm1_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color: orange; color:white">
                                                    WRM2
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_wrm2_A_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_wrm2_B_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_wrm2_C_count"> </h6>
                                                </th>
                                                <th  style='text-align:center;font-weight:bold'>
                                                    <h6 id="energy_wrm2_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color: brown; color:white">
                                                    SBM
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_sbm_A_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_sbm_B_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_sbm_C_count"> </h6>
                                                </th>
                                                <th  style='text-align:center;font-weight:bold'>
                                                    <h6 id="energy_sbm_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color: purple; color:white">
                                                    STM
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_stm_A_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_stm_B_count"> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_stm_C_count"> </h6>
                                                </th>
                                                <th  style='text-align:center;font-weight:bold'>
                                                    <h6 id="energy_stm_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                              

                                            </tr>
                                            <tr style="background-color: pink; font-weight: bold">
                                                <th style="background-color: pink; color:black;vertical-align: middle">
                                                    Total
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_total_A_count" style='font-weight:bold'> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_total_B_count" style='font-weight:bold'> </h6>
                                                </th>
                                                <th  style='text-align:center'>
                                                    <h6 id="energy_total_C_count" style='font-weight:bold'> </h6>
                                                </th>
                                                <th  style='text-align:center;font-weight:bold'>
                                                    <h6 id="energy_total_count" style='font-weight:bold'> </h6>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th colspan="6" style="text-align:right" >
                                                    <button type="button" class="btn btn-default" onclick="close_Modal_Energy_D()">Close</button>  
                                                </th>


                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 


                        <!-- Modal Monthly production -->  
                        <div  class="modal" id="myModal_monthly_production" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div class="modal-dialog ">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;z-index: 9999; position:absolute; width:150%;">  
                                    <div class="modal-header">  
                                      <h4 class="modal-title">Current-Month, Mills Production Data</h4>  

                                    </div>  
                                    <div class="modal-body">  
                                        <div  style='width:100%;' class="row"> 
                                            <div class="col-md-8" style='height:300px;' >
                                                
                                                <canvas id="myChart_monthly_production" ></canvas>
                                             
                                            </div>
                                            
                                            <div class="col-md-4" style='height:300px;' >
                                                <canvas id="myChart_monthly_production_percentage" ></canvas>
   
                                            </div>    
                                         
                                        </div>    

                                    </div>  
                                    <div class="modal-footer">  
                                        <table style="background-color: #d6eaf8; text-align: center" class="table table-bordered">
                                           
                                            <tr>
                                                <th>

                                                </th>
                                                <th style="text-align: center; color:gray">
                                                    Total Billets
                                                </th>
                                                <th style="text-align: center; color:gray">
                                                    Total Tonnage
                                                </th>
                                                <th style="text-align: center; color:gray">
                                                    % of Total Production
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: #1c2b63 ; color:white">
                                                    LMMM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_lmmm_month_count"> </h6>
                                                </th>
                                                <th style="text-align: center; ">
                                                    <h6 id="prod_lmmm_month_weight" style="font-weight:bolder"> </h6>
                                                </th>
                                                <th style="text-align: center; ">
                                                    <h6 id="prod_lmmm_month_percent" style="font-weight:bolder;"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color:#555104; color:white">
                                                    MMSM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_mmsm_month_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_mmsm_month_weight" style="font-weight:bolder"> </h6>
                                                </th>
                                                <th style="text-align: center; ">
                                                    <h6 id="prod_mmsm_month_percent" style="font-weight:bolder"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: blue; color:white">
                                                    WRM1
                                                </th>
                                                
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm1_month_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm1_month_weight" style="font-weight:bolder"> </h6>
                                                </th>
                                                <th style="text-align: center; ">
                                                    <h6 id="prod_wrm1_month_percent" style="font-weight:bolder"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: orange; color:white">
                                                    WRM2
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm2_month_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_wrm2_month_weight" style="font-weight:bolder"> </h6>
                                                </th>
                                                <th style="text-align: center; ">
                                                    <h6 id="prod_wrm2_month_percent" style="font-weight:bolder"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: brown; color:white">
                                                    SBM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_sbm_month_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_sbm_month_weight" style="font-weight:bolder"> </h6>
                                                </th>
                                                <th style="text-align: center; ">
                                                    <h6 id="prod_sbm_month_percent" style="font-weight:bolder"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: purple; color:white">
                                                    STM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_stm_month_count"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_stm_month_weight" style="font-weight:bolder"> </h6>
                                                </th>
                                                <th style="text-align: center; ">
                                                    <h6 id="prod_stm_month_percent" style="font-weight:bolder"> </h6>
                                                </th>

                                            </tr>
                                            <tr style="background-color: pink; font-weight: bold">
                                                <th style="background-color: pink; color:black;vertical-align: middle">
                                                    Total
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_total_month_count" style="font-weight:bolder; font-size: large"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="prod_total_month_weight" style="font-weight:bolder; font-size: larger"> </h6>
                                                </th>
                                                <th style="text-align: center; ">
                                                    <h6 id="prod_total_month_percent" style="font-weight:bolder"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th colspan="6" style="text-align:right" >
                                                    <button type="button" class="btn btn-default" onclick="close_Modal_Production_M()">Close</button>  
                                                </th>


                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 
                        
                         <!-- Modal Monthly dispatches -->  
                        <div class="modal" id="myModal_monthly_dispatches" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div class="modal-dialog">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;z-index: 9999; position:absolute; width:150%;">  
                                    <div class="modal-header">  
                                      <h4 class="modal-title">Current-Month,  Mills Dispatch Data</h4>  

                                    </div>  
                                    <div class="modal-body">  
                                        <div  style='width:100%;' class="row"> 
                                            <div class="col-md-8"  >
                                                <canvas id="myChart_monthly_dispatch" style="width:100%;max-width:600px"></canvas>
                                            </div>
                                            <div class="col-md-4"  >
                                                <canvas id="myChart_monthly_dispatch_percentage" style="width:100%;max-width:600px"></canvas>
                                            </div>
                                        </div>    

                                    </div>  
                                    <div class="modal-footer">  
                                        <table style="background-color: #d6eaf8; text-align: center" class="table table-bordered">
                                           
                                            <tr>
                                                <th>

                                                </th>
                                                <th style="text-align: center;color:gray">
                                                    Total Tonnage (to CDY/Internal)
                                                </th>
                                                <th style="text-align: center;color:gray">
                                                    Total Tonnage (to Customer by ROAD)
                                                </th>
                                                <th style="text-align: center;color:gray">
                                                    Total Tonnage (All)
                                                </th>
                                                <th style="text-align: center;color:gray">
                                                    % of Total Dispatch
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color:#1c2b63; color:white">
                                                    LMMM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_lmmm_cdy_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_lmmm_road_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_lmmm_total_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_lmmm_total_month_percent"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color:#555104; color:white">
                                                    MMSM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_mmsm_cdy_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_mmsm_road_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_mmsm_total_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_mmsm_total_month_percent"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: blue; color:white">
                                                    WRM1
                                                </th>
                                                
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_wrm1_cdy_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_wrm1_road_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_wrm1_total_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_wrm1_total_month_percent"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: orange; color:white">
                                                    WRM2
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_wrm2_cdy_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_wrm2_road_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_wrm2_total_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_wrm2_total_month_percent"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: brown; color:white">
                                                    SBM
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_sbm_cdy_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_sbm_road_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_sbm_total_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_sbm_total_month_percent"> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: purple; color:white">
                                                    STM
                                                </th>
                                                
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_stm_cdy_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_stm_road_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_stm_total_month_weight"> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_stm_total_month_percent"> </h6>
                                                </th>

                                            </tr>
                                            <tr style="background-color: pink; font-weight: bold">
                                                <th style="background-color: pink; color:black; vertical-align: middle">
                                                    Total
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_total_cdy_month_weight" style='font-size: large; font-weight: bolder'> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_total_road_month_weight" style='font-size: large; font-weight: bolder'> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_total_month_weight" style='font-size: large; font-weight: bolder'> </h6>
                                                </th>
                                                <th style="text-align: center">
                                                    <h6 id="dispatch_total_month_percent" style='font-size: large; font-weight: bolder'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th colspan="6" style="text-align:right" >
                                                    <button type="button" class="btn btn-default" onclick="close_Modal_Dispatches_M()">Close</button>  
                                                </th>


                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 
                        
                        <!-- Modal Monthly delays -->  
                        <div class="modal"  id="myModal_monthly_delays" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div class="modal-dialog">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;z-index: 9999; position:absolute; width:150%;">  
                                    <div class="modal-header">  
                                      <h4 class="modal-title">Current-Month, Mills Delays</h4>  
                                    </div>  
                                    <div class="modal-body">  
                                        <div  style='width:100%;' class="row"> 
                                            <div class="col-md-8"  >
                                                <canvas id="myChart_monthly_delay" style="width:100%;max-width:600px"></canvas>
                                            </div>
                                            <div class="col-md-4"  >
                                                <canvas id="myChart_monthly_delay_percentage" style="width:100%;max-width:600px"></canvas>
                                            </div>
                                        </div>    

                                    </div>  
                                    <div class="modal-footer">  
                                        <table style="background-color: #d6eaf8" class="table table-bordered">
                                           
                                            <tr>
                                                <th>

                                                </th>
                                                <th style="text-align:center;color:gray">
                                                    Delays in Minutes 
                                                </th>
                                                <th style="text-align:center;color:gray">
                                                    Total Minutes 
                                                </th>
                                                <th style="text-align:center;color:gray">
                                                    % of Rolling 
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color:#1c2b63; color:white">
                                                    LMMM
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_lmmm_month_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_lmmm_month_total"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_lmmm_month_percent"> </h6>
                                                </th>


                                            </tr>
                                            <tr >
                                                <th style="background-color:#555104; color:white">
                                                    MMSM
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_mmsm_month_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_mmsm_month_total"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_mmsm_month_percent"> </h6>
                                                </th>
                                                

                                            </tr>
                                            <tr>
                                                <th style="background-color: blue; color:white">
                                                    WRM1
                                                </th>
                                                <th style="text-align:center">
                                                     <h6 id="delay_wrm1_month_count"> </h6>                                                    <h6 id="delay_lmmm_month_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_wrm1_month_total"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_wrm1_month_percent"> </h6>
                                                </th>
                                                
                                                
                                            </tr>
                                            <tr>
                                                <th style="background-color: orange; color:white">
                                                    WRM2
                                                </th>
                                                <th style="text-align:center">
                                                   <h6 id="delay_wrm2_month_count"> </h6>  
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_wrm2_month_total"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_wrm2_month_percent"> </h6>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color: brown; color:white">
                                                    SBM
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_sbm_month_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_sbm_month_total"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_sbm_month_percent"> </h6>
                                                </th>
                                                

                                            </tr>
                                            <tr>
                                                <th style="background-color: purple; color:white">
                                                    STM
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_stm_month_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_stm_month_total"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_stm_month_percent"> </h6>
                                                </th>
                                              

                                            </tr>
                                            <tr style="background-color: pink; font-weight: bold">
                                                <th style="background-color: pink; text-align:center;color:black;vertical-align: middle">
                                                    Total
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_total_month_count"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_total_month_total"> </h6>
                                                </th>
                                                <th style="text-align:center">
                                                    <h6 id="delay_total_month_percent"> </h6>
                                                </th>
                                                

                                            </tr>
                                            <tr>
                                                <th colspan="6" style="text-align:right" >
                                                    <button type="button" class="btn btn-default" onclick="close_Modal_Delays_M()">Close</button>  
                                                </th>


                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 
                        
                        <!-- Modal Monthly energy -->  
                        <div class="modal" id="myModal_monthly_energy" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div class="modal-dialog">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;z-index: 9999; position:absolute; width:150%;">  
                                    <div class="modal-header">  
                                      <h4 class="modal-title">Current-Month, Mills Energy Consumption</h4>  
                                    </div>  
                                    <div class="modal-body">  
                                        <div  style='width:100%;' class="row"> 
                                            <div class="col-md-8"  >
                                                <canvas id="myChart_monthly_energy" style="width:100%;max-width:600px"></canvas>
                                            </div>
                                            <div class="col-md-4"  >
                                                <canvas id="myChart_monthly_energy_percentage" style="width:100%;max-width:600px"></canvas>
                                            </div>
                                        </div>    

                                    </div>  
                                    <div class="modal-footer" >  
                                        <table style="background-color: #d6eaf8;width:100%;margin:auto" class="table table-bordered">
                                           
                                            <tr>
                                                <th>

                                                </th>
                                                <th style='text-align:center;color:gray'>
                                                    Energy Consumption (MW)
                                                </th>
                                                <th style='text-align:center;color:gray'>
                                                    Production in Tonnage
                                                </th>
                                                <th style='text-align:center;color:gray'>
                                                    Energy (KWH/Tonnage)
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color:#1c2b63; color:white">
                                                    LMMM
                                                </th>
                                               
                                                <th style='text-align:center'>
                                                    <h6 id="energy_lmmm_month_power" style='font-weight:bolder'> </h6>
                                                </th>
                                                <th style='text-align:center'>
                                                    <h6 id="energy_lmmm_month_production" style='font-weight:bolder'> </h6>
                                                </th>
                                                <th style='text-align:center'>
                                                    <h6 id="energy_lmmm_month_per_ton" style='font-weight:bolder'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color:#555104; color:white">
                                                    MMSM
                                                </th>
                                                
                                                <th style='text-align:center'>
                                                    <h6 id="energy_mmsm_month_power" style='font-weight:bolder'> </h6>
                                                </th>
                                               
                                                <th style='text-align:center'>
                                                    <h6 id="energy_mmsm_month_production" style='font-weight:bolder'> </h6>
                                                </th>
                                                 <th style='text-align:center'>
                                                    <h6 id="energy_mmsm_month_per_ton" style='font-weight:bolder'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: blue; color:white">
                                                    WRM1
                                                </th>
                                               
                                                <th style='text-align:center'>
                                                    <h6 id="energy_wrm1_month_power" style='font-weight:bolder'> </h6>
                                                </th>
                                               
                                                <th style='text-align:center'>
                                                    <h6 id="energy_wrm1_month_production" style='font-weight:bolder'> </h6>
                                                </th>
                                                 <th style='text-align:center'>
                                                    <h6 id="energy_wrm1_month_per_ton" style='font-weight:bolder'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th style="background-color: orange; color:white">
                                                    WRM2
                                                </th>
                                               
                                                <th style='text-align:center'>
                                                    <h6 id="energy_wrm2_month_power" style='font-weight:bolder'> </h6>
                                                </th>
                                                
                                                <th style='text-align:center'>
                                                    <h6 id="energy_wrm2_month_production" style='font-weight:bolder'> </h6>
                                                </th>
                                                 <th style='text-align:center'>
                                                    <h6 id="energy_wrm2_month_per_ton" style='font-weight:bolder'> </h6>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color: brown; color:white">
                                                    SBM
                                                </th>
                                               
                                                <th style='text-align:center'>
                                                    <h6 id="energy_sbm_month_power" style='font-weight:bolder'> </h6>
                                                </th>
                                                
                                                <th style='text-align:center'>
                                                    <h6 id="energy_sbm_month_production" style='font-weight:bolder'> </h6>
                                                </th>
                                                 <th style='text-align:center'>
                                                    <h6 id="energy_sbm_month_per_ton" style='font-weight:bolder'> </h6>
                                                </th>
                                               

                                            </tr>
                                            <tr>
                                                <th style="background-color: purple; color:white">
                                                    STM
                                                </th>
                                                
                                                <th style='text-align:center'>
                                                    <h6 id="energy_stm_month_power" style='font-weight:bolder'> </h6>
                                                </th>
                                              
                                                <th style='text-align:center'>
                                                    <h6 id="energy_stm_month_production" style='font-weight:bolder'> </h6>
                                                </th>
                                                 <th style='text-align:center'>
                                                    <h6 id="energy_stm_month_per_ton" style='font-weight:bolder'> </h6>
                                                </th>

                                            </tr>
                                            <tr style="background-color: pink; font-weight: bold">
                                                <th style="background-color: pink; color:black;vertical-align: middle">
                                                    Total
                                                </th>
                                               
                                                <th style='text-align:center'>
                                                    <h6 id="energy_total_month_power" style='font-weight:bolder;font-size: large'> </h6>
                                                </th>
                                               
                                                <th style='text-align:center'>
                                                    <h6 id="energy_total_month_production" style='font-weight:bolder'> </h6>
                                                </th>
                                                 <th style='text-align:center'>
                                                    <h6 id="energy_total_month_per_ton" style='font-weight:bolder'> </h6>
                                                </th>

                                            </tr>
                                            <tr>
                                                <th colspan="6" style="text-align:right" >
                                                    <button type="button" class="btn btn-default" onclick="close_Modal_Energy_M()">Close</button>  
                                                </th>


                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 
                        
                        <!-- Modal SMS -->  
                        <div  class="modal" id="myModal_SMS" data-backdrop="static" data-keyboard="false"  role="dialog" style="overflow:scroll;">  
                            <div class="modal-dialog ">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;width:150%;position:relative;z-index:999">  
                                    <div class="modal-header" style="background-color: #d1f2eb;cursor:move ">  
                                      <h4 class="modal-title" style="color:black">Prompt for sending SMS/Mails</h4>  
                                    </div>  
                                    <div class="modal-body">  
                                            <div >
                                                
                                                <table id="table_mail" style="width:100%;display:none">
                                                    <tr >
                                                        <td style="width:10%;color: #004085">
                                                            <h5> Mail Subject: </h5>
                                                        </td>
                                                        <td style="width:90%;">
                                                            <textarea style="width:100%;"   id="tb_subject" name="tb_subject" onkeypress="check_Subject_Length()"  onclick="move_cursor_subject()" placeholder="Enter mail subject ... maximum 120 chars" cols="20" rows="2" >

                                                            </textarea>
                                                        </td>
                                                    </tr>
                                                </table>
                                                <table style="width:100%;">
                                                    <tr>
                                                        <td style="width:10%;color: #004085">
                                                            <h5> Message Content: </h5>
                                                        </td>
                                                        <td style="width:90%; ">
                                                            <textarea style="width:100%;"   id="tb_sms" name="tb_sms" onkeypress="check_Length()"  onclick="move_cursor()" placeholder="Enter your message ... maximum 150 chars for SMS" cols="30" rows="5" >

                                                            </textarea>
                                                        </td>
                                                    </tr>
                                                </table>
                                                
                                                <table id="table_users" style="background-color: #fefefe; text-align: center;width:100%;overflow: hidden" class="table">

                                                </table>    
                                            </div>
                                    </div>  
                                    <div class="modal-footer">  
                                        <table style="background-color: #d6eaf8; text-align: center" class="table">
                                           
                                            <tr>
                                                <th style="padding:10px;text-align:right;color:gray">
                                                    <label>choose message type: </label>
                                                </th>
                                                <th style="padding:10px;text-align:left">
                                                    <input type="checkbox" name="cb_messages" id="cb_sms" value="SMS" style="padding:10px;" onclick='handleSMSClick(this);' > 
                                                    <label for="cb_sms">SMS</label>

                                                    <input type="checkbox" name="cb_messages" id="cb_mail" value="Mail" style="padding:10px;" onclick='handleMailClick(this);' > 
                                                    <label for="cb_mail">e-Mail</label>
                                                </th>    
                                            </tr>    
                                            <tr>
                                                <th style="text-align:right;width:50%;" >
                                                    <button type="button" class="btn btn-default" style="background-color: salmon" onclick="close_Modal_SMS()" >Close</button>  
                                                </th>
                                                
                                                <th style="text-align:left;width:50%;" >
                                                    <button type="button" class="btn btn-default" style="background-color: yellowgreen" onclick="submitMessage()" >Submit</button>  
                                                </th>
                                                
                                             
                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 
                        
                        <!-- Modal Notification -->  
                        <div  class="modal" id="myModal_Notification" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div class="modal-dialog ">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;z-index: 9999; position:absolute; width:100%;">  
                                    <div class="modal-header" style="background-color: #f1c40f ">  
                                      <h4 class="modal-title" style="color:black">Prompt for Notification</h4>  
                                    </div>  
                                    <div class="modal-body" >  
                                            <div  >
                                                
                                                <textarea style="width:100%;" id="tb_notification" name="tb_notification" onkeypress="check_Notification_Length()" onclick="move_notification_cursor()" placeholder="Enter your message" cols="70" rows="5" >

                                                </textarea>
                                                
                                            </div>
                                    </div>  
                                    <div class="modal-footer">  
                                        <table style="background-color: #d6eaf8; text-align: center" class="table">
                                           
                                            <tr>
                                                <th style="text-align:right" >
                                                    <button type="button" class="btn btn-default" style="background-color: salmon" onclick="close_Modal_Notification()">Close</button>  
                                                </th>
                                                
                                                <th style="text-align:left" >
                                                    <button type="button" class="btn btn-default" style="background-color: yellowgreen" onclick="submitNotification()" >Submit</button>  
                                                </th>
                                                
                                             
                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 
                        
                        <!-- Modal Login -->  
                        <div  class="modal" id="myModal_Login" data-backdrop="static" data-keyboard="false" role="dialog">  
                            <div class="modal-dialog ">  

                                <!-- Modal content-->  
                                <div class="modal-content" style="overflow:auto;z-index: 9999; position:absolute; width:100%;">  
                                    <div class="modal-header" style="background-color: olivedrab ">  
                                      <h4 class="modal-title" style="color:white">EIS Login</h4>  
                                    </div>  
                                    <div class="modal-body" style="width:90%;">  
                                        <table style="background-color: #fefefe; text-align: center" class="table table-light">
                                           
                                            <tr>
                                                <th style="text-align:center" >
                                                    <label for="tb_uid">Emp No:</label>
                                                    
                                                </th>
                                                <th>
                                                    <input type="text" maxlength="6" id="tb_uid" name="tb_uid"> 
                                                </th>
                                               
                                            </tr>
                                            <tr>
                                                <th style="text-align:center" >
                                                    <label for="tb_pwd">Password:</label>
                                                </th>
                                                <th>
                                                    <input type="password" id="tb_pwd" name="tb_pwd"> 
                                                    <img id="img_eye" data-toggle="tooltip" title="see password typed" src="images/eye_close.png" onclick="show_password()" style='width:30px;height:30px;' alt="message">

                                                </th>
                                              
                                            </tr>
                                        </table>  
                                        
                                         
                                    </div>  
                                    <div class="modal-footer">  
                                        <table style="background-color: #d6eaf8; text-align: center" class="table">
                                           
                                            <tr>
                                                <th style="text-align:right" >
                                                    <button type="button" class="btn btn-default" onclick="close_Modal_Login()">Cancel</button>  
                                                </th>
                                                
                                                <th style="text-align:left" >
                                                    <button type="button" class="btn btn-default" onclick="validate_EIS()" >Login</button>  
                                                </th>
                                                
                                             
                                            </tr>
                                        </table>  
                                    </div>  
                                </div>  

                            </div>  
                        </div> 
                        
                        <div style="display:none;"  class="modal" data-backdrop="static" id="loader">
                                <div class="modal-dialog modal-sm">
                                    <div class="modal-content">
                                        <div class="modal-body text-center">
                                            <div class="spinner-border text-success ">
                                                 
                                            </div>
                                        <div>Loading</div>
                                      </div>
                                    </div>
                                </div>

                        </div>  
                        
                    </div> 
                    
                </div> 
                
            </div>
            
            
        </div>       
        
       
        
        
         
        
    </body>
</html>
